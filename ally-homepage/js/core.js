/*! ally.main.js Concatenated on 07-02-2015 at 12:18:57 PM by MARC */
window.ALLY=window.ALLY||{},ALLY.namespace=function(ns){var i,len,parts=ns.split("."),object=this;for(i=0,len=parts.length;len>i;i++)object[parts[i]]||(object[parts[i]]={}),object=object[parts[i]];return object},ALLY.consoleDummy=function(con){function dummy(){}for(var func,methods=["error","info","log","warn"];func=methods.pop();)con[func]=con[func]||dummy}(window.console=window.console||{});
		/*! ally.util.js Concatenated on 06-16-2016 at 10:10:44 AM by GRUNDMAN */
var ALLY=ALLY||{};ALLY.util=$.extend(!0,{},ALLY.util||{},{isEmptyObject:function(obj){for(var key in obj)if(obj.hasOwnProperty(key))return!1;return!0},hasFlash:function(){var flashTestIE,hasFlash=!1;try{flashTestIE=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),flashTestIE&&(hasFlash=!0)}catch(e){void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&(hasFlash=!0)}return hasFlash},getPageJSON:function(callback,recache){var recache=recache||!1,$page=$("#page"),page_json=$page.data("ally-page-json"),cb=callback||function(){};if(recache||!page_json){var jsonUrl="";return jsonUrl=window.location.href.split("#").length>1?$('[data-pane-id="'+window.location.href.split("#")[1].split("=")[1]+'"]').attr("href"):window.location.href.split("#")[0],"/"===jsonUrl.charAt(jsonUrl.length-1)&&(jsonUrl+="index.html"),jsonUrl=jsonUrl.replace(".html",".json"),$.getJSON(jsonUrl).done(function(json){$page.data("ally-page-json",json),cb(json)}).fail(function(jqxhr,textStatus,error){console.log("error retrieving: "+jsonUrl)})}return cb(page_json?page_json:null)},getIEVersion:function(){var iev=0,ieold=/MSIE (\d+\.\d+);/.test(navigator.userAgent),trident=!!navigator.userAgent.match(/Trident\/7.0/),rv=navigator.userAgent.indexOf("rv:11.0");return ieold&&(iev=new Number(RegExp.$1)),-1!=navigator.appVersion.indexOf("MSIE 10")&&(iev=10),trident&&-1!=rv&&(iev=11),iev},logMessage:function(type){var debugMode=window.location.search.indexOf("debug")>-1;if(debugMode&&window.console)return"string"==typeof type&&console[type]?console[type].apply(console,Array.prototype.slice.call(arguments,1)):console.log.apply(console,arguments)}});
		/*! ajax.js Concatenated on 07-06-2015 at 9:20:10 AM by MARC */
var ALLY=ALLY||{};ALLY.utils=ALLY.utils||{},ALLY.utils.ajax={defaults:{timeout:1e4,cache:!0,modal:!1,modalWidth:640,modalHeight:"auto",dataType:"JSON"},init:function(userDefaults){ALLY.utils.ajax.defaultsOrig=jQuery.extend(!0,{},this.defaults),$.extend(ALLY.utils.ajax.defaults,userDefaults),$("html").addClass("ajax-init"),$("body").trigger("init.ajax")},core:{getMarkup:function(params){ALLY.utils.ajax.utils.initPage(params);var required=[[ALLY.utils.ajax.defaults.url,"Error: no 'url' parameter provided. Please supply a url in the parameter object."]];return ALLY.utils.ajax.utils.meetsRequirements(required),ALLY.utils.ajax.defaults.markup="",$.ajax({dataType:"html",url:ALLY.utils.ajax.defaults.url,cache:ALLY.utils.ajax.defaults.cache,success:function(markup){if(ALLY.utils.ajax.defaults.jsonMarkupNode){var nodes=ALLY.utils.ajax.defaults.jsonMarkupNode.split(".");for(markup=$.parseJSON(markup),i=0;i<nodes.length;i++)markup=markup[nodes[i]]}ALLY.utils.ajax.defaults.markup=markup,ALLY.utils.ajax.defaults.modal?$('<div class="ajaxed"></div>').appendTo($(ALLY.utils.ajax.defaults.inject_target)).append(markup).dialog({modal:!0,width:ALLY.utils.ajax.defaults.modalWidth,height:ALLY.utils.ajax.defaults.modalHeight}):ALLY.utils.ajax.defaults.inject_target&&$(ALLY.utils.ajax.defaults.inject_target).append('<div class="ajaxed">'+markup+"</div>"),ALLY.utils.ajax.utils.handlers.success(markup)},error:function(error){ALLY.utils.ajax.defaults.ret_obj=ALLY.utils.ajax.utils.handlers.error(error)}})},getData:function(params){ALLY.utils.ajax.defaults.localData=ALLY.utils.ajax.defaults.localData||{},ALLY.utils.ajax.utils.initPage(params);var required=[[ALLY.utils.ajax.defaults.url,"Error: no 'url' parameter provided. Please supply a url in the parameter object."]];return ALLY.utils.ajax.utils.meetsRequirements(required),$.ajax({dataType:ALLY.utils.ajax.defaults.dataType,url:ALLY.utils.ajax.defaults.url,cache:ALLY.utils.ajax.defaults.cache,success:function(data){return"function"==typeof params.callback&&params.callback(data),ALLY.utils.ajax.utils.handlers.success(data)},error:function(error){return ALLY.utils.ajax.utils.handlers.error(error)}})},sendData:function(params){ALLY.utils.ajax.utils.initPage(params);var dataToSend={},data=ALLY.utils.ajax.defaults.data,required=[[ALLY.utils.ajax.defaults.dataUrl,"Error: no 'dataUrl' parameter provided. Please supply a url in the parameter object."],[ALLY.utils.ajax.defaults.data,"Error: no 'data' parameter provided. Please supply a data source in the parameter object."]];return ALLY.utils.ajax.utils.meetsRequirements(required),"object"==typeof data&&"FORM"==$(data)[0].tagName?dataToSend=$(data).serialize():"object"==typeof data?dataToSend=$.param(data):"string"==typeof data&&(dataToSend=data),$.ajax({type:"GET",url:ALLY.utils.ajax.defaults.dataUrl,data:dataToSend,success:function(data){return"function"==typeof params.callback&&params.callback(data),ALLY.utils.ajax.utils.handlers.success(data)},error:function(error){return ALLY.utils.ajax.utils.handlers.error(error)},dataType:ALLY.utils.ajax.defaults.dataType})}},utils:{handlers:{success:function(data){$("body").trigger("success.ajax"),ALLY.utils.ajax.defaults.localData=data},error:function(error){$("body").trigger("error.ajax")}},restoreDefaults:function(){ALLY.utils.ajax.defaults=ALLY.utils.ajax.defaultsOrig},initPage:function(params){$("html").hasClass("ajax-init")||ALLY.utils.ajax.init(),$.extend(ALLY.utils.ajax.defaults,params)},meetsRequirements:function(required){for(var i=0;i<required.length;i++){var item=required[i];if(null===item[0]||"undefined"==typeof item[0]||item[0].length<=0)throw item[1]}}}};
		/*! browser-detect.js Concatenated on 09-03-2015 at 3:00:08 PM by THOMAS */
history&&history.setup(null,""),function($,ALLY){ALLY.namespace("utils.browserDetect"),ALLY.utils.browserDetect.properties={isXP:!1},ALLY.utils.browserDetect.init=function(){var req,self=this,browserInfo=self.browserInfo(),bankLoginStatus=$.cookie("mbox")?$.cookie("mbox").match(/bankCustomer:true/):!1;($.browser.msie||navigator.userAgent.match(/Trident/))&&$("html").addClass("ie ie"+parseInt(browserInfo.version,10)),bankLoginStatus&&(browserInfo.isBad||browserInfo.isMeh||browserInfo.isXP?(req=self.getMessages(),req.done(function(data){var message=data.res[browserInfo.messageProp];$("body").on("tracking.sitecatalyst.pageload",function(){ALLY.utils.browserDetect.tagging()}),self.showModal(message)}).fail(function(jqXHR,status,err){})):(req=self.getMessages(),req.done(function(data){data.res[browserInfo.messageProp]}).fail(function(jqXHR,status,err){})))},ALLY.utils.browserDetect.tagging=function(){if("object"==typeof s){$("body").on("click",".ui-modal-close",function(){s.pageName=ALLY.utils.browserDetect.isXP?s.pageName+"|UnsupportedBrowserXP":s.pageName+"|UnsupportedBrowserNotXP";var linkName=s.pageName+"|NotNowThanks";s.tl(this,"o",linkName)});var tempName=s.pageName;s.pageName=ALLY.utils.browserDetect.isXP?s.pageName+"|UnsupportedBrowserXP":s.pageName+"|UnsupportedBrowserNotXP",s.t(),s.pageName=tempName}},ALLY.utils.browserDetect.readCookie=function(cookieName){var ind1,theCookie=" "+document.cookie,ind=theCookie.indexOf(" "+cookieName+"=");return-1===ind&&(ind=theCookie.indexOf(";"+cookieName+"=")),-1===ind||""===cookieName?"":(ind1=theCookie.indexOf(";",ind+1),-1===ind1&&(ind1=theCookie.length),unescape(theCookie.substring(ind+cookieName.length+2,ind1)))},ALLY.utils.browserDetect.setCookie=function(cookieName,cookieValue,nDays){var today=expire=new Date;(null===nDays||0===nDays)&&(nDays=1),expire.setTime(today.getTime()+864e5*nDays),document.cookie=cookieName+"="+escape(cookieValue)+";expires="+expire.toGMTString()},ALLY.utils.browserDetect.showModal=function(message){$("body").append("<div id='browser-message'></div>"),$("#browser-message").modal({content:message,autoShow:!0,open:function(){$(".ui-modal").addClass("browser-message"),window.setTimeout(function(){$(window).trigger("resize")},1)}}),ALLY.utils.browserDetect.setCookie("browser","isBad",3)},ALLY.utils.browserDetect.browserInfo=function(browserArray,platform){browserArray=[{name:"chrome",version:1,prefVersion:1},{name:"msie",version:9,prefVersion:9},{name:"mozilla",version:1,prefVersion:1},{name:"webkit",version:1,prefVersion:1}],platform=[{name:"Windows NT 5.2"},{name:"Windows NT 5.1"},{name:"Windows NT 5.01"},{name:"Windows NT 5.0"},{name:"Windows NT 4.0"},{name:"Windows 98"},{name:"Windows 95"},{name:"Windows CE"}];var self=this,cookie=self.readCookie("browser"),webKit=$.browser.webkit,msie=$.browser.msie,mozilla=$.browser.mozilla,chrome=$.browser.chrome,version=parseInt($.browser.version,10),browserInfo={};if("isGreat"===cookie||"isMeh"===cookie||"isBad"===cookie)return browserInfo;for(var i=0;i<platform.length;i++)if(-1!==navigator.appVersion.indexOf(platform[i].name))return $.browser.msie&&(browserInfo.version=version,browserInfo.isXP=!0,browserInfo.messageProp="xpBrowser",ALLY.utils.browserDetect.isXP=!0),browserInfo;return chrome?browserInfo=self.getBrowser("chrome",browserArray):webKit?browserInfo=self.getBrowser("webkit",browserArray):msie?browserInfo=self.getBrowser("msie",browserArray):mozilla&&(browserInfo=self.getBrowser("mozilla",browserArray)),browserInfo},ALLY.utils.browserDetect.getMessages=function(){return $.ajax({url:"/resources/apps/global/browser-messages.json"})},ALLY.utils.browserDetect.getBrowser=function(browser,browserArray){for(var version=parseInt($.browser.version,10),browserInfo={isBad:!1,isMeh:!1,isGreat:!0},i=0;i<browserArray.length;i++)if(browser===browserArray[i].name)return version>=browserArray[i].prefVersion?(browserInfo.version=version,browserInfo.isGreat=!0,browserInfo.messageProp="goodBrowser"):version>=browserArray[i].version?(browserInfo.version=version,browserInfo.isMeh=!0,browserInfo.messageProp="mehBrowser"):(browserInfo.version=version,browserInfo.isBad=!0,browserInfo.messageProp="badBrowser"),browserInfo;return-1}}(jQuery,ALLY);
		/*! phonedetection.js Concatenated on 06-28-2016 at 4:06:57 PM by GSHANKAR */
!function($,window){var bank="#bank-info span[data-tel], #bank-info a[data-tel]",phoneBox=$(bank);if(phoneBox){var showPhoneBox=function(){$(phoneBox).removeClass("off")};if(window.sessionStorage.phoneNumber)return $(phoneBox).text(window.sessionStorage.phoneNumber),void showPhoneBox();for(var phoneNumberInsert="",phonePrefix="1-855-379",url=window.location.search,phoneBook=[{Category:"CONDD",Number:"4337"},{Category:"CONSDB",Number:"4374"},{Category:"CONSDN",Number:"4388"},{Category:"CONBRD",Number:"4395"},{Category:"CONBRR",Number:"4361"},{Category:"ENGDD",Number:"4375"},{Category:"CONDSP",Number:"4392"},{Category:"AWRDFP",Number:"4387"}],i=0;i<phoneBook.length;i++){var phone=phoneBook[i];if(url.indexOf(phone.Category)>-1){phoneNumberInsert=phonePrefix+"-"+phone.Number;break}}phoneNumberInsert&&($(phoneBox).text(phoneNumberInsert).attr("data-tel",phoneNumberInsert),sessionStorage.phoneNumber=phoneNumberInsert),showPhoneBox()}}(jQuery,window);
		/*! header.global.js Concatenated on 08-01-2016 at 4:03:00 PM by GSHANKAR */
var ally=ally||{};ally.header=ally.header||{},ally.header.Global=function($){function Navigation(el,options){return this instanceof Navigation?(this.el=$(el),void(this.options=$.extend({},defaults,options||{}))):new Navigation(el,options)}var defaults={legacyTracking:!0};return Navigation.prototype={init:function(){return this.el.length?void this.bindEvents():void(window.console&&window.console.log)},bindEvents:function(){var self=this;this.el.on("click","li > a",function(e){self.trackEvent(e,this)})},trackEvent:function(e,obj){if("undefined"!=typeof window.s&&this.options.legacyTracking){var page,linkName,link=$.trim($(e.target).text());page=window.s.pageName||"Ally:US:NotSet:NotSet:NotSet",linkName=page+"|Header_"+link,window.s.prop75=linkName,window.s.events=window.s.linkTrackEvents="event67",window.s.linkTrackVars="prop1,prop35,prop74,prop75,eVar74,events",window.s.tl(this,"o",linkName)}}},Navigation}($);
		/*! header.main.js Concatenated on 04-22-2016 at 8:40:21 PM by PARILLO */
var ally=ally||{};ally.header=ally.header||{},ally.header.Main=function($,_,postal){function Navigation(el,options){return this instanceof Navigation?(this.el=$(el),this.options=$.extend({},defaults,options||{}),this.topLink="",void(this.subLink="")):new Navigation(el,options)}var defaults={useOverlay:!0,simulate:"",legacyTracking:!0},channels={overlay:postal.channel("ally.services.overlay"),mediaQuery:postal.channel("ally.media-query")};Navigation.prototype={init:function(){return this.el.length?(this.bindEvents(),this.setActiveMenu(),void this.addOverlayTriggers()):void(window.console&&window.console.log)},bindEvents:function(){var self=this;this.el.on("click","li",function(e){var target=$(e.target),li=target.closest("li"),isActive=li.hasClass("show"),isTopLink=li.hasClass("top-menu-link"),isSubLink=li.hasClass("sub-menu-link");isTopLink?(self.el.find(".show").each(hideAll),self.topLink=self.subLink=""):(self.el.find(".sub-menu-link.show").each(hideAll),self.subLink=""),e.stopImmediatePropagation(),(isTopLink||isSubLink)&&e.preventDefault(),isTopLink&&(self.topLink=$.trim(target.text())),isSubLink&&(self.subLink=$.trim(target.text())),isActive?hideMenu($(this)):showMenu($(this)),isActive||!isTopLink&&!isSubLink||self.trackEvent(this),!isTopLink&&!isSubLink||$("body").hasClass("slide")||(self.options.useOverlay&&self.el.find(".show").length?channels.overlay.publish({topic:"show.nav",data:{source:self,location:"page-nav"}}):channels.overlay.publish({topic:"hide.nav",data:{source:self,location:"page-nav"}}))}),$("body").on("mousedown",function(e){self.el.find(".show").length&&(self.el.find($(e.target)).length||self.el.find(".show").each(hideAll))}),channels.overlay.subscribe({topic:"hide-modals",callback:function(){self.el.find(".show").each(hideAll)}}),channels.mediaQuery.subscribe({topic:"change.breakpoint",callback:function(data){if("small"===data.current){var openMenuItems=self.el.find(".show");openMenuItems.length&&(openMenuItems.each(hideAll),channels.overlay.publish({topic:"hide.nav",data:{source:self,location:"page-nav"}}))}}})},setActiveMenu:function(){var href,self=this,regex=/^\/+|\/$|index\.html?/gi,path=this.options.simulate?this.options.simulate.replace(regex,""):window.location.pathname.replace(regex,"");if(""!==path&&!/^(bank|auto|about)$/.test(path)){this.options.simulate&&$(".top-menu-link",self.el).removeClass("current");var anchor=$("a[href]",self.el).filter(function(){return href=$(this).attr("href").replace(regex,""),-1!==path.indexOf(href)}).sort(function(a,b){return $(b).attr("href").length-$(a).attr("href").length}).first();if(anchor.length){var topMenuLink=anchor.closest(".top-menu-link");topMenuLink.length?topMenuLink.addClass("current"):anchor.parent("li").addClass("current")}}},trackEvent:function(obj){if("undefined"!=typeof window.s&&this.options.legacyTracking){var link=this.topLink+(this.subLink?"_"+this.subLink:""),page="undefined"!=typeof window.s.pageName?window.s.pageName:"Ally:US:NotSet:NotSet:NotSet",linkName=page+"|"+link+" Click";window.s.linkTrackVars="prop1, prop35, prop74, prop75, eVar74, events",window.s.events="event66,event67",window.s.linkTrackEvents="event66,event67",window.s.prop75=linkName,window.s.events=window.s.linkTrackEvents,window.s.tl(obj,"o",linkName)}},addOverlayTriggers:function(){this.el.find(".top-menu-link, .sub-menu-link").each(function(){$(this).attr("data-overlay","true")})},simulatePage:function(p){this.options.simulate=p}};var hideAll=function(){$(this).removeClass("show active").find(".menu ul").attr("aria-hidden","true")},showMenu=function(obj){obj.addClass("show active").find(".menu ul").first().attr("aria-hidden","false")},hideMenu=function(obj){obj.removeClass("show active").find(".menu ul").first().attr("aria-hidden","true")};return Navigation}(jQuery,_,postal);
		/*! header.info.js Concatenated on 04-24-2016 at 10:51:08 AM by PARILLO */
var ally=ally||{};ally.header=ally.header||{},ally.header.Info=function($){function Navigation(el,options){return this instanceof Navigation?(this.el=$(el),void(this.options=$.extend({},defaults,options||{}))):new Navigation(el,options)}var defaults={};return Navigation.prototype={init:function(){return this.el.length?(this.convertPhoneNumbers(),void this.addBreadcrumbs()):void(window.console&&window.console.log)},addBreadcrumbs:function(){var self=this;this.nav=$("#nav-breadcrumbs"),this.hidden=$("#hidden-breadcrumbs"),this.nav.length&&this.hidden.length&&this.hidden.html()&&(this.stripLastLink(),this.removeSpaces(),this.nav.empty(),setTimeout(function(){self.shortenLastBreadcrumb(),self.nav.append(self.hidden.html()),self.addBreadcrumbDTMTracking()},500))},addBreadcrumbDTMTracking:function(){this.nav.find("a").each(function(){var text=$.trim($(this).text())||"";$(this).attr({"data-track-ui":"info-bar","data-track-elem":"breadcrumb","data-track-trigger":"internal","data-track-name":text.replace(/\s+/,"")})})},removeSpaces:function(){this.hidden.find("li").each(function(){$(this).html($(this).html().replace(/(&nbsp;|&#160;)/gi,"")),$(this).find("a").text($.trim($(this).find("a").text()))})},stripLastLink:function(){var lastAnchor=this.hidden.find("li").last(),selText=lastAnchor.text();lastAnchor.html(selText)},shortenLastBreadcrumb:function(){var lastElem,oldText,newText;this.hidden.removeClass("hidden"),this.nav.width()>0&&this.nav.width()<this.hidden.width()&&(lastElem=this.hidden.find("li").last(),oldText=$.trim(lastElem.text()).split(/\s+/),newText=oldText.length>2?oldText.slice(0,1).join(" ")+" ... "+oldText.slice(-1).join(""):oldText.join(" "),lastElem.html(newText),setTimeout(function(){$("body").trigger("custom.page-height-update")},500)),this.hidden.addClass("hidden")},convertPhoneNumbers:function(){"undefined"!=typeof ALLYMOBILE&&(ALLYMOBILE.device.phone||ALLYMOBILE.device.windowsphone)&&this.el.find("[data-tel]").each(function(){var html=$(this).html(),tel=$(this).attr("data-tel"),a=$("</a>");a.attr("href","tel:"+tel),a.html(html),$(this).replaceWith(a)})}},Navigation}($);
		/*! header.menu.js Concatenated on 04-22-2016 at 8:50:59 PM by PARILLO */
var ally=ally||{};ally.header=ally.header||{},ally.header.Menu=function($,postal){function Menu(el,options){return this instanceof Menu?(this.options=$.extend({},defaults,options||{}),this.el=$(el),this.isVisible=!1,this.defaultSearchHeight=0,void(this.autoScrollEnabled=!1)):new Menu(options)}var channels={canvas:postal.channel("ally.canvas")},defaults={easing:"easeOutQuint",duration:450,simulate:"",legacyTracking:!0};return Menu.prototype={init:function(){this.el&&0!==this.el.length&&(this.bindEvents(),this.calculateOffsets())},calculateOffsets:function(){var top,self=this,max=0;$(".has-dropdown",this.el).each(function(){$(this).parents(".has-dropdown").each(function(){$(this).find("ul").first().show()}),top=$(this).offset().top,$(this).data("offset",top),max=top>max?top:max,self.closeAll()}),this.defaultSearchHeight=self.el.find(".search-container").height()},setActiveMenu:function(){var isMatch,topMenuLink,self=this,regex=/^\/+|\/$|index\.html?/gi,path=this.options.simulate?this.options.simulate.replace(regex,""):window.location.pathname.replace(regex,""),anchor=$("a[href]",self.el).filter(function(){var href=$(this).attr("href").replace(regex,"");return isMatch=""===href&&(""===path||-1!==path.indexOf("bank"))||""!==href&&-1!==path.indexOf(href)}).sort(function(a,b){return $(b).attr("href").length-$(a).attr("href").length}).first();anchor.length&&(topMenuLink=anchor.closest("li.main-link"),topMenuLink.addClass("show").children("ul").first().show())},bindEvents:function(){var self=this;$("li",this.el).on("click",function(e){e.stopImmediatePropagation();var target=$(e.target),li=target.closest("li");if(li.hasClass("search-container")||li.parents("[data-id=search-results]").length>0)return!0;if(!li.hasClass("has-dropdown"))return self.trackEvent(e,li),!0;e.preventDefault();var ul=li.children("ul").first(),shouldClose=ul.is(":visible");self.closeOthers(li),shouldClose?(li.removeClass("show"),self.toggle(li,"close")):(li.addClass("show"),self.toggle(li,"show"));var offsetLI=li,offset=0,scrollTop=0,searchHeight=0,offsetForSearch=0;shouldClose?(0===$(".has-dropdown.show").length?offsetLI=$(".has-dropdown").first():li.parents(".has-dropdown").length>=1&&(offsetLI=li.parent().closest(".has-dropdown")),offset=li.hasClass("main-link")?0:offsetLI.data("offset")):offset=offsetLI.data("offset"),offset>0&&(searchHeight=self.el.find(".search-container").height(),offsetForSearch=searchHeight>self.defaultSearchHeight?searchHeight-self.defaultSearchHeight:0),scrollTop=shouldClose&&0===$(window).scrollTop()?0:offset+offsetForSearch,self.autoScrollEnabled=!0,$("body,html").animate({scrollTop:scrollTop},self.options.duration,self.options.easing,function(){self.autoScrollEnabled=!1})}),channels.canvas.subscribe({topic:"toggled",callback:function(data){"left"!==data.canvas||data.open||self.resetMenu(),self.isVisible=!self.isVisible}}),ALLYMOBILE.device.desktop&&self.enableDesktopScrollLock()},enableDesktopScrollLock:function(){var currentPos=$(window).scrollTop(),stopAt=0,self=this;$(window).on("mousewheel",function(e){var scroll=$(window).scrollTop(),wHeight=$(window).height(),mHeight=self.el.height(),scrolldown=e.originalEvent.wheelDelta<0;if(self.isVisible&&!self.autoScrollEnabled&&(currentPos=scroll,!scrolldown&&stopAt>0&&(stopAt=0),scrolldown)){if(stopAt>0)return mHeight-currentPos>wHeight?window.scrollTo(0,stopAt):stopAt=currentPos,!1;if(wHeight>=mHeight)return scroll>0?!1:(window.scrollTo(0,0),!1);if(wHeight-100>=mHeight-scroll)return stopAt=scroll,window.scrollTo(0,stopAt),!1}})},resetMenu:function(){this.closeAll(),this.el.css({top:0}),this.setActiveMenu()},closeAll:function(){$(".has-dropdown",this.el).find("ul").hide()},closeOthers:function(li){var self=this;$.each(li.siblings("li.has-dropdown.show"),function(index,ui){self.toggle($(ui),"close")});var parent=li.closest(".main-link.has-dropdown")[0],others=$(".has-dropdown.show",this.el).filter(function(){return $.contains(parent,this)!==!0&&parent!==this});$.each(others,function(index,ui){$(ui).removeClass("show"),self.toggle($(ui),"close")}),li.hasClass("main-link")&&$.each(li.find("li.has-dropdown.show"),function(index,ui){self.toggle($(ui),"close")})},toggle:function(li,action){var self=this;switch(action){case"show":li.children("ul").first().slideDown({queue:!1,duration:self.options.duration,easing:self.options.easing});break;case"close":li.children("ul").first().slideUp({duration:self.options.duration,easing:self.options.easing})}},trackEvent:function(obj,li){if("undefined"!=typeof window.s&&this.options.legacyTracking){var links=$.map(li.parents("li.has-dropdown"),function(li){return $.trim($(li).find("a").first().text())}).reverse();links.push($.trim(li.find("a").first().text()));var page="undefined"!=typeof window.s.pageName?window.s.pageName:"Ally:US:NotSet:NotSet:NotSet",linkName=page+"|"+links.join("_")+" Click";window.s.linkTrackVars="prop1, prop35, prop74, prop75, eVar74, events",window.s.events="event66,event67",window.s.linkTrackEvents="event66,event67",window.s.prop75=linkName,window.s.events=window.s.linkTrackEvents,window.s.tl(obj,"o",linkName)}},simulatePage:function(p){this.options.simulate=p}},Menu}(jQuery,postal);
		/*! header.utilities.js Concatenated on 04-22-2016 at 8:40:00 PM by PARILLO */
var ally=ally||{};ally.header=ally.header||{},ally.header.Utilities=function($){function Navigation(el,options){return this instanceof Navigation?(this.el=$(el),void(this.options=$.extend({},defaults,options||{}))):new Navigation(el,options)}var defaults={legacyTracking:!0};return Navigation.prototype={init:function(){return this.el.length?void this.bindEvents():void(window.console&&window.console.log)},bindEvents:function(){var self=this;this.el.on("click","li > a",function(e){$(this).parents("[data-searchid]").length||self.trackEvent(e,this)})},trackEvent:function(e,obj){if("undefined"!=typeof window.s&&this.options.legacyTracking){var page,linkName,link=$.trim($(e.target).text());page=window.s.pageName||"Ally:US:NotSet:NotSet:NotSet",linkName=page+"|Header_"+link,window.s.linkTrackVars="prop1, prop35, prop74, prop75, eVar74, events",window.s.events="event66,event67",window.s.linkTrackEvents="event66,event67",window.s.prop75=linkName,window.s.events=window.s.linkTrackEvents,window.s.tl(obj,"o",linkName)}}},Navigation}($);
		/*! media-query.service.js Concatenated on 05-20-2016 at 3:47:53 PM by PARILLO */
var ally=ally||{};ally.services=ally.services||{},ally.services.mediaQuery=function($,postal,_){"use strict";var channel=postal.channel("ally.media-query"),breakpoint="",orientation="",mediaQueries={small:{query:"screen and (max-width:40em)",range:{min:0,max:640}},medium:{query:"screen and (min-width:40.0625em)",range:{min:641,max:768}},large:{query:"screen and (min-width:48.0625em)",range:{min:769,max:1024}},xlarge:{query:"screen and (min-width:64.0625em)",range:{min:1025,max:1330}},xxlarge:{query:"screen and (min-width:83.125em)",range:{min:1331,max:Number.Infinity}}},keys=[],init=function(){var query,key,evt;for(key in mediaQueries)mediaQueries.hasOwnProperty(key)&&(keys.push(key),query=mediaQueries[key],evt=window.matchMedia(query.query),evt.addListener(function(key){return function(mql){breakpointChange(key,mql)}}(key)),evt.matches&&(breakpoint=key));evt=window.matchMedia("(orientation: portrait)"),evt.addListener(orientationChange),orientation=evt.matches?"portrait":"landscape",$(window).on("resize",_.debounce(function(){var range,previous,width=$(window).width();for(key in mediaQueries)range=mediaQueries[key].range,width>=range.min&&width<=range.max&&key!==breakpoint&&(previous=breakpoint,breakpoint=key,broadcast("breakpoint",{current:breakpoint,previous:previous}),ALLY.util.logMessage("media-query.service.js: %cmatchMedia was caught sleeping. Updating current breakpoint from %s to %s","color:blue",previous,breakpoint))},1e3)),broadcast("breakpoint",{current:breakpoint,previous:""}),broadcast("orientation",{current:orientation,previous:""}),ALLY.util.logMessage("media-query.service.js: %cinitialized media-query service at the %s breakpoint and %s orientation","color:blue",breakpoint,orientation)},orientationChange=function(mql){mql.matches?(orientation="portrait",broadcast("orientation",{current:"portrait",previous:"landscape"})):(orientation="landscape",broadcast("orientation",{current:"landscape",previous:"portrait"}))},breakpointChange=function(key,mql){var pos,newKey,current,previous=breakpoint;mql.matches&&(current=breakpoint=key,broadcast("breakpoint",{current:current,previous:previous})),mql.matches||(pos=keys.indexOf(key),newKey=pos-1>=0?pos-1:0,current=keys[newKey],previous!==current&&(breakpoint=current,broadcast("breakpoint",{current:current,previous:previous})))},currentInfo=function(){return{breakpoint:breakpoint,orientation:orientation,info:"undefined"!=typeof mediaQueries[breakpoint]?mediaQueries[breakpoint]:{}}},broadcast=function(type,params){var details=currentInfo();channel.publish({topic:"change."+type,data:{current:params.current,previous:params.previous,details:details}}),ALLY.util.logMessage("media-query.service.js: %ccurrent: %s previous: %s details: %o","color:blue",params.current,params.previous,currentInfo())};return{init:init,currentInfo:currentInfo}}(jQuery,postal,_);
		/*! overlay.service.js Concatenated on 11-11-2015 at 1:32:43 PM by PARILLO */
var ally=ally||{};ally.services=ally.services||{},ally.services.overlay=function($,postal){var channels={overlay:postal.channel("ally.services.overlay")},config={el:""},isVisible=!1,pointerEvent=function(e){var out={x:0,y:0};if(-1!==["touchstart","touchmove","touchend","touchcancel"].indexOf(e.type)){if("undefined"==typeof e.originalEvent)return out;var touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];out.x=touch.pageX,out.y=touch.pageY}else-1!==["mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"].indexOf(e.type)&&(out.x=e.pageX,out.y=e.pageY);return out},touchDisabled=!1,init=function(){config.el=$("header.site-header"),bindEvents()},bindEvents=function(){$(document).on(ALLYMOBILE.device.desktop?"mousedown":"touchstart",function(e){var target=$(e.target);pointerEvent(e).x>$(window).width()&&channels.overlay.publish({topic:"clicked-scroll-bar"}),config.el.hasClass("temp-hide")||touchDisabled||target.attr("data-overlay")||target.closest("[data-overlay]").length||(channels.overlay.publish({topic:"hide-modals",data:{event:e,isVisible:isVisible}}),isVisible&&(hide(),-1!==window.location.search.indexOf("debug")&&console.log("hide on",ALLYMOBILE.device.desktop?"mousedown":"touchstart")),e.stopPropagation())}),$(document).on("allyModal-opened",function(){isVisible&&config.el.addClass("temp-hide")}),$(document).on("allyModal-closed",function(){isVisible&&config.el.removeClass("temp-hide")}),channels.overlay.subscribe({topic:"show.*",callback:function(data){show(data),-1!==window.location.search.indexOf("debug")&&console.log("show",data.source)}}),channels.overlay.subscribe({topic:"hide.*",callback:function(data){hide(),-1!==window.location.search.indexOf("debug")&&console.log("hide",data.source)}})},show=function(data){var location=data.location,overrideOverlay=data.overrideOverlay,overlayClass="";switch(config.el.removeClass("show-global-nav show-page-nav full-page"),location){case"page-nav":overlayClass="show-page-nav";break;case"global-nav":overlayClass="show-global-nav";break;default:overlayClass="full-page"}config.el.addClass("on "+overlayClass+(overrideOverlay?" temp-hide":"")),isVisible=!0},hide=function(){config.el.removeClass("show-global-nav show-page-nav full-page on"),isVisible=!1},disableTouch=function(disable){touchDisabled=disable};return{init:init,disableTouch:disableTouch}}(jQuery,postal);
		/*! footer.global.js Concatenated on 04-22-2016 at 8:29:59 PM by PARILLO */
var ally=ally||{};ally.footer=ally.footer||{},ally.footer.Global=function($,postal){function Navigation(el,opt){return this instanceof Navigation?(this.options=$.extend(options,opt||{}),this.el=$(el),void(this.isAccordionVisible=!1)):new Navigation(el,options)}var channels={mediaQuery:postal.channel("ally.media-query")},options={legacyTracking:!0};return Navigation.prototype={init:function(){return this.el.length?void this.bindEvents():void(window.console&&window.console.log)},bindEvents:function(){var self=this;self.el.on("click","li > a",function(e){self.trackEvent(e,this)}),this.isAccordionVisible="small"===ally.services.mediaQuery.currentInfo().breakpoint,channels.mediaQuery.subscribe({topic:"change.breakpoint",callback:function(data){self.isAccordionVisible&&"small"===data.previous&&(self.el.find(".column").each(function(){$(this).find(".column-title").removeClass("on"),$(this).find("ul").hide()}),self.isAccordionVisible=!1),"small"===data.current&&(self.isAccordionVisible=!0)}}),self.el.on("click",".column-title",function(){if(self.isAccordionVisible){var isOpen=$(this).hasClass("on");if(isOpen)return void self.close($(this));self.close($(".column-title.on",self.el)),self.open($(this))}})},open:function(obj){obj.addClass("on");var ul=obj.parents(".column").find("ul");ul.slideDown({queue:!1,duration:400,easing:"easeOutQuint"})},close:function(obj){var ul,el;obj.each(function(index,elem){el=$(elem),el.removeClass("on"),ul=el.parents(".column").find("ul"),ul.slideUp({queue:!1,duration:400,easing:"easeOutQuint"})})},trackEvent:function(e,obj){if("undefined"!=typeof window.s&&this.options.legacyTracking){var link=$.trim($(e.target).text()),page=window.s.pageName||"Ally:US:NotSet:NotSet:NotSet",linkName=page+"|Footer_"+link;window.s.linkTrackVars="prop32, prop1, prop35, prop74, prop75, eVar74, events",window.s.prop32=$(window).width(),window.s.events="event66,event67",window.s.linkTrackEvents="event66,event67",window.s.prop75=linkName,window.s.events=window.s.linkTrackEvents,window.s.tl(obj,"o",linkName)}}},Navigation}($,postal);
		/*! Concatenated on 03-23-2016 at 1:56:39 PM  */
var ally=ally||{};ally.SearchController=function($,_,postal){var channels={canvas:postal.channel("ally.canvas"),search:postal.channel("ally.services.search"),overlay:postal.channel("ally.services.overlay"),mediaQuery:postal.channel("ally.media-query")},instances=[],init=function(_instances){instances=_instances,instances.length>0&&(initialize(),bindEvents())},initialize=function(){_.forEach(instances,function(instance){instance.init()})},bindEvents=function(){var breakpoints,searchid;channels.mediaQuery.subscribe({topic:"change.breakpoint",callback:function(data){_.forEach(instances,function(instance){breakpoints=instance.options.breakpoints,""!==breakpoints&&-1===breakpoints.indexOf(data.current)&&(instance.isVisible||instance.modalVisible)&&instance.resetAll()})}}),channels.search.subscribe({topic:"results.*",callback:function(data,envelope){switch(searchid=data.options?data.options.searchid:{},envelope.topic){case"results.success":_.forEach(instances,function(instance){"undefined"!=typeof searchid&&""!==instance.searchid&&instance.searchid===searchid&&instance.renderResults(data)});break;case"results.fail":}}}),channels.canvas.subscribe({topic:"toggled",callback:function(data){"left"===data.canvas&&_.forEach(instances,function(instance){data.open?instance.resetAll():instance.blurSearchField()})}}),channels.overlay.subscribe({topic:"hide-modals",callback:function(){_.forEach(instances,function(instance){(instance.isVisible||instance.modalVisible)&&instance.resetAll()})}})};return{init:init}}(jQuery,_,postal);
		/*! search.service.js Concatenated on 06-10-2016 at 3:07:49 PM by SNODGRASS */
var ally=ally||{};ally.services=ally.services||{},ally.services.search=function($,_,postal,personetics){var globalSearchTimeout,CHANNEL=postal.channel("ally.services.search"),log=ALLY.util.logMessage||function(){},good="color:green;",bad="color:red;",info="color:blue;",globalSearchId=null,globalSearchTimeoutTime=1e4,options={maxFullSearchResults:50,maxHelpSearchResults:5,maxLiveSearchResults:4},CONTEXTS={defaultContext:"SBizContext_mainConsumer_default",Banking:"SBizContext_mainConsumer_bank",AutoFinancing:"SBizContext_mainConsumer_auto",CompanyInfo:"SBizContext_mainConsumer_about",media:"SBizContext_mainConsumer_media",dealer:"SBizContext_dealerStorefront",help:"SBizContext_storefrontHelp",communityHub:"SBizContext_communityHub"},fullSearch=function(searchTerm,filter,overrideOptions){log("search.service.js: %cStarting fullSearch",info);var opts=$.extend(!0,{},options,overrideOptions),clientHints={maxNumOfResults:opts.maxNumOfResults||opts.maxFullSearchResults},searchPromise=new $.Deferred,success=function(res){log("search.service.js: %cfullsearch result success ",good),clearTimeout(globalSearchTimeout),globalSearchTimeout=null,searchPromise.resolve(null,res)},error=function(err){log("search.service.js: %cfullsearch result err ",bad,err,JSON.stringify(err)),clearTimeout(globalSearchTimeout),globalSearchTimeout=null,searchPromise.resolve(err)};return searchTerm?(globalSearchId=null,filter&&(clientHints.facetValue=filter),clientHints.ctxId=opts.context?CONTEXTS[opts.context]:CONTEXTS[getContext.byQuery()]||CONTEXTS.defaultContext,clientHints.ctxId===CONTEXTS.help&&(clientHints.maxNumOfResults=opts.maxHelpSearchResults),log("search.service.js: %cCalling Personetics with params for fullSearch %O",info,clientHints),globalSearchTimeout&&clearTimeout(globalSearchTimeout),globalSearchTimeout=setTimeout(function(){error("timeout")},globalSearchTimeoutTime),personetics.getSearchResults(clientHints,searchTerm,success,error),searchPromise):(setTimeout(function(){return searchPromise.resolve("No search term")},10),searchPromise)},liveSearch=function(searchTerm,searchId,filter,overrideOptions){log("search.service.js: %cStarting liveSearch",info);var opts=$.extend(!0,{},options,overrideOptions),clientHints={maxNumOfResults:opts.maxNumOfResults||options.maxLiveSearchResults},success=function(res){log("search.service.js: %clivesearch result success ",good),CHANNEL.publish({topic:"results.success",data:{results:res,options:{searchid:globalSearchId}}})},error=function(err){log("search.service.js: %clivesearch result err ",bad,err,JSON.stringify(err)),CHANNEL.publish({topic:"results.fail",data:{results:{},error:err}})};searchTerm&&(globalSearchId=searchId,clientHints.ctxId=opts.context?opts.context:CONTEXTS[getContext.byURL()]||CONTEXTS.defaultContext,log("search.service.js: %cCalling Personetics with params for liveSearch %O",info,clientHints),personetics.getLiveSearchResults(clientHints,searchTerm,success,error))},getContext={byURL:function(){var location=window.location;return location.pathname.match(/^\/bank|\/bank/i)?"Banking":location.pathname.match(/^\/auto/i)?"AutoFinancing":location.pathname.match(/^\/dealer/i)?"dealer":location.pathname.match(/^\/about/i)?"about":null},byQuery:function(){var context,params,str,obj,query=window.location.search.substr(1);return query&&(params=_.map(query.split("&"),function(s){return str=s.split("="),{key:str[0],value:str[1]}}),obj=_.find(params,{key:"context"}),obj&&(context=obj.value)),location.pathname.match(/^\/help/i)?"help":location.pathname.match(/dealer/i)?"dealer":context},byValue:function(){var context,input=$("input[name=context]");return input.attr("value")&&(context=input.attr("value")),context}};return{fullSearch:fullSearch,liveSearch:liveSearch}}(jQuery,_,postal,personetics);
		/*! search.live.js Concatenated on 07-12-2016 at 2:17:10 PM by SNODGRASS */
var ally=ally||{};ally.Search=function($,_,postal){function Search(el,options){return this instanceof Search?(this.elem=el,void(this.options=$.extend(!0,{},defaults,options||{}))):new Search(el,options)}var log=ALLY.util.logMessage,channels={overlay:postal.channel("ally.services.overlay")},defaults={service:null,delay:500,minCharLength:3,redirectTo:"/search/index.html",useOverlay:!0,useClearBtn:!1,clearCache:!0,breakpoints:"",resultsIcon:"magnify",template:{list:"<% for(var i=0;i<list.length;i++) { %><li><a href='<%= list[i].storeFrontUrl%>' data-faqid='<%= list[i].id %>'><p class='title'><%= list[i].titleText %></p><% if (list[i].ally_categories && list[i].ally_categories.values && list[i].ally_categories.values.length) { %><% if (list[i].ally_categories.values[0] === 'Help & FAQs' && list[i].ally_categories.values.length > 1) { %><p class='page'><%= list[i].ally_categories.values[1] %></p><% } else { %><p class='page'><%= list[i].ally_categories.values[0] %></p><% } %><% } %></a></li><% } %>",message:"<li class='message'><p><%= message %></p></li>"},onClearClick:$.noop,onSearch:$.noop,onKeyPress:$.noop},dates={Jan:"Jan.",Feb:"Feb.",Mar:"March",Apr:"April",Jun:"June",Jul:"July",Aug:"Aug.",Sep:"Sept.",Oct:"Oct.",Nov:"Nov.",Dec:"Dec."},getLineOfBusiness=function(){var pathname=document.location.pathname,lob="Channel";return pathname.match(/^\/auto/i)&&(lob="Auto"),pathname.match(/^\/bank/i)&&(lob="Bank"),pathname.match(/^\/dealer/i)&&(lob="Dealer"),lob};return Search.prototype={init:function(){this.initComponent(),this.elem.length&&this.bindEvents()},initComponent:function(){this.el=this.el||{},this.el.el=$(this.elem),this.el.form=$("form",this.el.el),this.el.input=$("input[type=search]",this.el.el),this.el.button=$('[data-id="search-button"]',this.el.el),this.el.results=$('[data-id="search-results"]',this.el.el),this.el.link=$('[data-id="view-all"]',this.el.el),this.el.clear=$('[data-id="clear-button"]',this.el.el),this.redirectTo&&this.el.form.attr("action",this.redirectTo),this.modalVisible=!1,this.keyword="",this.searchid=this.el.el.attr("data-searchid"),this.hasPlaceholderSupport="placeholder"in document.createElement("input"),this.placeholder=this.el.input.attr("placeholder")||"",this.hasPlaceholderSupport||this.el.input.val(this.placeholder),this.el.el.attr("data-overlay","true"),this.el.link.length&&""!==this.options.resultsIcon&&this.el.link.find("span[class*="+this.options.resultsIcon+"]").show(),this.lob=getLineOfBusiness()},bindEvents:function(){var self=this,ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),trident=ua.indexOf("Trident/"),edge=ua.indexOf("Edge/"),$searchForm=$(".live-search form");this.options.clearCache&&(msie>0||trident>0||edge>0)&&$(window).on("load",function(){if($searchForm.length){var $searchBox=$searchForm.find("input[type='search']");$searchForm.get(0)&&$searchForm.get(0).reset(),$searchBox.val($searchBox.attr("placeholder"))}}),$.event.special["keyup.clear"]={bindType:"keyup",delegateType:"keyup"},$.event.special["keyup.service"]={bindType:"keyup",delegateType:"keyup"},this.el.input.on("keyup.service",_.debounce(function(e){self.setSearchTerm($(this).val());var keyCode=e.keyCode||e.which;return self.options.onKeyPress([keyCode,self.getSearchTerm()]),13===keyCode&&""!==self.getSearchTerm()?void self.submit():""===self.getSearchTerm()?(self.hideOverlay(),self.hideModal(),void self.resetSearch()):void(self.options.service&&"undefined"!=typeof self.options.service&&self.performSearch())},self.options.delay,{leading:!1,trailing:!0})),this.el.input.on("keyup.clear",function(){self.options.useClearBtn&&($(this).val()?self.el.clear.show():self.el.clear.hide())}),this.el.input.on("keydown",function(e){var keyCode=e.keyCode||e.which,goDown=39===keyCode||40===keyCode||34===keyCode,enterPressed=13===keyCode,tabPressed=9===keyCode,isShift=e.shiftKey;if(enterPressed)return!1;if(""===self.getSearchTerm()){var tabbed_elements=$("a[tabindex != '-1']:visible,input[tabindex != '-1']:visible"),index=tabbed_elements.index(this);if(tabPressed)return e.preventDefault(),isShift?index--:index++,tabbed_elements.eq(index).focus(),!1}(goDown||tabPressed)&&(self.el.results.is(":hidden")||($(this).blur(),self.el.results.find("a:first").focus()),e.preventDefault())}),this.el.clear.on("click",function(){self.options.onClearClick(),self.resetAll(),self.el.input.val("").focus()}),this.el.input.on("submit",function(e){e.preventDefault()}),this.el.input.on("blur",function(){self.resetSearch()}),this.el.input.on("focus",function(){if(""===self.getSearchTerm())return self.hideModal(),self.hideOverlay(),void $(this).val("").attr("placeholder","");var ul=$("ul",self.el.results),len=ul.find("li[data-id!=view-all]").length;len&&(self.showModal(),self.showOverlay())}),this.el.button.on("click",function(e){self.submit()||e.preventDefault()}),this.el.results.on("click","li",function(){var isViewAllLink="view-all"==$(this).attr("data-id");return self.trackEvent(this,$(this),isViewAllLink)}),this.el.results.on("keydown",function(e){var keyCode=e.keyCode||e.which,goDown=39===keyCode||40===keyCode||34===keyCode,goUp=37===keyCode||38===keyCode||33===keyCode,enterPressed=13===keyCode,tabPressed=9===keyCode;enterPressed?$(this).find("a:focus").trigger("click"):tabPressed||goDown?(self.navigateResults(1),e.preventDefault()):goUp&&(self.navigateResults(-1),e.preventDefault())}),this.el.results.on("hover","li",function(){var ul=$(this).parent("ul");ul.find("li").removeClass("hovered").end().find("a").blur(),$(this).addClass("hovered").find("a").focus()}),$("body").on("click",function(e){var $targ=$(e.target);""===self.getSearchTerm||$targ.parents(".live-search").length||$targ.hasClass("icon-magnify")||self.resetAll()})},performSearch:function(){var self=this,keyword=this.getSearchTerm();this.el.el.find("input[name=domain]").attr("value");""===keyword||keyword.length<this.options.minCharLength||this.options.service.liveSearch(keyword,self.searchid)},renderResults:function(data){function getCategory(result){return"blogPost"===result.type?{values:[]}:"page"===result.type&&result.categories&&result.categories.values&&result.categories.values.length?{values:[result.categories.values[0]]}:"blogPost"===result.type?{values:["Blog post"]}:"pressRelease"===result.type?{values:["Press release"]}:{values:[]}}function getTitleText(result){return"page"===result.type?result.titleText:result.text}var html,results,ul,self=this;data.results&&data.results.searchResults&&data.results.searchResults.results.length&&(results=data.results.searchResults.results,$.each(results,function(index,result){result.storeFrontUrl=self.getCorrectField(result,"ally_url"),result.ally_categories=getCategory(result),result.titleText=getTitleText(result)}),log("search.live.js: %cLive Search Results %O","color:green;",results),ul=$("ul",this.el.results),html=$(_.template(this.options.template.list,{list:results})),log("search.live.js: %cLive Search HTML %o","color:green;",html),ul.find("li[data-id!=view-all]").remove().end().prepend(html),this.el.link.find("a").attr("href",this.options.redirectTo+"?term="+encodeURI(this.getSearchTerm())).show(),this.showModal(),this.showOverlay())},getCorrectField:function(result,field){var singleUrl;if(!result[field])return"";if("string"==typeof result[field])return result[field];if(result[field].length){if(!result[field][1])return result[field][0].text||"#";for(var i=0,len=result[field].length;len>i;i++)if(singleUrl=result[field][i],singleUrl.variation&&"consumer_help"===singleUrl.variation)return singleUrl.text||"#";return"#"}},navigateResults:function(direction){var len=this.el.results.find("li").length,focused=this.el.results.find("a:focus"),index=parseInt(focused.parent("li").index(),10)+direction;focused.parent("li").removeClass("hovered"),0>index?index=len-1:index>len-1&&(index=0),$("li:eq("+index+")",this.el.results).find("a").focus()},convertDates:function(section){for(var prop in dates)dates.hasOwnProperty(prop)&&(section=section.replace(new RegExp("\\b"+prop+"\\b","i"),dates[prop]));return section=section.replace(/\b0(\d)\b/,"$1")},renderMessage:function(type){var message,html,ul=$("ul",this.el.results);switch(type){case"no hits":message="No search results found for &quot;"+this.getSearchTerm()+"&quot;"}html=$(_.template(this.options.template.message,{message:message})),ul.find("li[data-id!=view-all]").remove().end().prepend(html),this.el.link.hide()},submit:function(){return this.setSearchTerm(this.el.input.val()),""===this.getSearchTerm()?!1:(this.options.onSearch([this.getSearchTerm()]),void this.el.form.submit())},showModal:function(){this.modalVisible=!0,this.el.el.addClass("on").find("nav").attr("aria-expanded","true")},hideModal:function(){this.modalVisible=!1,this.el.el.removeClass("on").find("nav").attr("aria-expanded","false")},showOverlay:function(){if(this.options.useOverlay){var self=this;channels.overlay.publish({topic:"show.search",data:{source:self,location:"global-nav"}})}},hideOverlay:function(){if(this.options.useOverlay){var self=this;channels.overlay.publish({topic:"hide.search",data:{source:self}})}},resetSearch:function(){""===this.getSearchTerm()&&(this.el.input.val(""),this.el.input.attr("placeholder",this.placeholder),this.hasPlaceholderSupport||this.el.input.val(this.placeholder))},resetAll:function(){this.setSearchTerm(""),this.resetSearch(),this.hideOverlay(),this.hideModal(),this.el.clear.hide()},blurSearchField:function(){this.el.input.trigger("blur")},setSearchTerm:function(keyword){this.keyword=$.trim(keyword)},getSearchTerm:function(){return/[A-Za-z0-9]+/.test(this.keyword)&&this.keyword!==this.placeholder?this.keyword.toLowerCase():""},trackEvent:function(evt,jqObj,isViewAllLink){var sc,self=this;if("undefined"!=typeof window.s&&"undefined"!=typeof s_account){sc=s_gi(s_account);var faqid=jqObj.find("a").attr("data-faqid")||"",linkTitle=jqObj.text(),searchString=this.getSearchTerm()||"No Search Term",orgPageName=sc.pageName||"Ally"+this.lob+":US:NotSet:NotSet:NotSet",linkName="Search Click:Live Search:Search Result|"+linkTitle;return sc.pageName="AllyCorpUS:Search:LiveSearch:SearchResults",sc.prop10=sc.eVar25=searchString,sc.prop21=linkTitle,sc.prop30="Live Search",sc.prop32=$(window).width(),sc.prop61="Live Search",sc.prop75=searchString+"|"+orgPageName,sc.eVar51="Live Search",sc.eVar61="Live Search",sc.eVar75="Search Click:Live Search:Search Result",sc.events=sc.linkTrackEvents="event15,event29",isViewAllLink?(sc.events=sc.linkTrackEvents="event29",sc.prop10=sc.eVar25=searchString,sc.prop32=$(window).width(),sc.prop21="View All Results",sc.eVar75="Search Click:Live Search:See All Results",linkName="Search Click:Live Search:See All Results",sc.linkTrackVars="prop10,prop21,prop30,prop32,prop61,prop75,eVar25,eVar51,eVar61,eVar75,events",sc.tl(!0,"o",linkName,null,function(){self.el.form.submit()}),!1):(faqid?(sc.prop5=faqid,sc.prop19=orgPageName+":"+faqid,sc.eVar46=orgPageName+":"+faqid,linkName="Search Click:Live Search:Search Result|"+linkTitle,sc.linkTrackVars="prop5,prop10,prop19,prop21,prop30,prop32,prop75,eVar25,eVar46,eVar51,eVar75,events","Dealer"===this.lob&&(sc.linkTrackVars="prop5,prop10,prop19,prop21,prop32,prop61,prop75,eVar25,eVar46,eVar61,eVar75,events")):(sc.linkTrackVars="prop10,prop21,prop30,prop32,prop75,eVar25,eVar46,eVar51,eVar75,events","Dealer"===this.lob&&(sc.linkTrackVars="prop10,prop21,prop32,prop61,prop75,eVar25,eVar61,eVar75,events")),sc.tl(evt,"o",linkName),!0)}}},Search}(jQuery,_,postal);
		/*! search.fullwidth.js Concatenated on 07-14-2016 at 1:18:38 PM by SNODGRASS */
var ally=ally||{};ally.SearchFullWidth=function($){function SearchFullWidth(el,options){return this instanceof SearchFullWidth?(this.elem=el,void(this.options=$.extend(!0,{},defaults,options||{}))):new SearchFullWidth(el,options)}var defaults={service:null,delay:500,minCharLength:3,redirectTo:"/search/index.html",useOverlay:!0,useClearBtn:!1,breakpoints:"",toggleBtn:"",resultsIcon:"magnify",template:{list:"<% for(var i=0;i<list.length;i++) { %><li><a href='<%= list[i].storeFrontUrl%>' data-faqid='<%= list[i].id %>'><p class='title'><%= list[i].titleText %></p><% if (list[i].ally_categories && list[i].ally_categories.values && list[i].ally_categories.values.length) { %><% if (list[i].ally_categories.values[0] === 'Help & FAQs' && list[i].ally_categories.values.length > 1) { %><p class='page'><%= list[i].ally_categories.values[1] %></p><% } else { %><p class='page'><%= list[i].ally_categories.values[0] %></p><% } %><% } %></a></li><% } %>",message:"<li class='message'><p><%= message %></p></li>"}};return SearchFullWidth.prototype=new ally.Search,SearchFullWidth.prototype.constructor=SearchFullWidth,SearchFullWidth.prototype.initComponent=function(){ally.Search.prototype.initComponent.call(this),this.el.toggle=""!==this.options.toggleBtn&&$(this.options.toggleBtn).length?$(this.options.toggleBtn):null,this.el.cancel=$('[data-id="cancel-button"]',this.el.el),this.isVisible=!1},SearchFullWidth.prototype.bindEvents=function(){var self=this;ally.Search.prototype.bindEvents.call(this),this.el.toggle&&(this.el.toggle.attr("data-overlay","true"),this.el.toggle.on("click",function(){self.el.el.is(":visible")?self.el.el.hide():(self.el.el.show(),self.showOverlay(),self.el.input.val("").focus()),self.isVisible=!self.isVisible})),this.el.input&&this.el.input.off("focus").on("focus",function(){return self.el.el.addClass("focused"),self.showOverlay(),""===self.getSearchTerm()?($(this).val("").attr("placeholder",""),void(self.modalVisible&&self.hideModal())):void 0}),this.el.cancel&&this.el.cancel.off("click").on("click",function(){self.resetAll()}),this.el.clear&&this.el.clear.off("click").on("click",function(){self.el.el.removeClass("on"),self.el.input.val("").focus()}),this.el.input&&this.el.input.off("keyup.service").on("keyup.service",_.debounce(function(e){self.setSearchTerm($(this).val());var keyCode=e.keyCode||e.which;return 13===keyCode&&""!==self.getSearchTerm()?(self.submit(),!1):""===self.getSearchTerm()?(self.hideResults(),void self.el.clear.hide()):void self.performSearch()},self.options.delay,{leading:!1,trailing:!0}))},SearchFullWidth.prototype.hideResults=function(){this.el.el.removeClass("on")},SearchFullWidth.prototype.hideModal=function(){this.isVisible&&(this.resetAll(),this.isVisible=!1),this.modalVisible=!1},SearchFullWidth.prototype.resetAll=function(){this.el.el.removeClass("on focused").hide(),this.isVisible=!1,ally.Search.prototype.resetAll.call(this)},SearchFullWidth}(jQuery);
		/*! tooltip.js Concatenated on 09-16-2015 at 10:26:40 AM by BOWES */
!function($,window,document,undefined){function Plugin(element,options){options=options||{},this.el=element,this.$el=$(this.el),this.fullWidth=!1,this.options=$.extend({},defaults,options);var dataOptions=this.$el.data(this.options.dataOptName)||{},savedOffsets=defaults.offset;if(this.options=$.extend({},this.options,dataOptions),typeof options.offset!==undefined||typeof dataOptions.offset!==undefined){var newOffset=options.offset||dataOptions.offset;this.options.offset=$.extend({},savedOffsets,newOffset)}this._name=pluginName,this.init()}var pluginName="allyTooltip",isIE8=!1,docEvtAttached=!1,$win=$(window),extObj={},defaults={containerClass:"ally-tooltip",containerModifier:"",containerAttrs:"",contentClass:"tip-content",contentModifier:"",closeBtn:'<i class="icon-cancel"></i>',closeBtnClass:"tip-close",closeBtnAttrs:"data-close-tip",closeTrigger:"[data-close-tip]",includeCloseBtn:!0,tipClass:"tip",dataOptName:"tip-options",origin:"element",vertical:"top",horizontal:"center",offset:{x:0,y:10},customWrapEl:"t-tip",showClass:"show",hideClass:"hide",ajaxSettings:{},ajaxContext:null,contentSrc:"title",customContent:!1,tipTemplate:null,txtTag:"p",removeTitle:!0,clickThrough:!1,cursorOffset:5,clickOutsideToHide:!0,keepOpen:!0,isOpen:!1,showEvent:"hover",addTip:!0,evtNamespace:"ally.tip",thereCanOnlyBeOne:!0,onInit:$.noop,onCreate:$.noop,onOpen:$.noop,onClose:$.noop},linkRegEx=/\[([^\]]+)\]\(([^)"]+)(?: \"([^\"]+)\")?\)/g,isTouchDevice=function(){return 1==("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||navigator.maxTouchPoints>0)}(),hasPointerEvts=function(){return navigator.pointerEnabled||!1}(),isPluginType=function(el){return"object"==typeof $(el).data("plugin_"+pluginName)},getTrueValue=function(val){if(isNaN(parseInt(val,10)))switch(val){case"null":return null;case"true":return!0;case"false":return!1;case"undefined":return undefined;default:return val}return parseInt(val,10)};extObj[pluginName]=function(el,index,meta){if(meta[3]&&isPluginType(el)){var inputOpts=meta[3].split(":"),pluginOpts=$.data(el,"plugin_"+pluginName).options[inputOpts[0]];return inputOpts.length>1?pluginOpts===getTrueValue(inputOpts[1]):pluginOpts}return isPluginType(el)},$.extend($.expr[":"],extObj),Plugin.prototype={init:function(){var self=this,attachedEvents="click"===self.options.showEvent?"click."+self.options.evtNamespace:"mouseenter."+self.options.evtNamespace+" mouseleave."+self.options.evtNamespace+" click."+self.options.evtNamespace;if(isTouchDevice&&(self.options.showEvent="click",self.options.origin="element",attachedEvents=hasPointerEvts?"click.":"touchstart.",attachedEvents+=self.options.evtNamespace),self.options.onInit(self),self.buildTooltip(),self.$el.html().indexOf(" ")>-1){var text=self.$el.html().split(" "),wraps="<"+self.options.customWrapEl+">"+text.join("</"+self.options.customWrapEl+"> <"+self.options.customWrapEl+">")+"</"+self.options.customWrapEl+">";self.$el.html(wraps)}self.options.clickOutsideToHide&&"click"===self.options.showEvent&&!docEvtAttached&&(docEvtAttached=!0,$(document).on("click.tip-close touchstart.tip-close",function(e){$(":"+pluginName+'("isOpen")')[pluginName]("dismiss",[e])})),isIE8&&document.createElement(self.options.customWrapEl),this.$el.on(attachedEvents,{self:self},self.tooltipActions)},setHideTimer:function(){var self=this,delay=self.options.keepOpen?500:200;self.keepOpenTimer=setTimeout(function(){self.hide()},delay)},keepOpenCheck:function(e){var self=e.data.self;"mouseenter"===e.type?clearTimeout(self.keepOpenTimer):self.setHideTimer()},formatLinks:function(txt){var numLinks,allLinks=txt.match(linkRegEx);if(allLinks){numLinks=allLinks.length;for(var i=0;numLinks>i;i+=1){linkRegEx.lastIndex=0;var linkInfo=linkRegEx.exec(allLinks[i]);link='<a href="'+linkInfo[2]+'">'+linkInfo[1]+"</a>",txt=txt.replace(allLinks[i],link)}}return txt},formatTxt:function(txt,txtTag){var lineBreaks=txt.replace(/(\\(?=n)n+)+|\n+/g,"|").split("|");return this.formatLinks("<"+txtTag+">"+lineBreaks.join("</"+txtTag+"><"+txtTag+">")+"</"+txtTag+">")},getContent:function(){var content=null;if("ajax"===this.options.contentSrc){var srcUrl=this.$el.attr("href"),customSettings=$.extend({url:srcUrl},this.options.ajaxSettings);return srcUrl.indexOf("#")>0&&(this.options.ajaxContext="#"+srcUrl.split("#").slice(1).join(", #")),$.ajax(customSettings)}return content=this.options.customContent?this.options.customContent:this.formatTxt(this.$el.attr(this.options.contentSrc),this.options.txtTag),("title"===this.options.contentSrc||this.options.removeTitle)&&(this.savedTitle=this.$el.attr("title"),this.$el.removeAttr("title")),content},processCustomTemplate:function(html){this.$tooltip=$(html).addClass(this.options.containerModifier+" "+this.currentPosClass),this.$content=this.$tooltip.find("."+this.options.contentClass),this.$tip=this.$tooltip.find("."+this.options.tipClass)},attachEvents:function(){this.$tooltip.on("click",this.options.closeTrigger,{self:this},this.hide),this.options.keepOpen&&this.$tooltip.on("mouseenter."+this.options.evtNamespace+" mouseleave."+this.options.evtNamespace,{self:this},this.keepOpenCheck)},buildCheck:function(){var self=this,checker=setInterval(function(){"done"===self.tipBuilding&&(self.$content.find("a").not("."+self.options.closeBtnClass).length>0&&(self.options.keepOpen=!0),self.attachEvents(),self.detectCollision(self.setTargetBounds(self.options.origin,self.$el),self.options.vertical,self.options.horizontal),self.options.onCreate(self),clearInterval(checker))},100)},buildContent:function(){var content=this.getContent(),self=this;"function"==typeof content.success?content.done(function(data){var ajaxContent;self.options.ajaxContext?(ajaxContent=$(data).find(self.options.ajaxContext),ajaxContent.length<1&&(ajaxContent=$(data).filter(self.options.ajaxContext))):ajaxContent=data,self.$content.append(ajaxContent)}).fail(function(){self.$content.append("<p>Request Failed</p>")}).always(function(){self.tipBuilding="done"}):(self.$content.append(content),self.tipBuilding="done")},buildTooltip:function(){if(this.tipBuilding="pending",this.currentPosClass=this.options.vertical+"-"+this.options.horizontal,"inline"===this.options.contentSrc)this.processCustomTemplate(this.$el.attr("href")),this.tipBuilding="done";else{if(this.options.tipTemplate)this.processCustomTemplate(this.options.tipTemplate);else{var $tipClose=this.options.includeCloseBtn?'<a href="#" class="'+this.options.closeBtnClass+'" '+this.options.closeBtnAttrs+">"+this.options.closeBtn+"</a>":null;this.$tip=this.options.addTip?$("<span>",{"class":this.options.tipClass}):null,this.$content=$("<div>",{"class":this.options.contentClass+" "+this.options.containerModifier}),this.$tooltip=$('<div class="'+this.options.containerClass+" "+this.options.hideClass+" "+this.currentPosClass+'" '+this.options.containerAttrs+"></div>")}$("body").append(this.$tooltip.append([this.$content.append($tipClose),this.$tip])),this.buildContent()}this.defaultClasses=this.$tooltip.attr("class"),this.buildCheck()},getAlignment:function(origin,vert,horiz){var horizontal="center"===horiz?"horizCenter":horiz,vertical="center"===vert?"vertCenter":vert,xModify="center"===vert?-1:1,tipHeight=this.$tooltip.outerHeight(!0),tipWidth=this.$tooltip.outerWidth(!0),align={},getPos={horizCenter:function(){return origin.center.x-tipWidth/2},vertCenter:function(){return origin.center.y-tipHeight/2},top:function(){return Math.round(origin.top-this.options.offset.y-tipHeight)},bottom:function(){return Math.round(origin.bottom+this.options.offset.y)},right:function(){return Math.round(origin.right+this.options.offset.x*xModify)},left:function(){return Math.round(origin.left-this.options.offset.x*xModify-tipWidth)}};return align.left=this.fullWidth?0:getPos[horizontal].apply(this),align.top=getPos[vertical].apply(this),[align,vert,horiz]},detectCollision:function(origin,vert,horiz){var posClass,oldPos,winHeight=$win.height(),winWidth=$win.width(),winTop=$win.scrollTop(),tipHeight=this.$tooltip.outerHeight(!0),tipWidth=this.$tooltip.outerWidth(!0),activeTop=origin.top-winTop,activeRight=winWidth-origin.right,activeLeft=origin.left,activeBottom=winHeight-(origin.bottom-winTop);return tipWidth===$win.width()?(this.fullWidth=!0,vert="bottom"!==vert?"top":"bottom",horiz="center"):(this.fullWidth=!1,"left"===horiz&&tipWidth>activeLeft&&activeRight>tipWidth?horiz="right":"right"===horiz&&tipWidth>activeRight&&activeLeft>tipWidth?horiz="left":"center"===horiz&&(tipWidth/2>activeLeft||tipWidth/2>activeRight)&&(tipWidth/2>activeLeft?horiz="right":tipWidth/2>activeRight&&(horiz="left"))),"top"===vert&&tipHeight>activeTop&&activeBottom>tipHeight?vert="bottom":"bottom"===vert&&tipHeight>activeBottom&&activeTop>tipHeight?vert="top":"center"===vert&&(tipHeight/2>activeTop||tipHeight/2>activeBottom)&&(tipHeight/2>activeTop?vert="bottom":tipHeight/2>activeBottom&&(vert="top")),posClass=vert+"-"+horiz,this.currentPosClass!==posClass&&(oldPos=this.currentPosClass,this.currentPosClass=posClass),this.$tooltip.removeClass(oldPos).addClass(this.currentPosClass),[origin,vert,horiz]},positionTip:function(origin){this.$tip.css({left:origin.center.x})},position:function(origin){var position=this.getAlignment.apply(this,this.detectCollision(origin,this.options.vertical,this.options.horizontal));this.fullWidth?this.positionTip(origin):this.$tip.removeAttr("style"),this.$tooltip.removeAttr("style").css(position[0])},setTargetBounds:function(origin,target){var bounds={top:0,right:0,bottom:0,left:0,center:{x:0,y:0}};if("cursor"===origin)bounds.top=target.pageY-this.options.cursorOffset,bounds.right=target.pageX+this.options.cursorOffset,bounds.bottom=target.pageY+this.options.cursorOffset,bounds.left=target.pageX-this.options.cursorOffset,bounds.center.x=target.pageX,bounds.center.y=target.pageY;else{var offsetTop=Math.round(target.offset().top),offsetLeft=Math.round(target.offset().left),width=target.outerWidth(!0),height=target.outerHeight(!0);bounds.top=offsetTop,bounds.right=offsetLeft+width,bounds.bottom=offsetTop+height,bounds.left=offsetLeft,bounds.center.x=offsetLeft+width/2,bounds.center.y=offsetTop+height/2}return bounds},checkWordWrap:function($target){return this.$el.height()!==$target.height()?!0:!1},tooltipActions:function(e){e.stopPropagation();var target,targetBounds,self=e.data.self;target="cursor"===self.options.origin?e:self.checkWordWrap($(e.target))?$(e.target):self.$el,targetBounds=self.setTargetBounds(self.options.origin,target),"mouseenter"===e.type?(clearTimeout(self.keepOpenTimer),self.show(targetBounds)):"mouseleave"===e.type?self.setHideTimer():("click"===e.type||"touchstart"===e.type)&&(self.options.clickThrough&&"click"!==self.options.showEvent||e.preventDefault(),"click"===self.options.showEvent&&(self.options.isOpen?self.hide():self.show(targetBounds)))},dismiss:function(e){$(e.target).parents("."+this.options.containerClass).length>0?e.stopPropagation():this.hide()},reset:function(){$(":"+pluginName+'("isOpen")')[pluginName]("hide")},show:function(origin){this.options.thereCanOnlyBeOne&&this.reset(),this.position(origin),this.$tooltip.addClass(this.options.showClass).removeClass(this.options.hideClass),this.options.onOpen(this),this.options.isOpen=!0},hide:function(e){var self=this;e&&(e.preventDefault(),self=e.data.self),self.$tooltip.removeClass(self.options.showClass).addClass(self.options.hideClass),self.options.onClose(self),self.options.isOpen=!1},destroy:function(){this.$el.off(this.options.showEvent),this.$tooltip.remove(),$(document).off("click.tip-close touchstart.tip-close"),this.savedTitle&&this.$el.attr("title",this.savedTitle)}},$.fn[pluginName]=function(options,args){return this.each(function(){if($.data(this,"plugin_"+pluginName)){if($.isFunction(Plugin.prototype[options])&&options.indexOf("_")<0){var thePlugin=$.data(this,"plugin_"+pluginName);args=args||[],thePlugin[options].apply(thePlugin,args)}}else $.data(this,"plugin_"+pluginName,new Plugin(this,options))})}}(jQuery,window,document);
		/*! Concatenated on 09-02-2015 at 10:26:14 AM  */
var ally=ally||{};ally.Tooltip=function($,_){function Tooltip(el,options){return this instanceof Tooltip?(this.el=$(el),this.tooltip=null,void(this.options=$.extend({},defaults,options||{}))):new Tooltip(el,options)}var templates={tooltip:"<div id='tooltip' class='tooltip flat' role='tooltip'><div class='tooltip-content'></div><div class='arrow'></div><span class='icon-cancel'></span></div>"},cache={},defaults={delay:300,offset:{x:0,y:0},boundary:"body"};return Tooltip.prototype={init:function(){return this.el.length?(this.createTooltip(),void this.bindEvents()):void(window.console&&window.console.log)},createTooltip:function(){var template=_.template(templates.tooltip);$("body").append(template),this.tooltip=$("#tooltip")},bindEvents:function(){var self=this,timer=null;$("body").on(ALLYMOBILE.device.desktop?"mousedown":"touchstart",function(e){var target=$(e.target),isTooltip=target.parents(".tooltip").length>0;!self.tooltip.hasClass("show")||isTooltip||target.attr("data-tooltip")||self.hide()}),this.el.on("mouseenter mouseleave click",function(e){var href=$(this).attr("href");switch(e.stopPropagation(),e.type){case"mouseenter":timer=setTimeout(function(){$.when(self.getContent(href)).then(function(content){self.setContent(content),self.setPosition(e),self.show()})},self.options.delay);break;case"mouseleave":timer&&(clearTimeout(timer),timer=null),self.hide();break;case"click":if(e.preventDefault(),ALLYMOBILE.device.desktop)return;self.hide(),$.when(self.getContent(href)).then(function(content){self.setContent(content),self.setPosition(e),self.show()})}}),this.tooltip.on(ALLYMOBILE.device.desktop?"click":"touchstart",".icon-cancel",function(e){e.preventDefault(),self.hide()})},getContent:function(href){var content,self=this,parts=href.split("#"),url=parts[0],tooltipID=parts[1],cacheID=url.replace(/^\w/g,""),deferred=$.Deferred();return"undefined"==typeof cache[cacheID]?$.when(self.loadJSON(url)).then(function(json){cache[cacheID]=json,content=self.getTooltip(cacheID,tooltipID),deferred.resolve(content)},function(){deferred.reject()}):(content=self.getTooltip(cacheID,tooltipID),deferred.resolve(content)),deferred},getTooltip:function(cacheID,tooltipID){var cachedContent=$(cache[cacheID].article_content),node=cachedContent.find("#"+tooltipID);return node},loadJSON:function(url){return url.match("/$")&&(url+="index.json"),url=url.replace(".html",".json"),$.ajax({type:"GET",url:url,dataType:"json",cache:!1})},hide:function(){this.tooltip.removeClass("show")},show:function(){this.tooltip.addClass("show")},setContent:function(content){var container=this.tooltip.find(".tooltip-content");container.empty().append(content)},setPosition:function(e){var boundaryOffset=$(this.options.boundary).offset(),tooltipWidth=this.tooltip.outerWidth(),arrow=this.tooltip.find(".arrow"),x=e.pageX,y=$(e.currentTarget).offset().top,elemHeight=$(e.currentTarget).outerHeight();arrow.removeClass("far-right far-left"),y=y+elemHeight+20,x-tooltipWidth/2-20<boundaryOffset.left||x-tooltipWidth/2-20<$(window).scrollLeft()?(x-=.15*tooltipWidth,arrow.addClass("far-left")):tooltipWidth/2+20>$(window).width()-x?(x-=.85*tooltipWidth,arrow.addClass("far-right")):x-=.75*tooltipWidth,this.tooltip.css({left:x+this.options.offset.x,top:y+this.options.offset.y})}},Tooltip}(jQuery,_);
		/*!  Concatenated on 03-31-2015 at 11:09:32 AM by MARC */
var ally=ally||{};ally.alert=function(a){a(document).ready(function(){var b=a("#alert_banner");b.on("click",".msg-close",function(){window.sessionStorage.setItem("alert_banner_closed","1"),b.hide()}),"1"!==window.sessionStorage.getItem("alert_banner_closed")&&setTimeout(function(){0===b.find(".mboxDefault").length&&b.show()},2e3)})}(jQuery);
		/*! Concatenated on 03-05-2015 at 11:06:20 AM by MARC */
var ally=ally||{};ally.CWT=function(a,b){function c(b){return this instanceof c?(this.options=a.extend({},e,b||{}),this.el=a(this.options.el),void 0):new c(b)}var d=b.channel("ally.services.cwt"),e={el:"",lob:"bank",maxTime:20,text:"Wait Time:"};return c.prototype={init:function(){return this.el.length?(this.bindEvents(),void 0):(window.console&&window.console.log,void 0)},bindEvents:function(){var a=this;d.subscribe({topic:"cwt.#",callback:function(b,c){var d=parseInt(b.time,10);if(-1!==c.topic.indexOf(a.options.lob)){var e=-1!==c.topic.indexOf("received");switch(e){case!0:var f=!isNaN(d)&&d<a.options.maxTime;f?a.show(d):a.hide();break;default:a.hide()}}}})},show:function(a){this.el.empty().append(this.options.text+" "+a+" min").removeClass("hidden")},hide:function(){this.el.addClass("hidden")}},c}(jQuery,postal);
		/*! cwt.service.js Concatenated on 04-20-2015 at 8:03:50 PM by MARC */
var ally=ally||{};ally.services=ally.services||{},ally.services.CWT=function(a,b,c){function d(b){return this instanceof d?(this.timer=null,this.options=a.extend({},g,b||{}),this.url="undefined"!=typeof f[this.options.lob]?f[this.options.lob]:"",void 0):new d(b)}var e=c.channel("ally.services.cwt"),f={bank:"/cwsvc/waitTime/USBank",auto:""},g={lob:"bank",refreshTime:3e5};return d.prototype={getCWT:function(){var b=this;if(this.url){var c=a.ajax({url:b.url});if(-1!==window.location.search.indexOf("testCWT"))return e.publish({topic:"cwt."+b.options.lob+".received",data:{time:"3"}}),void 0;c.done(function(a,c,d){var f=d.getResponseHeader("Content-Type");"error"!==a&&f&&f.match(/text\/plain/)?e.publish({topic:"cwt."+b.options.lob+".received",data:{time:a}}):e.publish({topic:"cwt."+b.options.lob+".error",data:{time:a}})}),c.fail(function(a,c,d){e.publish({topic:"cwt."+b.options.lob+".error",data:{error:{type:c,message:d}}})})}},start:function(){this.timer=setInterval(this.getCWT,this.options.refreshTime),this.getCWT()},stop:function(){clearInterval(this.timer)}},d}(jQuery,_,postal);
		/*! Concatenated on 03-04-2015 at 11:57:35 PM by VERNON */
var ally=ally||{};ally.Loader=function(a){function b(c){return this instanceof b?(this.el=a(c),this.timer=null,void 0):new b(c)}return b.prototype={init:function(){var b=a('<div class="loader"></div>');this.el.append(b),this.loader=b,this.canAnimate=Modernizr.cssanimations,this.canAnimate||(this.degrees=1,this.transformStyle=navigator.userAgent.match("Chrome")?"WebkitTransform":navigator.userAgent.match("Firefox")?"MozTransform":navigator.userAgent.match("Opera")?"OTransform":"transform")},rotate:function(){this.degrees>=360&&(this.degrees=5),this.loader.css(this.transformStyle,"rotate("+this.degrees+"deg)"),this.degrees+=5},start:function(){var a=this;this.loader.addClass("show spin"),this.canAnimate||(this.timer=setInterval(function(){a.rotate()},10))},stop:function(){this.loader.removeClass("show");var a=this;setTimeout(function(){a.loader.removeClass("spin")},800),this.canAnimate||(clearInterval(this.timer),this.timer=null)}},b}(jQuery,_);
		/*! left-panel.js Concatenated on 01-20-2016 at 1:02:30 PM by PARILLO */
var ally=ally||{};ally.canvas=ally.canvas||{},ally.canvas.Left=function($,postal){function Canvas(options){return this instanceof Canvas?(this.options=$.extend({},defaults,options||{}),this.container=$(this.options.container),this.toggle=$(this.options.toggle),void(this.isOpen=!1)):new Canvas(options)}var channels={canvas:postal.channel("ally.canvas"),overlay:postal.channel("ally.services.overlay"),mediaQuery:postal.channel("ally.media-query")},defaults={container:"#left-off-canvas",toggle:"#left-off-canvas-icon",useOverlay:!0};return Canvas.prototype={init:function(){this.toggle&&0!==this.toggle.length&&this.container&&0!==this.container.length&&(this.options.useOverlay&&(this.container.attr("data-overlay","true"),this.toggle.attr("data-overlay","true")),this.bindEvents())},bindEvents:function(){var self=this;this.toggle.on("click",function(){self.togglePanel()}),this.options.useOverlay&&channels.overlay.subscribe({topic:"hide-modals",callback:function(){self.isOpen&&self.togglePanel()}}),$("body").on("keydown",function(e){var keyCode=e.keyCode||e.which;27===keyCode&&self.isOpen&&self.togglePanel()}),channels.mediaQuery.subscribe({topic:"change.breakpoint",callback:function(data){self.isOpen&&"medium"===data.current&&self.togglePanel()}}),ALLYMOBILE.device.desktop&&channels.overlay.subscribe({topic:"clicked-scroll-bar",callback:function(){self.isOpen&&self.togglePanel()}})},togglePanel:function(){var body=$("body");if(this.options.useOverlay){var topic=this.isOpen?"hide.nav":"show.nav";channels.overlay.publish({topic:topic,data:{source:this,location:"page-nav"}})}channels.canvas.publish({topic:"toggled",data:{canvas:"left",open:this.isOpen}}),this.isOpen?body.removeClass("open-left-canvas"):body.addClass("open-left-canvas"),this.isOpen=!this.isOpen}},Canvas}(jQuery,postal);
		/*! right-panel.js Concatenated on 01-20-2016 at 11:27:18 AM by PARILLO */
var ally=ally||{};ally.canvas=ally.canvas||{},ally.canvas.Right=function($,postal){function Canvas(options){return this instanceof Canvas?(this.options=$.extend({},defaults,options||{}),this.container=$(this.options.container),this.toggle=$(this.options.toggle),void(this.isOpen=!1)):new Canvas(options)}var channels={canvas:postal.channel("ally.canvas"),overlay:postal.channel("ally.services.overlay"),mediaQuery:postal.channel("ally.media-query")},defaults={container:"#right-off-canvas",toggle:"[data-toggle=right-off-canvas]",useOverlay:!0};return Canvas.prototype={init:function(){this.toggle&&0!==this.toggle.length&&this.container&&0!==this.container.length&&(this.options.useOverlay&&(this.container.attr("data-overlay","true"),this.toggle.attr("data-overlay","true")),this.bindEvents())},bindEvents:function(){var self=this;this.toggle.on("click",function(e){e.preventDefault(),self.togglePanel()}),$("body").on("keydown",function(e){var keyCode=e.keyCode||e.which;27===keyCode&&self.isOpen&&(self.togglePanel(),channels.canvas.publish({topic:"closed",data:{canvas:"right"}}))}),channels.canvas.subscribe({topic:"force-open",callback:function(data){"right"!==data.canvas||self.isOpen||self.togglePanel(data.overrideOverlay)}}),this.options.useOverlay&&channels.overlay.subscribe({topic:"hide-modals",callback:function(){self.isOpen&&self.togglePanel()}}),channels.mediaQuery.subscribe({topic:"change.breakpoint",callback:function(data){self.isOpen&&"large"===data.current&&self.togglePanel()}}),ALLYMOBILE.device.desktop&&channels.overlay.subscribe({topic:"clicked-scroll-bar",callback:function(){self.isOpen&&self.togglePanel()}})},togglePanel:function(overrideOverlay){var body=$("body");if(this.options.useOverlay){var topic=this.isOpen?"hide.nav":"show.nav";channels.overlay.publish({topic:topic,data:{source:this,location:"full-page",overrideOverlay:overrideOverlay}})}channels.canvas.publish({topic:"toggled",data:{canvas:"right",open:this.isOpen}}),this.isOpen?body.removeClass("open-right-canvas"):body.addClass("open-right-canvas"),this.isOpen=!this.isOpen}},Canvas}(jQuery,postal);
		/*! social.js Concatenated on 04-12-2016 at 12:03:36 PM by PARILLO */
var ally=ally||{};ally.Social=function($,_){function Social(el,options){return this instanceof Social?(this.options=$.extend({},defaults,options||{}),this.el=$(el),this.tabs=$("#social-tabs",this.el),this.content=$("#social-content",this.el),this.post=$("#social-post",this.el),this.loader=null,void(this.config={})):new Social(el,options)}var defaults={active:"blog",tabs:"blog:bank,facebook:bank,twitter:bank,google:bank,youtube:bank,linkedin:corp",clickDelay:750,initLoad:!0,exceptions:""},settings={blog:{icon:"icon-community",bank:{channel:"Ally Bank Blog",account:"",link:{url:"http://community.ally.com/straight-talk/",alt:"Ally Bank Straight Talk blog",text:"See more"}},auto:{channel:"Ally Auto Blog",account:"",link:{url:"http://community.ally.com/auto/",alt:"Ally Auto blog",text:"See more"}}},facebook:{icon:"icon-facebook",bank:{channel:"Facebook",account:"Ally Bank",link:{url:"https://www.facebook.com/allybank",alt:"Ally Bank Facebook",text:"See more"}},auto:{channel:"Facebook",account:"Ally Auto",link:{url:"https://www.facebook.com/allyauto",alt:"Ally Auto Facebook",text:"See more"}}},twitter:{icon:"icon-twitter-bird",corp:{channel:"Twitter",account:"@Ally",link:{url:"https://twitter.com/ally",alt:"Ally Financial Inc. Twitter",text:"twitter.com/ally"}},bank:{channel:"Twitter",account:"@AllyBank",link:{url:"https://twitter.com/allybank",alt:"Ally Bank Twitter",text:"twitter.com/allybank"}},auto:{channel:"Twitter",account:"@AllyAuto",link:{url:"https://twitter.com/allyauto",alt:"Ally Auto Twitter",text:"twitter.com/allyauto"}}},google:{icon:"icon-google-plus-plain",bank:{channel:"Google+",account:"Ally Bank",link:{url:"https://plus.google.com/+allybank",alt:"Ally Bank Google+",text:"See more"}},auto:{channel:"Google+",account:"Ally Auto",link:{url:"https://plus.google.com/100820964092534025946",alt:"Ally Auto Google+",text:"See more"}}},youtube:{icon:"icon-youtube",bank:{channel:"YouTube",account:"Ally Bank",link:{url:"https://www.youtube.com/user/ally",alt:"Ally Bank YouTube",text:"See more"}},auto:{channel:"YouTube",account:"Ally Auto",link:{url:"https://www.youtube.com/user/AllyAutoSocial",alt:"Ally Auto YouTube",text:"See more"}}},linkedin:{icon:"icon-linked-in",corp:{channel:"LinkedIn",account:"Ally Financial Inc.",link:{url:"https://www.linkedin.com/company/ally-financial-inc",alt:"Ally Financial Inc. LinkedIn",text:"See more"}}},rss:{icon:"icon-rss",corp:{channel:"RSS Feeds",account:"",link:{url:"http://www.ally.com/rss/",alt:"Ally RSS Feeds",text:"See all available feeds"}}}},templates={media:"<p class='large buffer-bottom'><a href='<%= config.link.url %>' target='_blank' title='<%= config.link.alt %>'><%= config.channel %></a></p><p class='bold'><%= config.account %></p><p class='italic buffer-bottom'>Posted: <%= item.published %></p><div class='details'><a href='<%= item.url %>' target='_blank'><img src='<%= item.image.url %>'/></a><% if (item.title) { %><p class='bold'><%= item.title %></p><% } %><% if (item.excerpt) { %><p><%= item.excerpt %><% if (item.url) { %> ... <a href='<%= item.url %>' target='_blank' title='<%= config.link.alt %>'><%= config.link.text %></a><% } %></p><% } %></div>",text:"<p class='large buffer-bottom'><a href='<%= config.link.url %>' target='_blank' title='<%= config.link.alt %>'><%= config.channel %></a></p><% if (config.account) { %><p class='bold'><%= config.account %></p><% } %><% if (item.title) { %><p class='bold'><%= item.title %></p><% } %><% if (item.published) { %><p class='italic buffer-bottom'>Posted: <%= item.published %></p><% } %><% if (item.excerpt) { %><p><%= item.excerpt %><% if (item.url) { %> ... <a href='<%= item.url %>' target='_blank' title='<%= config.link.alt %>'><%= config.link.text %></a><% } %></p><% } %>",alt:"<p class='large buffer-bottom'><a href='<%= config.link.url %>' target='_blank'><%= config.channel %></a></p><p class='bold buffer-bottom'><%= config.account %></p><p class='buffer-top'><%= item.excerpt %></p><% if (config.link.url && config.link.text) { %><p class='buffer-top'><a href='<%= config.link.url %>' target='_blank' title='<%= config.link.alt %>'><%= config.link.text %></a></p><% } %>",error:"<p class='large buffer-bottom'><a href='<%= config.link.url %>' target='_blank' title='<%= config.link.alt %>'><%= config.channel %></a></p><p class='bold'><%= config.account %></p><p class='buffer-top'>This feed is currently unavailable.</p>"};return Social.prototype={init:function(){return this.el.length?this.checkPageExceptions()?(this.initLoader(),this.bindEvents(),void(this.options.tabs&&(this.setTabs(),this.loadFirstTab()))):void this.el.remove():void(window.console&&window.console.log)},initLoader:function(){"undefined"!=typeof ally.Loader&&(this.loader=new ally.Loader(this.content),this.loader.init())},startLoader:function(){this.loader&&this.loader.start()},stopLoader:function(){this.loader&&this.loader.stop()},checkPageExceptions:function(){if("string"==typeof this.options.exceptions&&""!==this.options.exceptions){var regex=new RegExp(this.options.exceptions);if(regex.test(window.location.pathname))return!1}return"function"!=typeof this.options.exceptions||this.options.exceptions()?!0:!1},setTabs:function(tabs){var selectedTabs=_.map((tabs?tabs:this.options.tabs).split(","),function(tab){return $.trim(tab)});if(!selectedTabs.length)return void this.el.remove();this.content.show(),this.config=this.getConfig(selectedTabs);var li='<% _.forOwn(config, function(num,key) { %><li data-id="<%= key %>" class="<%= key %><%= (active===key ? " on" : "") %>"><a href="<%= config[key]["link"]["url"] %>" target="_blank" title="<%= config[key]["link"]["alt"] %>"><span class="<%= config[key]["icon"] %>"></span></a></li><% }); %>',html=_.template(li,{active:this.options.active,config:this.config});this.tabs.find("ul").length||this.tabs.append("<ul></ul>"),this.tabs.find("ul").empty().append(html),tabs&&this.loadFirstTab()},bindEvents:function(){var self=this;this.el.on("click","li > a",function(e){e.stopImmediatePropagation()});var loadContent=_.debounce(function(service,track){return track&&service===self.options.active?void 0:(self.options.active=service,self.post.empty(),"rss"===service||"twitter"===service||"linkedin"===service||"facebook"===service&&"auto"===self.config[service].lob?(self.stopLoader(),self.renderAlt(),void(track&&self.trackEvent(service))):void("undefined"!=typeof ally.services.social[service]&&"function"==typeof ally.services.social[service].load?(self.startLoader(),setTimeout(function(){self.post.is(":empty")&&(self.stopLoader(),self.showError(self.config[service]))},5e3),$.when(ally.services.social[service].load(self.config[service].lob)).then(function(data){self.stopLoader(),self.renderResults(data,service),track&&self.trackEvent(service)},function(){track&&self.trackEvent(service,!0),self.stopLoader(),self.showError(self.config[service])})):(track&&self.trackEvent(service,!0),self.stopLoader(),self.showError(self.config[service]))))},this.options.clickDelay);this.tabs.on("click init","li",function(e){var li=$(e.currentTarget),id=li.attr("data-id");id&&"undefined"!==id&&(-1===["small","medium"].indexOf(ally.services.mediaQuery.currentInfo().breakpoint)&&(e.preventDefault(),self.setActiveTab(id)),loadContent(id,"init"===e.type?!1:!0))})},setActiveTab:function(id){this.tabs.find("li").removeClass("on"),$("[data-id='"+id+"']",this.tabs).addClass("on")},loadFirstTab:function(id){var tab=id||this.options.active,obj=this.tabs.find("[data-id='"+tab+"']");this.options.initLoad&&tab&&""!==tab&&obj.length&&obj.trigger("init")},renderResults:function(data,service){var template,html,items,self=this,config=this.config[service];if(this.options.active===service&&"function"==typeof ally.services.social[service].parse){if(items=ally.services.social[service].parse(data,1)||[],0===items.length)return void self.showError(config);self.post.empty(),_.forEach(items,function(item){template="youtube"===service?templates.media:templates.text,"google"===service&&(item.title=""),"youtube"===service&&(item.excerpt=""),item.title=self.convertUnicode(item.title),item.excerpt=self.convertUnicode(item.excerpt),item.excerpt=self.stripHTML(item.excerpt),item.excerpt=self.truncate(item.excerpt,70),item.excerpt=self.addHyperlinks(item.excerpt),html=_.template(template,{item:item,config:config}),self.post.append(html)})}},renderAlt:function(){var excerpt,config=this.config[this.options.active];switch(this.options.active){case"rss":excerpt="Ally provides RSS Feeds for rates, blog updates, and press releases.";break;case"linkedin":excerpt="Learn about our company, culture, connections and careers.",config.link.text="";break;case"facebook":excerpt="Join the conversation.",config.link.text="facebook.com/allyauto";break;default:excerpt="Get the latest news and updates."}var html=_.template(templates.alt,{item:{excerpt:excerpt},config:config});this.post.empty().append(html)},showError:function(config){var template=templates.error,html=_.template(template,{config:config});this.post.empty().append(html)},stripHTML:function(str){return str&&""!==str?str.replace(/<([^>]*)>/gi,""):str},addHyperlinks:function(str){if(!str||""===str)return"";var regex,link,urlPattern=/[^href=(\\"|\\')|\\>](http|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/gi,links=str.match(urlPattern);if(!links||0===links.length)return str=$("<span>"+str+"</span>"),str.find("a").attr("target","_blank"),str.html();for(var i=0;i<links.length;i++)link=links[i].replace(/\s+/,""),regex=new RegExp(link),str=str.replace(regex,"<a href='"+link+"' target='_blank'>"+link+"</a>");return str},truncate:function(str,len){if(!str||""===str)return"";var arr;return str.length>len&&(arr=str.split("").slice(0,len),arr[arr.length-1].match(/[A-Za-z0-9]/)&&(arr=arr.slice(0,_.lastIndexOf(arr," "))),str=arr.join("")),str},getConfig:function(tabs){var config={};return _.forEach(tabs,function(tab){var version=-1!==tab.indexOf(":")?tab.split(":"):[tab,"bank"],acct=version[0],lob=version[1],section=settings[acct]||"";if(section){var opt=section[lob]||"";opt&&(config[acct]=opt,config[acct].acct=acct,config[acct].lob=lob,config[acct].icon=section.icon)}}),config},convertUnicode:function(str){return str&&""!==str?str.replace(/\\u([A-Z0-9a-z]{3,4})/g,"&#x$1;"):str},trackEvent:function(service,error){if("undefined"!=typeof window.s){var config=this.config[service],page=window.s.pageName||"Ally:US:NotSet:NotSet:NotSet",linkName=page+"|SocialWidget "+[config.channel,config.account].join(" ");error&&(linkName+="_Error"),window.s.linkTrackVars="prop1, prop35, prop74, prop75, eVar74, events",window.s.events="event66,event67",window.s.linkTrackEvents="event66,event67",window.s.prop75=linkName,window.s.events=window.s.linkTrackEvents,window.s.tl(!0,"o",linkName)}}},Social}(jQuery,_);
		/*! social.service.blog.js Concatenated on 11-06-2015 at 5:29:12 PM by GSHANKAR */
//var ally=ally||{};ally.services=ally.services||{},ally.services.social=ally.services.social||{},ally.services.social.blog=function($,_){var api={bank:{url:"/resources/data/blog/bank.json",params:{}},auto:{url:"/resources/data/blog/auto.json",params:{}}},load=function(lob,params){lob="undefined"==typeof api[lob]?"bank":lob;var data=$.extend(!0,api[lob].params,params||{}),url=api[lob].url,deferred=$.Deferred();return $.when(callAPI(url,data)).then(function(result){return deferred.resolve(result)},function(error){return deferred.reject(error.statusText)}),deferred.promise()},parse=function(data,num){var title,excerpt,image,date,published,url,items=[],settings={calendar:moment.localeData()._calendar,monthsShort:moment.localeData()._monthsShort},newSettings=_.clone(settings.calendar);return moment.locale("en",{calendar:_.merge(newSettings,{sameElse:"MMM Do [at] h:mm a"}),monthsShort:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."]}),_.forEach(data.posts,function(item){num&&items.length>=num||(title=item.title,date=moment(item.date),url=item.url,excerpt=item.excerpt,image="","undefined"!=typeof item.attachments&&item.attachments.length>0&&(image=_.result(_.find(item.attachments,function(attachment){return"undefined"!==attachment.images}),"thumbnail")),date.isValid()&&(published=date.tz("America/New_York").calendar()),items.push({title:title,excerpt:excerpt,image:image,published:published,url:url}))}),moment.locale("en",{calendar:settings.calendar,monthsShort:settings.monthsShort}),items},callAPI=function(url,data){return $.ajax({type:"GET",url:url,data:data,dataType:"json",cache:!0})};return{load:load,parse:parse}}(jQuery,_);
		/*! social.service.facebook.js Concatenated on 04-12-2016 at 11:44:01 AM by PARILLO */
//var ally=ally||{};ally.services=ally.services||{},ally.services.social=ally.services.social||{},ally.services.social.facebook=function($,_,moment){var api={bank:{url:"https://graph.facebook.com/151901268159778/posts"},auto:{url:"https://graph.facebook.com/1398056173829883/posts"},token:"AAAD440qWi28BAF9xtD84ZBA9Vh7owMXlrs2bFmneeOFzyZB66mvqzd1KtDNMjxEmjPNL4I9CgPN3k44qM0zbhdxTRaTvU7Xaz8qj8wDwZDZD"},load=function(business){var lob="undefined"==typeof api[business]?"bank":business,deferred=$.Deferred();return $.when(callAPI(lob)).then(function(result){return deferred.resolve(result)},function(error){return deferred.reject(error.statusText)}),deferred.promise()},parse=function(data,num){var excerpt,image,date,published,url,items=[],numFound=0,settings={calendar:moment.localeData()._calendar,monthsShort:moment.localeData()._monthsShort},newSettings=_.clone(settings.calendar);return moment.locale("en",{calendar:_.merge(newSettings,{sameElse:"MMM Do [at] h:mm a"}),monthsShort:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."]}),_.forEach(data.data,function(item){"status"!==item.type&&"undefined"!=typeof item.message&&(num&&(items.length>=num||num===numFound)||(excerpt=item.message,date=moment(item.created_time),url=item.link,image={},date.isValid()&&(published=date.tz("America/New_York").calendar()),"photo"===item.type&&(image={url:item.picture}),items.push({excerpt:excerpt,image:image,published:published,url:url}),numFound++))}),moment.locale("en",{calendar:settings.calendar,monthsShort:settings.monthsShort}),items},callAPI=function(lob){return $.ajax({type:"GET",url:api[lob].url,data:{access_token:api.token},dataType:"jsonp",cache:!1})};return{load:load,parse:parse}}(jQuery,_,moment);
		/*! Concatenated on 03-26-2015 at 9:34:24 AM by MARC */
//var ally=ally||{};ally.services=ally.services||{},ally.services.social=ally.services.social||{},ally.services.social.google=function(a,b,c){var d={list:{url:"https://www.googleapis.com/plus/v1/people/userId/activities/public",params:{maxResults:1,prettyPrint:!1}}},e={bank:{key:"AIzaSyBl6QndDdKP510vnwyiUhFvfczllp0ymRA",userId:"+allybank"},auto:{key:"AIzaSyC3BZGfLUOTFo1mhuSAC_ZIsF0BB9L3frc",userId:"100820964092534025946"}},f=function(b,c,f){b="undefined"==typeof e[b]?"bank":b,c="undefined"==typeof d[c]?"list":c;var g=a.extend(!0,d[c].params,e[b],f||{}),i=d[c].url.replace(/(userId)/,e[b].userId),j=a.Deferred();return a.when(h(i,g)).then(function(a){return j.resolve(a)},function(a){return j.reject(a.statusText)}),j.promise()},g=function(a,d){var e,f,g,h,i,j,k={},l=[],m={calendar:c.localeData()._calendar,monthsShort:c.localeData()._monthsShort},n=b.clone(m.calendar);return c.locale("en",{calendar:b.merge(n,{sameElse:"MMM Do [at] h:mm a"}),monthsShort:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."]}),b.forEach(a.items,function(a){d&&l.length>=d||(e=a.title,g=c(a.published),f=a.object.content,i=a.object.url,g.isValid()&&(h=g.tz("America/New_York").calendar()),"undefined"!=typeof a.object.attachments&&(j=a.object.attachments.splice(0,1)[0],b.isEmpty(j)||(k=j.image)),l.push({title:e,excerpt:f,image:k,published:h,url:i}))}),c.locale("en",{calendar:m.calendar,monthsShort:m.monthsShort}),l},h=function(b,c){return a.ajax({type:"GET",url:b,data:c,dataType:"jsonp",cache:!1})};return{load:f,parse:g}}(jQuery,_,moment);
		/*! Concatenated on 03-04-2015 at 11:57:35 PM by VERNON */

		/*! Concatenated on 03-04-2015 at 11:57:35 PM by VERNON */

		/*! Concatenated on 03-26-2015 at 9:34:24 AM by MARC */
//var ally=ally||{};ally.services=ally.services||{},ally.services.social=ally.services.social||{},ally.services.social.youtube=function(a,b,c){var d={playlist:{url:"https://www.googleapis.com/youtube/v3/playlistItems",params:{part:"snippet",maxResults:1}}},e={bank:{key:"AIzaSyBl6QndDdKP510vnwyiUhFvfczllp0ymRA",channelId:"UCyTgQ02KKLDrIfocv58A85g",playlistId:"UUyTgQ02KKLDrIfocv58A85g"},auto:{key:"AIzaSyC3BZGfLUOTFo1mhuSAC_ZIsF0BB9L3frc",channelId:"UCY-DnAL03a-QCTaUc5Iv_0g",playlistId:"UUY0usC9a8nDnsp2bZKVvwFw"}},f=function(b,c,f){b="undefined"==typeof e[b]?"bank":b,c="undefined"==typeof d[c]?"playlist":c;var g=a.extend(!0,d[c].params,e[b],f||{}),i=d[c].url,j=a.Deferred();return a.when(h(i,g)).then(function(a){return j.resolve(a)},function(a){return j.reject(a.statusText)}),j.promise()},g=function(a,d){var e,f,g,h,i,j={},k=[],l={calendar:c.localeData()._calendar,monthsShort:c.localeData()._monthsShort},m=b.clone(l.calendar);return c.locale("en",{calendar:b.merge(m,{sameElse:"MMM Do [at] h:mm a"}),monthsShort:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."]}),b.forEach(a.items,function(a){d&&k.length>=d||(e=a.snippet.title,f=a.snippet.description,j=a.snippet.thumbnails["default"],g=c(a.snippet.publishedAt),i="https://www.youtube.com/watch?v="+a.snippet.resourceId.videoId,g.isValid()&&(h=g.tz("America/New_York").calendar()),k.push({title:e,excerpt:f,image:j,published:h,url:i}))}),c.locale("en",{calendar:l.calendar,monthsShort:l.monthsShort}),k},h=function(b,c){return a.ajax({type:"GET",url:b,data:c,dataType:"jsonp",cache:!1})};return{load:f,parse:g}}(jQuery,_,moment);
		/*! login.js Concatenated on 07-14-2016 at 11:44:05 AM by PARILLO */
var ally=ally||{};ally.Login=function($,_,postal){function Login(el,options){return this instanceof Login?(this.el=$(el),this.options=$.extend(!0,{},defaults,options||{}),this.modal=null,this.widget=null,this.toggle=null,this.widgetLocation="mobile",void(this.isIE=null!==window.navigator.userAgent.match(/msie/i)||null!==window.navigator.appVersion.match(/trident/i))):new Login(el,options)}var defaults={loginPreferenceTimeout:365,useOverlay:!0,timeouts:{auto:{warning:28,logout:30,cookie:"ally-login-auto",urls:{logout:"/auto/online-services/secure/logout.html",timeout:"/logged-off/auto/timed-out.html",keepalive:"/auto/online-services/access/keep-alive.html"},message:"<div class='section'><h2>You are about to be logged out</h2><p>For your safety and protection, access to your account will end <%= remaining %> due to inactivity.</p><p>If you want to continue accessing your accounts and not be logged out, please click OK below.</p><button type='button' class='button primary' aria-label='Keep me logged in'>OK. Keep me logged in.</button></div>"},bank:{warning:0,logout:0,cookie:"",urls:{logout:"",timeout:"",keepalive:""},message:""}}},channels={overlay:postal.channel("ally.services.overlay"),mediaQuery:postal.channel("ally.media-query"),canvas:postal.channel("ally.canvas")};return Login.prototype={init:function(){var self=this;this.initComponents(),this.isLoggedIn(),$("#login-modal").length&&this.initModal(),$("#login-widget").length&&(this.widget=$("#login-widget"),this.initWidget(),this.updateWidgetLocation(ally.services.mediaQuery.currentInfo().breakpoint)),this.el.on("click","[data-track]",function(e){if(!$(this).attr("data-toggle")){if("auto-logout"===$(this).attr("data-track")){var cookie=self.options.timeouts.auto.cookie;$.removeCookie(cookie,{path:"/"})}self.trackEvent(e)}})},initComponents:function(){var cLoggedInAuto=$.cookie("ally-login-auto"),isBankSubPage=window.location.href.match(/bank\/\S+/i),isAutoSubPage=window.location.href.match(/auto\/\S+\//i),isHelpPage=window.location.href.match(/\/help\/\S+\//i),cPref=$.cookie("ally-login-default"),cPrefAuto=cPref?cPref.match(/auto/i):!1,cPrefBank=cPref?cPref.match(/bank/i):!1,noDefaultSplitter=$("[data-id=no-default-splitter]",this.el),defaultSplitter=$("[data-id=default-splitter]",this.el),defaultAuto=$("[data-id=default-auto]",this.el),defaultBank=$("[data-id=default-bank]",this.el);return 0!==noDefaultSplitter.length?!cPref&&isHelpPage?void noDefaultSplitter.show():cLoggedInAuto&&cLoggedInAuto.match(/[A-Za-z0-9]+/)?(noDefaultSplitter.hide(),void $("[data-id=logged-in-auto]").show()):!cPref&&isAutoSubPage?(noDefaultSplitter.hide(),void defaultAuto.show()):!cPref&&isBankSubPage?(noDefaultSplitter.hide(),void defaultBank.show()):void(cPref&&(noDefaultSplitter.hide(),defaultSplitter.show(),isAutoSubPage?defaultAuto.show():isBankSubPage?defaultBank.show():(cPrefAuto&&(defaultAuto.show(),$("#auto-login",this.el).find("a[href]").attr("data-track","login-pref-auto")),cPrefBank&&(defaultBank.show(),$("#bank-login",this.el).find("a[href]").attr("data-track","login-pref-bank"))))):void 0},initWidget:function(){var self=this,modalEvent=$.Event("login-forgot-modal");channels.mediaQuery.subscribe({topic:"change.breakpoint",callback:function(data){self.updateWidgetLocation(data.current)}}),this.widget.find("select#account").on("focus",function(){"mobile"!==self.widgetLocation||$("body").hasClass("open-right-canvas")||channels.canvas.publish({topic:"force-open",data:{canvas:"right",overrideOverlay:!1}})}),channels.overlay.subscribe({topic:"hide-modals",callback:function(data){data.isVisible&&(self.clearErrors(),$("#skip-to-main-nav").focus())}}),channels.canvas.subscribe({topic:"closed",callback:function(data){"right"===data.canvas&&(self.clearErrors(),$("#skip-to-main-nav").focus())}}),$('a[data-id="username-modal"]').allyModal({overlayModifier:"interstitial-modal",modalModifier:"no-fullwidth stretch",contentType:"custom",showEvent:"show-username-modal",contentModifier:"login-forgot-prompt",customContent:"<div class='interstitial-content panel-1'><h4>Which username did you forget?</h4><a class='cta-button primary no-shadow mid' href='"+self.getEnvironmentDomain("aaos","username")+"' data-id='auto-username' tabindex='0'>Auto Login</a> <a class='cta-button primary no-shadow mid' data-id='bank-username' tabindex='0'>Bank Login</a></div><div class='interstitial-content panel-2' style='display:none'><p>Forgot your Bank Login username?</p><p>Please call us 24/7 at 1-877-247-2559 for help.</p></div>",onCreate:function(ui){var modal=ui.$modal;$("a[data-id=bank-username]",modal).on("click",function(e){e.preventDefault(),$(".interstitial-content.panel-1",modal).hide(),$(".interstitial-content.panel-2",modal).show(),$(document).trigger(modalEvent,{detail:{lob:"bank",type:"user"}})}),$("a[data-id=auto-username]",modal).on("click",function(){$(document).trigger(modalEvent,{detail:{lob:"auto",type:"user"}})})},onOpen:function(ui){var modal=ui.$modal;modal.find("a.cta-button:first").focus()},onClose:function(ui){var modal=ui.$modal;$(".interstitial-content.panel-2",modal).hide(),$(".interstitial-content.panel-1",modal).show()}}).on("click",function(){var selected=$("select#account")[0];switch(selected.value){case"aob":var modal=$('a[data-id="username-modal"]').data("plugin_allyModal").$modal;$("a[data-id=bank-username]",$(modal)).trigger("click"),$(this).trigger("show-username-modal");break;case"aaos":window.location.href=self.getEnvironmentDomain("aaos","username");break;default:$(this).trigger("show-username-modal")}}),$('a[data-id="password-modal"]').allyModal({overlayModifier:"interstitial-modal",modalModifier:"no-fullwidth stretch",contentType:"custom",showEvent:"show-password-modal",contentModifier:"login-forgot-prompt",customContent:"<div class='interstitial-content'><h4>Which password did you forget?</h4><a class='cta-button primary no-shadow mid' data-id='auto-password' href='"+self.getEnvironmentDomain("aaos","password")+"' tabindex='0'>Auto Login</a> <a class='cta-button primary no-shadow mid' href='"+self.getEnvironmentDomain("aob","password")+"' data-id='bank-password' tabindex='0'>Bank Login</a></div>",onCreate:function(ui){var modal=ui.$modal;$("a[data-id=bank-password]",modal).on("click",function(e){$(document).trigger(modalEvent,{detail:{lob:"bank",type:"pass"}})}),$("a[data-id=auto-password]",modal).on("click",function(e){$(document).trigger(modalEvent,{detail:{lob:"auto",type:"pass"}})})},onOpen:function(ui){var modal=ui.$modal;modal.find("a.cta-button:first").focus()}}).on("click",function(){var selected=$("select#account")[0];switch(selected.value){case"aob":window.location.href=self.getEnvironmentDomain("aob","password");break;case"aaos":window.location.href=self.getEnvironmentDomain("aaos","password");break;default:$(this).trigger("show-password-modal")}}),$("[data-id=enroll-aaos]",this.widget).attr("href",self.getEnvironmentDomain("aaos","enroll"))},clearErrors:function(){var form=this.widget.find("form"),errors=$("[data-haserror=true]",form);errors.length&&errors.each(function(){$(this).attr("data-haserror","false")})},getEnvironmentDomain:function(lob,type){var url=["https://"],sfl_domains=$("#sfl-domains").text(),obj={auth_domains:{aob:"securebanking.ally.com",aaos:"www.ally.com"}};sfl_domains&&(obj=JSON.parse(sfl_domains));var targets={username:{aob:"",aaos:"/autoidp/forgot-username"},password:{aob:"/#/forgot-password",aaos:"/autoidp/forgot-password"},enroll:{aob:"/enroll",aaos:"/autoidp/enroll-online"}},domain=obj.auth_domains[lob],path=targets[type][lob];return url.push(domain,path),url.join("")},updateWidgetLocation:function(currentBreakpoint){function moveWidget(){widget.fadeOut(200,function(){widget.detach().appendTo("[data-widget-location='"+newLocation+"']"),"mobile"===newLocation&&(interacting.username||interacting.password||interacting.errors||modalIsOpen)&&channels.canvas.publish({topic:"force-open",data:{canvas:"right",overrideOverlay:modalIsOpen}}),widget.fadeIn(200,function(){interacting.username&&username.focus(),interacting.password&&password.focus()}),self.widgetLocation=newLocation})}var self=this,widget=this.widget,newLocation=-1!==["small","medium"].indexOf(currentBreakpoint)?"mobile":"desktop",isIOS=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/);if(widget.length&&newLocation!==self.widgetLocation){var form=widget.find("form"),username=$("input[name=username]",form),password=$("input[name=password]",form),modalIsOpen=$("a[data-id=username-modal]").allyModal("isOpen")||$("a[data-id=password-modal]").allyModal("isOpen"),interacting={username:username.is(":focus"),password:password.is(":focus"),errors:$("[data-haserror=true]",form).length>0};isIOS?(widget.hide(),setTimeout(moveWidget,500)):moveWidget()}},isLoggedIn:function(){var self=this;_.forOwn(this.options.timeouts,function(num,key){var lob=key;if("undefined"!=typeof self.options.timeouts[lob]){var cookieName="undefined"!=typeof self.options.timeouts[lob].cookie?self.options.timeouts[lob].cookie:"",cookieValue=$.cookie(cookieName);cookieName&&cookieValue&&"false"!==cookieValue&&self.startTimer(lob)}})},startTimer:function(lob){var self=this,warning=this.options.timeouts[lob].warning||0,logout=this.options.timeouts[lob].logout||0;"undefined"==typeof this.options.timeouts[lob].timers&&(this.options.timeouts[lob].timers={warning:null,logout:null}),this.options.timeouts[lob].timers.warning&&clearTimeout(this.options.timeouts[lob].timers.warning),this.options.timeouts[lob].timers.logout&&clearTimeout(this.options.timeouts[lob].timers.logout),!isNaN(warning)&&warning>0&&(this.options.timeouts[lob].timers.warning=setTimeout(function(){self.showTimeoutWarning(lob)},60*warning*1e3)),!isNaN(logout)&&logout>0&&(this.options.timeouts[lob].timers.logout=setTimeout(function(){self.clientTimeout(lob)},60*logout*1e3))},showTimeoutWarning:function(lob){var remaining,template,logoutMinutes,warningMinutes,div,id,message=this.options.timeouts[lob].message||"",self=this;message&&(div=$("<div/>"),id=lob+"-logout-warn-modal",div.attr("id",id),$("body").append(div),logoutMinutes=this.options.timeouts[lob].logout,warningMinutes=this.options.timeouts[lob].warning,remaining=logoutMinutes-warningMinutes,remaining=!isNaN(remaining)&&remaining>0?"in "+remaining+" minute"+(1===remaining?"":"s"):"",template=$(_.template(message,{remaining:remaining})),template.find("button").data("lob",lob),$("button",template).on("click",function(e){e.preventDefault();var lob=$(this).data("lob");self.startTimer(lob),self.clientKeepAlive(lob),self.modalClose(lob)}),div.modal({content:template,autoShow:!0}))},modalClose:function(lob){var id=lob+"-logout-warn-modal",div=$("#"+id);div.length&&(div.modal("close"),div.remove())},clientLogout:function(lob){var cookie=this.options.timeouts[lob].cookie||"",url=this.options.timeouts[lob].urls.logout||"";cookie&&$.removeCookie(cookie,{path:"/"}),url&&(window.location.href=url)},clientKeepAlive:function(lob){var url=this.options.timeouts[lob].urls.keepalive;url&&(document.createElement("img").src=url+"?"+(new Date).valueOf())},clientTimeout:function(lob){var cookie=this.options.timeouts[lob].cookie||"",url=this.options.timeouts[lob].urls.timeout||"";cookie&&$.removeCookie(cookie,{path:"/"}),url&&(window.location.href=url)},initModal:function(){$("[data-toggle=login-splitter]",this.el)&&(this.toggle=$("[data-toggle=login-splitter]",this.el),this.modal=$("#login-modal",this.el),this.modal.attr("data-overlay","true"),this.toggle.attr("data-overlay","true")),this.modal&&this.toggle&&(this.bindModalEvents(),this.setPreferredLogin())},setPreferredLogin:function(){var preferredLOB=$.cookie("ally-login-default");$("input[type=checkbox]",this.modal).prop("checked",!1),preferredLOB&&$('input[value="'+preferredLOB+'"]',this.modal).prop("checked",!0)},changePreferredLogin:function(value,remove){var self=this,name="ally-login-default";remove?$.removeCookie(name,{path:"/"}):$.cookie(name,value,{path:"/",expires:self.options.loginPreferenceTimeout})},bindModalEvents:function(){var self=this;this.modal.on(ALLYMOBILE.device.desktop?"click":"touchstart","input[type=checkbox]",function(){var lob=$(this).attr("value"),isChecked=$(this).is(":checked");$("input[type=checkbox]",self.modal).prop("checked",!1),$('input[value="'+lob+'"]',self.modal).prop("checked",isChecked),isChecked?self.changePreferredLogin(lob,!1):self.changePreferredLogin(null,!0)}),this.modal.on("click","button",function(){self.isIE&&$(this).closest("a")[0].click()}),this.toggle.on(ALLYMOBILE.device.desktop?"click":"touchstart",$.proxy(this.toggleSplitter,this)),channels.overlay.subscribe({topic:"hide-modals",callback:function(data){self.hideSplitter(),data.event&&$(data.event.target).is("a")&&$(data.event.target).parents("#login").length&&$(data.event.target)[0].click()}}),channels.canvas.subscribe({topic:"toggled",callback:function(data){self.modal.hasClass("on")&&data.open&&self.hideSplitter()}}),$(document).on("mousedown",function(e){var target=$(e.target);!self.modal.hasClass("on")||self.modal.find(target).length||target.is(self.toggle)||self.hideSplitter()}),channels.mediaQuery.subscribe({topic:"change.breakpoint",callback:function(data){self.modal.hasClass("on")&&-1===["small","medium"].indexOf(data.current)&&(self.hideSplitter(),channels.overlay.publish({topic:"hide.login",data:{source:self,location:"global-nav"}}))}})},toggleSplitter:function(e){e.preventDefault(),e.stopPropagation();var isVisible=this.modal.hasClass("on");return isVisible?(this.hideSplitter(),channels.overlay.publish({topic:"hide.login",data:{source:self,location:"global-nav"}})):(this.showSplitter(),this.trackEvent(e)),!1},showSplitter:function(){var self=this;this.modal.addClass("on").attr("aria-expanded","true"),this.modal.find("section").first().trigger("focus"),this.options.useOverlay&&channels.overlay.publish({topic:"show.login",data:{source:self,location:"global-nav"}})},hideSplitter:function(){this.modal.removeClass("on").attr("aria-expanded","false")},trackEvent:function(e){if("undefined"!=typeof window.s){var page,linkName,target=$(e.currentTarget),track=target.attr("data-track");switch(track){case"auto-direct":linkName="Login|AutoDirect";break;case"bank-direct":linkName="Login|BankDirect";break;case"login-widget":linkName="Login";break;case"login-widget-auto":linkName="Login|Auto";break;case"login-widget-bank":linkName="Login|Bank";break;case"login-pref":linkName="LoginPref";break;case"login-pref-auto":linkName="LoginPref|Auto";break;case"login-pref-bank":linkName="LoginPref|Bank";break;case"login-pref-dealer":linkName="LoginPref|Dealer";break;case"auto-gotovehicles":linkName="Auto|GoToVehicles";break;case"auto-logout":linkName="Auto|LogOut"}page=window.s.pageName||"Ally:US:NotSet:NotSet:NotSet",linkName=page+"|"+linkName,window.s.linkTrackVars="prop1, prop35, prop74, prop75, eVar74, events",window.s.events="event66,event67",window.s.linkTrackEvents="event66,event67",window.s.prop75=linkName,window.s.events=window.s.linkTrackEvents,window.s.tl(e,"o",linkName)}}},Login}(jQuery,_,postal);
		/*! chat.js Concatenated on 11-24-2015 at 8:03:27 AM by PARILLO */
//var ally=ally||{};ally.chat=function(){var options={pid:"",elem:"",animationTarget:"",debug:!1,parent:"",mtagconfig:"/resources/pres/global/js/mtagconfig.js",lpUnit:"storefront",lpLanguage:"english",lpSection:"Products"},chat={lpConfig:{},inviteWindow:{name:"",config:{},div:"",shouldAnimate:!0},dynButton:{name:"",config:{},div:"",shouldShow:!0},position:{isFixed:!1,y:0}},config={},init=function(params){config=$.extend({},options,params||{}),"undefined"==typeof window.lpMTagConfig&&(window.lpMTagConfig={}),setLivePersonGlobalVars(),loadMTagConfig().done(function(){sendCookieInfo("mbox"),debug("mtagconfig.js loaded successfully."),isHomePage()&&(chat.dynButton.shouldShow=!1,chat.inviteWindow.shouldAnimate=!1),config.elem&&chatButtonExists()?initChatButton():(startLivePersonPolling(),debug("No button is set in the config -or- the button was not found in the DOM. Bypassing chat button initialization."))}).fail(function(e,code,text){debug("Unable to load mtagconfig file for LivePerson.  Make sure the mtagconfig.js path "+config.mtagconfig+" is correct.",code,text)})},initChatButton=function(){return""===config.pid?void debug("A chat button PID must be set during initialization.  The PID corresponds to the pid in the dynButton object in mtagconfig.js. Button initialization stopped."):void(registerChatButton()?($(config.elem).attr("id",config.pid),chat.buttonPositon=$(config.elem).offset().top,$(document).on("chat-position-changed",function(){chat.position.isFixed=$(config.elem).parents(".sticky").length}),$(window).scroll(function(){chat.position.x=chat.buttonPosition-$(window).scrollTop()}),bindButtonEvents(),bindInviteEvents(),"function"==typeof window.lpAddVars&&(window.lpAddVars("page","unit",window.lpUnit),window.lpAddVars("page","Section",window.lpSection),window.lpAddVars("session","language",window.lpLanguage),reportPageToLivePerson()),debug("Chat button initialized"),startLivePersonPolling()):(debug("Unable to locate Chat Button PID ("+config.pid+") in the LivePerson mtagconfig file. Button initialization stopped."),startLivePersonPolling()))},startLivePersonPolling=function(){window.lpMTagConfig.onLoadAll(),debug("Live Person polling has started.")},setLivePersonGlobalVars=function(){"undefined"==typeof window.lpUnit&&(window.lpUnit=config.lpUnit),window.lpMTagConfig.deploymentID=window.lpUnit,"undefined"==typeof window.lpLanguage&&(window.lpLanguage=config.lpLanguage),"undefined"==typeof window.lpSection&&(window.lpSection=config.lpSection),window.lpMTagConfig.defaultInvite="chat-"+window.lpUnit+"-"+window.lpLanguage},bindButtonEvents=function(){if(""!==chat.lpConfig.ovr){var obj=convertToObject(chat.lpConfig.ovr);obj.dbStateChange=function(objName,status){switch(status){case"online":callbacks.btnShow({status:status,showAnimation:!1});break;case"offline":case"inactive":callbacks.btnHide({status:status})}return!0},obj.dbClicked=function(objName,status){return reportToSiteCatalyst({action:"Chat Requested"}),hideChatInviteWindow(),callbacks.btnClicked({status:status}),"busy"===getChatButton().config.buttonState&&window.lpMTagConfig.pluginCode.globalUtilsV2.busyAction(getChatButton().config),!0},obj.dbShown=function(){return callbacks.btnShown(),!0},obj.dbStart=function(objName){return setChatButton(objName),callbacks.btnStart(),!0}}},bindInviteEvents=function(){window.lpMTagConfig.inviteChatStart=function(objName){return setInviteWindow(objName),callbacks.inviteChatStart({winName:objName}),!0},window.lpMTagConfig.inviteChatShown=function(objName){return reportToSiteCatalyst({action:"Chat Offered"}),callbacks.inviteChatShown(),!0},window.lpMTagConfig.inviteChatAccept=function(objName){return reportToSiteCatalyst({action:"Chat Accepted"}),callbacks.inviteChatAccept(),!0},window.lpMTagConfig.inviteChatDeclined=function(objName){return reportToSiteCatalyst({action:"Chat Declined"}),callbacks.inviteChatDeclined(),!0},window.lpMTagConfig.inviteChatTimeout=function(objName){return reportToSiteCatalyst({action:"Chat Timeout"}),callbacks.inviteChatTimeout(),!0}},animateChatInviteWindow=function(){if(!config.animationTarget||!chat.inviteWindow.shouldAnimate)return void debug("Animation cancelled: Target Set ("+config.animationTarget+"), Invite Window Should Animate ("+chat.inviteWindow.shouldAnimate+")");var target=$(config.animationTarget);if(0!==target.length&&(chat.position.isFixed||!(chat.position.x<-300))){debug("Animating chat window to: ",target,target.offset().top,target.offset().left,target.width(),target.height());var btn=getChatButton();btn.config.buttonState="online",btn.div.empty().append(btn.config.onlineHTML);var win=getInviteWindow(),chatDiv=win.div,chatWin=$("#chatBackdrop",chatDiv),width=chatWin.css("width"),height=chatWin.css("height"),top=chatDiv.css("top"),left=chatDiv.css("left"),animatedDiv=$("<div/>");animatedDiv.css({top:top,left:left,width:width,height:height,zIndex:20,position:"absolute",background:"none",border:"1px solid #000"}),$("body").append(animatedDiv),animatedDiv.animate({width:target.width(),height:target.height(),top:Math.floor(target.offset().top),left:Math.floor(target.offset().left),opacity:.2,filter:""},1500,"linear",function(){animatedDiv.remove()})}},sendCookieInfo=function(name){var result=$.cookie(name);if(!result)return void debug("No cookie information found for ",name);switch(name){case"mbox":var status={bankCustomer:"false",autoCustomer:"false"};/bankCustomer:true/.test(result)&&(status.bankCustomer="true"),/autoCustomer:true/.test(result)&&(status.autoCustomer="true"),window.lpAddVars("session","VisitorStatus","bankCustomer:"+status.bankCustomer+",autoCustomer:"+status.autoCustomer)}},reportPageToLivePerson=function(){var pageName="";"undefined"!=typeof window.s?(pageName=window.s.pageName,window.lpAddVars("page","PageName",pageName)):setTimeout(function(){pageName="undefined"!=typeof window.s&&"undefined"!==window.s.pageName?window.s.pageName:"Unknown Page",window.lpAddVars("page","PageName",pageName)},5e3)},reportToSiteCatalyst=function(data){if("undefined"!=typeof window.s)switch(window.s.trackExternalLinks=!1,data.action){case"Chat Requested":window.s.linkTrackVars="eVar45",window.s.eVar45=window.s.pageName+"|Chat Requested",window.s.tl(this,"o",window.s.eVar45);break;case"Chat Declined":window.s.linkTrackVars="events,eVar75",window.s.events="event24",window.s.linkTrackEvents="event24",window.s.eVar75=window.s.eVar22+":Chat Declined",window.s.tl(this,"o",window.s.eVar75);break;case"Chat Offered":window.s.linkTrackVars="eVar45",window.s.eVar45=window.s.pageName+"|Chat Offered",window.s.tl(this,"o",window.s.eVar45);break;case"Chat Accepted":window.s.linkTrackVars="events,eVar75",window.s.events="event24",window.s.linkTrackEvents="event24",window.s.eVar75=window.s.eVar22+":Chat Accepted",window.s.tl(this,"o",window.s.eVar75);break;case"Chat Timeout":window.s.linkTrackVars="events,eVar75",window.s.events="event24",window.s.linkTrackEvents="event24",window.s.eVar75=window.s.eVar22+":Chat Timeout",window.s.tl(this,"o",window.s.eVar75);break;default:return}},hideChatInviteWindow=function(){var win=chat.inviteWindow;win.div.length>0&&win.config.HideDIV()},setChatButton=function(btnName){var div=$(config.elem)||"",btn=btnName?convertToObject(btnName):{};$.extend(!0,chat.dynButton,{name:btnName,config:btn,div:div})},getChatButton=function(){return chat.dynButton},registerChatButton=function(){var button,i,buttons=window.lpMTagConfig.dynButton;for(i=0;i<buttons.length;i++)if(button=buttons[i],config.pid===button.pid)return $.extend(chat.lpConfig,button),!0;return!1},chatButtonExists=function(){return $(config.elem).length>0},setInviteWindow=function(winName){var win=convertToObject(winName)||{},div="";"undefined"!=typeof win.divID&&(div=$("#"+win.divID)),$.extend(!0,chat.inviteWindow,{name:winName,config:win,div:div})},getInviteWindow=function(){return chat.inviteWindow},isHomePage=function(){var path=window.location.pathname;return!(path&&"/"!==path&&!path.match(/^\/index.html/))},debug=function(){"undefined"==typeof window.console||!config.debug&&-1===window.location.search.indexOf("debug")||console.debug(arguments[0],Array.prototype.slice.call(arguments,1))},convertToObject=function(str,parent){var i,objStr=str.split("."),objParent=parent||window;for(i=0;i<objStr.length;i++)objParent=objParent[objStr[i]];return objParent},loadMTagConfig=function(){return $.ajax({type:"GET",url:config.mtagconfig,dataType:"script",cache:!0})},callbacks={btnShow:function(data){if(!chat.dynButton.shouldShow)return void debug("Not showing chat button");var btn=getChatButton(),params=$.extend(btn,data||{});$.isFunction(config.btnShow)&&config.btnShow(params),debug("Show Chat Button: ",params)},btnHide:function(data){var btn=getChatButton(),params=$.extend(btn,data||{});$.isFunction(config.btnHide)&&config.btnHide(params),debug("Hide Chat Button: ",params)},btnClicked:function(data){var btn=getChatButton(),params=$.extend({btn:btn},data||{});$.isFunction(config.btnClicked)&&config.btnClicked(params),debug("Chat Button Clicked: ",params)},btnShown:function(data){var btn=getChatButton(),params=$.extend(btn,data||{});$.isFunction(config.btnShown)&&config.btnShown(params),debug("Chat Button Shown: ",params)},btnStart:function(data){var btn=getChatButton(),params=$.extend(btn,data||{});$.isFunction(config.btnStart)&&config.btnStart(params),debug("Chat Button Start: ",params)},inviteChatStart:function(data){var win=getInviteWindow(),params=$.extend(win,data||{});$.isFunction(config.inviteChatStart)&&config.inviteChatStart(params),debug("Invite Window Start: ",params)},inviteChatShown:function(data){var win=getInviteWindow(),params=$.extend(win,data||{});$.isFunction(config.inviteChatShown)&&config.inviteChatShown(params),debug("Invite Window Shown: ",params)},inviteChatAccept:function(data){var win=getInviteWindow(),params=$.extend(win,data||{});$.isFunction(config.inviteChatAccept)&&config.inviteChatAccept(params),callbacks.btnShow({showAnimation:!0}),debug("Invite Window Accepted: ",params)},inviteChatDeclined:function(data){var win=getInviteWindow(),params=$.extend(win,data||{});$.isFunction(config.inviteChatDeclined)&&config.inviteChatDeclined(params),callbacks.btnShow({showAnimation:!0}),debug("Invite Window Declined: ",params)},inviteChatTimeout:function(data){var win=getInviteWindow(),params=$.extend(win,data||{});$.isFunction(config.inviteChatTimeout)&&config.inviteChatTimeout(params),callbacks.btnShow({showAnimation:!0}),debug("Invite Window Timeout: ",params)}};return{init:init,animateChatInviteWindow:animateChatInviteWindow}}();
		/*! modal.js Concatenated on 03-22-2016 at 12:57:18 PM by PARILLO */
!function($,window,document,undefined){function Plugin(element,options){this.el=element,this.$el=$(this.el),this.options=$.extend(!0,{},defaults,options),this.modalBuilt=!1;var nameSpace,dataOptions=this.$el.data(this.options.dataOptName);dataOptions&&(this.options=$.extend(!0,{},this.options,dataOptions)),this.options.el=this.el,this.options.$el=this.$el,nameSpace="."+$.trim(this.options.evtNamespace),this.options.showEvent=this.options.showEvent+nameSpace,this._name=pluginName,this.init()}var pluginName="allyModal",isIE8=!1,isIE9=!1,defaults={overlayClass:"ally-modal",overlayModifier:"",overlayAttrs:"",modalClass:"modal",modalModifier:"",modalAttrs:"",dataOptName:"modal-options",contentType:"image",contentClass:"content",contentModifier:"",contentAttrs:"",modalTemplate:null,customContent:null,ajaxSettings:{},ajaxContext:null,lazyLoad:!1,header:{title:"",buttons:[]},showClass:"show",bodyShowClass:"modal-shown",showEvent:"click",evtNamespace:"ally.modal",closeBtnContent:'<i class="icon-cancel"></i>',failedAjaxMessage:"Request Failed",closeBtnClass:"close-btn",closeBtnText:"",closeBtnAttrs:"data-close-modal",closeModal:"[data-close-modal]",clickOutsideToHide:!0,isOpen:!1,autoShow:!1,keepClosedId:!1,closedDuration:30,modalUrl:null,ie8Center:!0,ie9Center:!0,prompt:!1,promptTarget:".cta-button.primary",onInit:$.noop,onCreate:$.noop,onOpen:$.noop,onClose:$.noop},isPluginType=function(el){return"object"==typeof $(el).data("plugin_"+pluginName)},checkModalData=function(){Date.now=Date.now||function(){return+new Date};var storedData=JSON.parse(localStorage.getItem("allyModal")),currentDate=Date.now();if(storedData&&storedData.keepClosed)for(var key in storedData.keepClosed)storedData.keepClosed.hasOwnProperty(key)&&storedData.keepClosed[key]<=currentDate&&(delete storedData.keepClosed[key],storedData=JSON.stringify(storedData),localStorage.setItem("allyModal",storedData))},escClose=function(e){e.keyCode&&27!==e.keyCode||$(':modalPlugin("isOpen")')[pluginName]("hide",[!1,!0])},initModalEnv=function(){window.history.location||window.location;$(document).on("keyup",escClose),navigator.appVersion.match(/MSIE ([\d.]+)/)&&(isIE9="9.0"==navigator.appVersion.match(/MSIE ([\d.]+)/)[1]),checkModalData(),$(window).on("popstate.modal.history",function(e){$(':modalPlugin("isOpen")')[pluginName]("hide"),history.state&&history.state.modal&&$(':modalUrl("'+history.state.modal+'")')[pluginName]("show")}),history.state&&history.state.modal&&""===window.location.hash&&history.go(-1)},getTrueValue=function(val){if(isNaN(parseInt(val,10)))switch(val){case"null":return null;case"true":return!0;case"false":return!1;case"undefined":return undefined;default:return val}return parseInt(val,10)};initModalEnv(),$.extend($.expr[":"],{modalPlugin:function(el,index,meta){if(meta[3]&&isPluginType(el)){var inputOpts=meta[3].split(":"),pluginOpts=$.data(el,"plugin_"+pluginName).options[inputOpts[0]];return inputOpts.length>1?pluginOpts===getTrueValue(inputOpts[1]):pluginOpts}return isPluginType(el)},modalUrl:function(el,index,meta){if(isPluginType(el)){var modalUrl=$.data(el,"plugin_"+pluginName).options.modalUrl;return meta[3]?modalUrl===meta[3]:"undefined"!=typeof modalUrl}return!1}}),Plugin.prototype={init:function(){this.options.onInit(this);var self=this;this.options.lazyLoad?(this.$el.on(this.options.showEvent,{self:this},this.lazyLoad),this.showConditions()&&this.lazyLoad()):(this.$el.on(this.options.showEvent,{self:this},this.show),$.when(this.buildModal()).then(function(){self.showConditions()&&self.show()}))},showConditions:function(){var urlHash=window.location.hash,modalUrl=this.options.modalUrl,storedData=JSON.parse(localStorage.getItem("allyModal")),keepClosed=storedData&&storedData.keepClosed&&storedData.keepClosed.hasOwnProperty(this.options.keepClosedId);return modalUrl&&urlHash.split("#")[1]===modalUrl||this.options.autoShow&&""===urlHash&&!keepClosed},processCustomTemplate:function(html){this.$overlay=$(html).addClass(this.options.overlayModifier),this.$modal=this.$overlay.find("."+this.options.modalClass).addClass(this.options.modalModifier),this.$content=this.$overlay.find("."+this.options.contentClass).addClass(this.options.contentModifier),this.$closeBtn=this.$overlay.find("."+this.options.closeBtnClass)},buildModal:function(){var header,html,self=this,deferred=$.Deferred();return"inline"===this.options.contentType?this.processCustomTemplate(this.$el.attr("href")):this.options.modalTemplate?(this.processCustomTemplate(this.options.modalTemplate),$("body").append(this.$overlay)):(this.$overlay=$('<div class="'+$.trim(this.options.overlayClass+" "+this.options.overlayModifier)+'" '+this.options.overlayAttrs+"></div>"),this.$modal=$('<div class="'+$.trim(this.options.modalClass+" "+this.options.modalModifier)+'" '+this.options.modalAttrs+"></div>"),this.$content=$('<div class="'+$.trim(this.options.contentClass+" "+this.options.contentModifier)+'" '+this.options.contentAttrs+"></div>"),html=this.$overlay.append(this.$modal),header=this.buildHeader(),header?(this.$header=header,this.$modal.append(this.$header)):(this.$closeBtn=$('<a href="#" data-track-elem="icon" data-track-name="Close" class="'+this.options.closeBtnClass+'" '+this.options.closeBtnAttrs+">"+this.options.closeBtnContent+"</a>"),this.$modal.append(this.$closeBtn)),this.$modal.append(this.$content),$("body").append(html)),$.when(this.buildContent()).then(function(content){self.$content.append(content),self.modalBuilt=!0,self.attachEvents(),self.addDTMTrackingDomain(),self.options.onCreate(self),self.options.prompt&&self.$overlay.find(self.options.promptTarget).on("click.modal-prompt",function(){$(':modalPlugin("isOpen")')[pluginName]("hide")}).attr("href",self.$el.attr("href")),deferred.resolve()}),deferred.promise()},buildHeader:function(){var headerOpts=this.options.header;if(!headerOpts.buttons.length&&""===headerOpts.title)return!1;var header=$('<div class="header"></div>'),row=$('<div class="row"/>'),column=$('<div class="sm-col-12"></div>'),ul=$("<ul/>"),self=this;if(header.append(row.append(column)),headerOpts.title&&column.append('<p class="title" data-close-modal="true">'+headerOpts.title+"</p>"),headerOpts.buttons.length){var li;$.each(headerOpts.buttons,function(index,btn){switch(li=$("<li/>"),btn){case"print":self.$print=li.attr({"data-trigger":"print","class":"hide-sm"}).append('<a href="#"><i class="icon-print"></i></a>');break;case"email":self.$email=li.attr("data-trigger","email").append('<a href="#"><i class="icon-mail"></i></a>');break;case"download":self.$download=li.attr("data-trigger","download").append('<a href="#"><i class="icon-nav-bottom"></i></a>');break;case"share":self.$share=li.attr("data-trigger","share").append('<a><i class="icon-share"></i></a><div class="share-container"><p>Share</p><a data-trigger="facebook"><i class="icon-facebook"></i></a><a data-trigger="twitter"><i class="icon-twitter-bird"></i></a><a data-trigger="google-plus"><i class="icon-google-plus-plain"></i></a></div>'),self.attachShareBoxEvents()}ul.append(li)})}return this.$closeBtn=$('<a href="#" data-track-elem="icon" data-track-name="Close" '+this.options.closeBtnAttrs+">"+(this.options.closeBtnText?'<span class="hide-sm">'+this.options.closeBtnText+"</span>":"")+this.options.closeBtnContent+"</a>"),ul.append(this.$closeBtn.wrapAll("<li/>").parent()),column.append(ul),header},buildContent:function(){var self=this,srcUrl=this.$el.attr("href"),deferred=$.Deferred();switch(this.options.contentType){case"image":deferred.resolve($("<img>",{src:srcUrl}));break;case"iframe":deferred.resolve($("<iframe>",{src:srcUrl}));break;case"ajax":var customSettings=$.extend({url:srcUrl},this.options.ajaxSettings);$.ajax(customSettings).done(function(data){var $data,ajaxContent;self.options.ajaxContext?($data=$($.parseHTML(data)),ajaxContent=$data.find(self.options.ajaxContext),ajaxContent.length<1&&(ajaxContent=$data.filter(self.options.ajaxContext))):ajaxContent=data,deferred.resolve(ajaxContent)}).fail(function(){deferred.resolve('<div class="row"><div class="sm-col-12"><p class="load-failure">'+self.options.failedAjaxMessage+"</p></div></div>")});break;default:deferred.resolve(this.options.customContent)}return deferred.promise()},attachEvents:function(){this.$overlay.on("click",this.options.closeModal,{self:this},this.hide),this.options.clickOutsideToHide&&this.$overlay.on("click",{self:this},this.overlayHide)},attachShareBoxEvents:function(){var self=this,shareBox=$(".share-container",self.$share);this.$overlay.on("click."+pluginName,"[data-trigger=share] > a",function(e){shareBox.toggleClass("show")}),this.$overlay.on("click."+pluginName,function(e){shareBox.hasClass("show")&&!$.contains(self.$share[0],$(e.target)[0])&&shareBox.removeClass("show")})},addDTMTrackingDomain:function(){var modalType,anchorName=this.$el.attr("data-track-name")||"",anchorElem=this.$el.attr("data-track-elem")||"";modalType=this.options.overlayModifier.match(/interstitial/)?"interstitial":this.options.isFull?"actionsheet":"modal",this.$modal.attr("data-track-elem",modalType),this.$modal.attr("data-track-ui",anchorElem),this.$modal.attr("data-track-name",anchorName),this.$closeBtn.attr("data-track-ui",modalType)},storeClosed:function(){var closedData,storedData=JSON.parse(localStorage.getItem("allyModal")),currentDate=(this.options.keepClosedId,new Date),endDate=(new Date).setDate(currentDate.getDate()+this.options.closedDuration);storedData||(storedData={keepClosed:{}}),storedData.keepClosed[this.options.keepClosedId]=endDate,closedData=JSON.stringify(storedData),localStorage.setItem("allyModal",closedData)},centerInIE:function(){var $win=$(window),leftPos=($win.width()-this.$modal.width())/2,topPos=($win.height()-this.$modal.height())/2;this.$modal.css({left:leftPos,top:topPos}),this.$modal.css("-ms-transform","translate(0)")},lazyLoad:function(e){var self=e?e.data.self:this;e&&e.preventDefault(),self.modalBuilt?self.show(e):$.when(self.buildModal()).then(function(){self.show(e)})},show:function(e){var self=e?e.data.self:this,showHash=0===$(".no-history").length?"#":"";$(':modalPlugin("isOpen")')[pluginName]("hide"),e&&(e.preventDefault(),self.options.modalUrl&&history.pushState({modal:self.options.modalUrl},null,showHash+self.options.modalUrl)),$(document).trigger("allyModal-opened"),self.options.onOpen(self),self.$overlay.addClass(self.options.showClass),$("body").addClass(self.options.bodyShowClass),self.options.isOpen=!0,(isIE8&&self.options.ie8Center||isIE9&&self.options.ie9Center)&&self.centerInIE()},hide:function(e,triggerHistory){var self=e?e.data.self:this;(e||triggerHistory)&&(e&&e.preventDefault(),self.options.modalUrl&&(history.state?history.go(-1):history.replaceState(null,null,window.location.pathname))),$(document).trigger("allyModal-closed"),self.options.keepClosedId&&self.storeClosed(),self.options.onClose(self),self.$overlay.removeClass(self.options.showClass),$("body").removeClass(self.options.bodyShowClass),self.options.isOpen=!1},isOpen:function(){return this.options.isOpen},overlayHide:function(e){var self=e?e.data.self:this;$(e.target).parents("."+self.options.modalClass).length<1&&(e.preventDefault(),self.hide(e))},destroy:function(){$(window).off("popstate.modal.history"),this.$el.off(this.options.showEvent),this.$overlay.length&&this.$overlay.remove()},create:function(){this.init()}},$.fn[pluginName]=function(options,args){var returnValue=this;return this.each(function(){var thePlugin=$(this).data("plugin_"+pluginName);thePlugin||(thePlugin=$(this).data("plugin_"+pluginName,new Plugin(this,options))),"string"==typeof options&&$.isFunction(Plugin.prototype[options])&&options.indexOf("_")<0&&(args=args||[],returnValue=thePlugin[options].apply(thePlugin,args))}),returnValue}}(jQuery,window,document);
		/*! accordion.js Concatenated on 07-07-2016 at 11:14:43 AM by SNODGRASS */
"object"!=typeof ally&&(ally={}),ally.components||(ally.components={}),ally.components.accordion={init:function(){var $faq,hash=window.location.hash;$("body").on("click",".accord .head",function(){var $el=$(this),$parent=$el.parents("li").first(),$roof=$parent.parent("ul").first();$roof.hasClass("close-all")?($parent.toggleClass("open"),$roof.removeClass("close-all"),$parent.find("[data-track-state='closed']").attr("data-track-state","opened")):$parent.hasClass("open")?($parent.toggleClass("open"),$roof.addClass("close-all"),$parent.find("[data-track-state='opened']").attr("data-track-state","closed")):($roof.find("li").not($parent).removeClass("open"),$roof.find("[data-track-state='opened']").attr("data-track-state","closed"),$parent.toggleClass("open"),$parent.find("[data-track-state='closed']").attr("data-track-state","opened")),$("body").trigger("custom.accord.interact"),setTimeout(function(){$("body").height("99%").height("100%")},250)}),hash&&(hash=hash.substring(1),$faq=$('a[name="'+hash+'"]'),$faq.length&&$faq.siblings(".head").trigger("click"))}},ally.components.accordion.init();
		/*! tracking.init.js Concatenated on 08-04-2016 at 11:28:09 AM by GENTRY */
var ALLY=ALLY||{};!function(){var didTrackingInit=!1;ALLY.tracking={version:"1.0.5",options:{},init:function(config){var self=this;if(config=config||{},$.extend(ALLY.tracking.options,config),!didTrackingInit){didTrackingInit=!0;var jsonUrl="";if(self.options.jsonUrl)jsonUrl=self.options.jsonUrl;else{var hash=window.location.href.split("#");jsonUrl=hash>1&&hash[1].split("=").length>1?$('[data-pane-id="'+window.location.href.split("#")[1].split("=")[1]+'"]').attr("href"):hash[0]}jsonUrl=jsonUrl.split("#")[0].split("?")[0],self.options.scodeUrl=self.options.scodeUrl?self.options.scodeUrl:"/resources/pres/global/js/s_code.js","/"===jsonUrl.charAt(jsonUrl.length-1)&&(jsonUrl+="index.html"),jsonUrl=jsonUrl.replace(".html",".json"),self.JSON.grabJSON(jsonUrl),$("body").one("tracking.data-success",function(e,data){self.utils.injectDoubleClick(data),ALLY.tracking.JSON.processJSON(data)})}},utils:{tabsLoad:function(){$.map($("a,area").filter("[href*=INTCMPID]").filter(function(){return"area"===this.tagName.toLowerCase()||$(this).is(":visible")||$("#sub-globalnav-bank").find(this)&&"block"===$("#sub-globalnav-bank").css("display")}),function(e){var q=e.href.match(/INTCMPID=([^&]+)/)[1];return q.indexOf("#")>-1&&(q=q.substring(0,q.indexOf("#"))),q});ALLY.tracking.options.jsonUrl?jsonUrl=ALLY.tracking.options.jsonUrl:window.location.href.split("#").length>1?jsonUrl=$('[data-pane-id="'+window.location.href.split("#")[1].split("=")[1]+'"]').attr("href"):jsonUrl=window.location.href.split("#")[0],"/"===jsonUrl.charAt(jsonUrl.length-1)&&(jsonUrl+="index.html"),jsonUrl=jsonUrl.replace(".html",".json"),ALLY.tracking.JSON.grabJSON(jsonUrl)},siteCatalystClearProps:function(){for(var i=0;50>i;i++)eval("s.prop"+i+' = "";')},trackListOne:function(){if("undefined"!=typeof s){var intcmpids=$.map($("a,area").filter("[href*=INTCMPID]").filter(function(){return"area"===this.tagName.toLowerCase()||$(this).is(":visible")||$("#sub-globalnav-bank").find(this)&&"block"===$("#sub-globalnav-bank").css("display")}),function(e){return e.href.match(/INTCMPID=([^&]+)/)[1]});intcmpids=$.unique(intcmpids);var list1=intcmpids.join(",");return list1}},genTrackId:function(target,api,callBack){var callbackResults="";return"function"==typeof eval(callBack)&&callBack.length>0&&(callbackResults=eval(callBack)()),api+"*"+target.replace(/#/g,"").replace(/[ .]+/g,"-")+callbackResults},serializeData:function(dataObj){return $.param(dataObj)},showDebugData:function(){$("body").addClass("track-debug"),$("body.track-debug .tracked").css({"background-color":"rgba(255,255,0,.25)"}),$("body.track-debug img.tracked").css({opacity:".25"}),$(".tracked").live("mouseover",function(e){"trackHighlight"!==$("#trackHighlight").attr("id")&&$("body").append('<div id="trackHighlight"></div>');var objOffset=$(this).offset();$("#trackHighlight").css({position:"absolute",width:$(this).width(),height:$(this).height(),left:objOffset.left-6,top:objOffset.top-6,border:"1px solid rgba(0,0,0,.45)","border-radius":"8px",padding:"6px","box-shadow":"0 0 5px rgba(0,0,0,.45) inset"}),"trackHover"!==$("#trackHover").attr("id")&&$("body").append('<div id="trackDataTable"></div>');var temp=$(this).data(),debug="<tr style='cursor:pointer;'><td colspan='2' class='header'><strong>[X] Click tracking data:</strong></td></tr>";$.each(temp,function(key,val){-1!==key.indexOf("tracking")&&(debug+="<tr><td><div>"+key+":</div></td><td>"+val+"</td></tr>")}),$("#trackDataTable").html("<table>"+debug+"</table>").show(),$("#trackDataTable").click(function(){$("body").removeClass("track-debug"),$(".tracked").attr("style","").die("mouseover"),$("#trackHighlight, #trackDataTable").remove()}),$("#trackDataTable").css({"border-radius":"8px","text-align":"left","background-color":"rgba(200,200,200,.75)",border:"1px solid black",width:"auto",padding:"10px",position:"absolute",bottom:"10px",left:"10px","box-shadow":"0px 0px 8px rgba(0,0,0,.5)"}),$("#trackDataTable td").css({width:"50%",padding:"5px"}),$("#trackDataTable td.header").css({"background-color":"rgba(0,0,0,.25 )"}),$("#trackDataTable td div").css({"text-align":"left","font-weight":"bold"})})},injectDoubleClick:function(data){var json=$.parseJSON(data.responseText);if("object"==typeof json.tracking&&null!==json.tracking.doubleclick){var axel=Math.random()+"",a=1e13*axel,src="2656259",type=json.tracking.doubleclick.type,cat=json.tracking.doubleclick.category,url="https://"+src+".fls.doubleclick.net/activityi;src="+src+";type="+type+";cat="+cat+";ord="+a+"?",iframe='<iframe id="doubleclick" src="'+url+'" width="1" height="1" style="display:none;"></iframe>';$("body").append(iframe)}},doubleClickInjector:function(data){if(null!==data){var axel=Math.random()+"",a=1e13*axel,src="2656259",type=data.type,cat=data.category,url="https://"+src+".fls.doubleclick.net/activityi;src="+src+";type="+type+";cat="+cat+";ord="+a+"?",iframe=$("#doubleclick");iframe.length||(iframe=$('<iframe id="doubleclick" width="1" height="1" style="display:none;"></iframe>').appendTo("body")),iframe.attr("src",url)}},getTabsJSON:function(){}},JSON:{grabJSON:function(jsonUrl){var data=ALLY.utils.ajax.core.getData({url:jsonUrl,callback:function(){$("body").trigger("tracking.data-success",data)}})},processJSON:function(data){if("string"==typeof data.responseText&&(data=$.parseJSON(data.responseText)),data.tracking){null!==data.tracking._default.events?$.extend(data.tracking._default,data.tracking._default.events.load):data.tracking._default;$.each(data.tracking,function(index,defaultData){if(null!==data.tracking._default.events){if(data.tracking._default.events.load&&"_default"===index){var tempData=$.extend(defaultData,$(this)[0].events.load);tempData.active&&ALLY.tracking.eventHandlers.pageLoadEvents[index](tempData)}if(data.tracking._default.events.click)if("_default"!==index)for(var item=$(this)[0].events.click,temp={},defaultItems=data.tracking._default.events.click,i=0,length=defaultItems.length;length>i;i++)item[0].target===defaultItems[i].target?(temp=$.extend(defaultItems[i],item[0]),ALLY.tracking.eventHandlers.addClicks(index,[temp])):ALLY.tracking.eventHandlers.addClicks(index,[defaultItems[i]]);else ALLY.tracking.eventHandlers.addClicks(data.tracking._default.api,data.tracking._default.events.click)}}),$("body").trigger("initialized.tracking")}}},eventHandlers:{addClicks:function(api,o){var obj={},target={},callBack={},fakeLoad={};$.each(o,function(){obj=$(this)[0],target=$(this)[0].target,callBack=$(this)[0].callback,fakeLoad=$(this)[0].fakeload,obj.trackId=ALLY.tracking.utils.genTrackId(target,api,callBack);for(var prop in obj)$(target).data("tracking."+api+"."+prop,obj[prop]),$(target).addClass("tracked");$(target).bind("click."+api,function(){fakeLoad?ALLY.tracking.eventHandlers.pageLoadEvents[api]($(this)):ALLY.tracking.eventHandlers.clickEvents[api]($(this))})})},removeClicks:function(api,o){$.each($(o),function(){$(this).unbind("click."+api)})},updateClicks:function(api,o,data){ALLY.tracking.eventHandlers.removeClicks(api,o),ALLY.tracking.eventHandlers.addClicks(api,data)},pageLoadEvents:{_default:function(data){if("object"!=typeof data)return!1;var shouldLoadSCode=function(){var pathname=window.location.pathname;return pathname.match(/\/(help|search)/)?!1:!0},setSvars=function(){if(ALLY.tracking.utils.siteCatalystClearProps(),"object"==typeof s&&"function"==typeof s.t){if(s.pageName=data.page,$("#page").hasClass("long-page")){var section=""===document.location.hash?"Overview":document.location.hash.substring(1),targetLinkSection=$("a[href="+document.location.hash+"]"),baseName=(s.pageName.split(":"),s.pageName.substr(0,_.lastIndexOf(s.pageName,":")));section&&""!==section||(section="Overview"),targetLinkSection.length>0?section=targetLinkSection.data().tag||"Overview":(section=section.charAt(0).toUpperCase()+section.slice(1),section=section.replace("/","")||"Overview"),$("#page").hasClass("vsc")||(s.pageName=baseName+":"+section)}if(s.channel=data.section,s.prop1=s.eVar22=data.site,s.prop35=data.subsection,s.prop38=data.pagetitle,s.campaign="",s.events=s.events||"",s.products="",s.prop24="",s.eVar1="",s.list1=ALLY.tracking.utils.trackListOne(),s.prop32=$(window).width(),/auto\/personal\/explore-financing-options/.test(window.location.pathname)&&/navlink/.test(window.location.search)&&(/compare/.test(document.referrer)?s.eVar28=s.prop51="natcompare":/ally-buyers-choice/.test(document.referrer)?s.eVar28=s.prop51="natprodabc":/lease/.test(document.referrer)?s.eVar28=s.prop51="natprodlease":/buy/.test(document.referrer)?s.eVar28=s.prop51="natprodbuy":/auto\/personal/.test(document.referrer)?s.eVar28=s.prop51="natpersonal":s.eVar28=s.prop51="nathome",s.events=s.linkTrackEvents="event66,event67"),/auto\/personal\/explore-financing-options/.test(window.location.pathname)&&/score/.test(window.location.search)){var query=window.location.search.split("="),filePath=window.location.pathname.split("/"),resultPage=filePath.pop(),resultPage=resultPage.split("."),resultPageName=resultPage.shift();if(query[0]="?score"){if("ally-buyers-choice"===resultPageName)var docName=" | abc | ";else var docName=" | "+resultPageName+" | ";var finalAnswers=query[1].slice(0,-1);s.eVar59="auto needs assessment"+docName+finalAnswers,s.events=s.linkTrackEvents="event66,event11"}}if($("body").trigger("tracking.sitecatalyst.setDefaultVars",[s]),$("#login-widget").length){var loginstate=["OnLoad","None","NoSaveUser"],loginLOB=$.cookie("AllyLoginLOB"),saveAutoUsername=$.cookie("ally-sf-login-auto"),saveBankUsername=$.cookie("jeffersonCookie");switch(loginLOB){case"aob":loginstate[1]="Bank",saveBankUsername&&(loginstate[2]="SaveUser");break;case"aaos":loginstate[1]="Auto",saveAutoUsername&&(loginstate[2]="SaveUser")}s.contextData.loginstate=loginstate.join("|")}var maxMboxCheck=0;if($(".mboxInitialized").length)var checkMboxExist=setInterval(function(){($("[id^=mboxImported]").length||5===++maxMboxCheck)&&(clearInterval(checkMboxExist),ALLY.tracking.options.preventAutoTracking||s.t())},200);else ALLY.tracking.options.preventAutoTracking||s.t()}$("body").addClass("sc-page-load"),$("body").trigger("tracking.sitecatalyst.pageload",[s])};if(!$("body").hasClass("tracking-sitecatalyst-loaded")&&!$("body").hasClass("tracking-dtm-enabled")&&shouldLoadSCode())var checkSCode=setInterval(function(){window.s&&(clearInterval(checkSCode),$("body").trigger("tracking.sitecatalyst-load",data),$("body").addClass("tracking-sitecatalyst-loaded"),setSvars())},100)},sitecatalyst:function(data){ALLY.tracking.eventHandlers.pageLoadEvents._default(data)}},clickEvents:{sitecatalyst:function(o){ALLY.tracking.utils.siteCatalystClearProps();var s=s_gi(s_account),type=$(o).data("tracking.sitecatalyst.type"),trackId=$(o).data("tracking.sitecatalyst.trackId");s.tl($(o),type,trackId),$(o).trigger("tracking.sitecatalyst",$(o))}},tabEvents:{sitecatalyst:function(data){ALLY.tracking.options.jsonUrl?jsonUrl=ALLY.tracking.options.jsonUrl:window.location.href.split("#").length>1?jsonUrl=$('[data-pane-id="'+window.location.href.split("#")[1].split("=")[1]+'"]').attr("href"):jsonUrl=window.location.href.split("#")[0],"/"===jsonUrl.charAt(jsonUrl.length-1)&&(jsonUrl+="index.html"),jsonUrl=jsonUrl.replace(".html",".json"),ALLY.tracking.JSON.grabJSON(jsonUrl)}}}}}();
		/*! tracking.faq.js Concatenated on 07-21-2016 at 3:18:30 PM by SNODGRASS */
var ally=ally||{};ally.components=ally.components||{},ally.components.tracking=ally.components.tracking||{},ally.components.tracking.faq=function(){var faqID,s,pageName,answer,log=ALLY.util.logMessage||function(){},CHANNELS={search:postal.channel("ally.services.search")},TOPICS={searchStart:"search.starting",searchRequestParams:"search.request.params",searchPublishParams:"search.publish.params"},comment=null,taggingMethods={faqOpen:function(){var linkName;faqID&&(s.prop5=faqID,linkName=s.prop19=pageName+":"+s.prop5,s.prop1=s.site,s.prop32=$(window).width(),s.eVar46=s.prop19,s.events=s.linkTrackEvents="event66,event67",s.linkTrackVars="prop5,prop19,prop1,prop32,eVar46,pageName,events",s.tl(this,"o",linkName))},submitAnswer:function(){var linkName;"undefined"!=typeof faqID&&""!==answer&&(s.pageName=pageName,s.prop5=faqID,linkName=s.prop48=s.pageName+":"+s.prop5+":"+answer,s.events=s.linkTrackEvents="event67",s.linkTrackVars="prop5,prop48,prop1,events",s.tl(this,"o",linkName))},sendFeedback:function(){var linkName;s.pageName=pageName,s.prop5=faqID,s.prop48=linkName,s.prop75=linkName,s.events=s.linkTrackEvents="event67",linkName=null!==comment?s.pageName+"|"+s.prop5+":"+answer+":"+comment:s.pageName+"|"+s.prop5+":"+answer+":blank",s.linkTrackVars="pageName,prop5,prop48,prop75,events",s.tl(this,"o",linkName)}},doTagging=function(fn){if(!window.location.pathname.match(/\/(help|search)/)){var args=Array.prototype.slice.call(arguments,1);if("undefined"!=typeof window.s)return s=window.s,pageName=s.pageName,fn.call(this,args)}},init=function(){setupEvents()},setupEvents=function(){CHANNELS.search.subscribe({topic:TOPICS.searchStart,callback:function(){var $searchFeedbackSection=$(".feedback, .search-feedback-section");$searchFeedbackSection.children("p, ul").show(),$searchFeedbackSection.children("form, .sendMessage").hide(),$searchFeedbackSection.find(".sendMessage").remove(),$(".feedback form textarea, .search-feedback-section form textarea").val("")}}),$("body").on("click","li[id^=q-]:not(.open), li[data-faqid^=q-]:not(.open)",function(){faqID=$(this).attr("id")||$(this).data("faqid"),doTagging.call(this,taggingMethods.faqOpen)}),$("body").on("custom.accord.interact",function(e,data){if(data&&data.elem.length){var isOpened=data.elem.hasClass("open");data.elem.find("[data-track-elem=faq]").attr("data-track-state",isOpened?"opened":"closed")}}),$("body").on("click",".feedback li, .search-feedback-section ul li",function(){var pathName=window.location.pathname,helpSearch=pathName.indexOf("/search/")>-1||pathName.indexOf("/help/")>-1,$feedbackDiv=$(this).parents(".feedback"),$feedbackSection=$(this).parents(".search-feedback-section");answer=$(this).text(),helpSearch&&"No"===answer?$(this).parents(".feedback, .search-feedback-section").children("p, ul").fadeOut(200,function(){$(this).closest("div").children("form").fadeIn(200)}):($feedbackDiv.length&&$feedbackDiv.children("p, ul, span:first").fadeOut(200,function(){$feedbackDiv.find(".sendMessage").length||$feedbackDiv.append('<p class="sendMessage">Thank you for your feedback.</p>').fadeIn(200)}),$feedbackSection.length&&$feedbackSection.children("p, ul, span:first").fadeOut(200,function(){$feedbackDiv.length||$feedbackSection.find(".sendMessage").length||$feedbackSection.append('<p class="sendMessage">Thank you for your feedback.</p>').show()})),doTagging.call(this,taggingMethods.submitAnswer)}),$("body").on("submit",".feedback form, .search-feedback-section form",function(e){e.preventDefault();var confirmitFAQID,$form=$(this);if(comment=$form.children("textarea").attr("value"),confirmitFAQID=faqID&&"undefined"!=typeof faqID?faqID.split("-")[1]:"searchResults",$form.length&&($form.find("input[name=answer]").attr("value",answer),"undefined"!=typeof ally.components.tracking.dtm&&ally.components.tracking.dtm.serializeForm($form)&&ally.components.tracking.dtm.notify("form")),submitConfirmit(comment,confirmitFAQID),void 0!==typeof personetics){var eventObj=personetics.createFeedbackEvent();eventObj.setFeedback(comment),eventObj.faqId=faqID,personetics.notifyEvent(eventObj)}$($form).fadeOut(20),$($form).parent().append('<p class="sendMessage">Thank you for your feedback.</p>'),doTagging.call(this,taggingMethods.sendFeedback),answer=null,comment=null,faqID=null})},getFaqContext=function(callback){log("tracking.faq.js: %cGetting search paramaters","color:green;");var sub=CHANNELS.search.subscribe({topic:TOPICS.searchPublishParams,callback:function(data){var context;context=data&&data.term?data.term:window.location.pathname,callback(context)}});CHANNELS.search.publish({topic:TOPICS.searchRequestParams}),postal.unsubscribe(sub)},submitConfirmit=function(comment,confirmitFAQID){getFaqContext(function(context){var faqContext=context,tlts=$.cookie("TLTSID")||0,autoProfile=$.cookie("ally-profile-cookie")||0,cif=$.cookie("cif_number")||0,confirmitSendUrl="/services/confirmit?";confirmitSendUrl+="FAQID="+confirmitFAQID,confirmitSendUrl+="&FAQComment="+encodeURIComponent(comment),confirmitSendUrl+="&FAQContext="+faqContext,confirmitSendUrl+="&CIF="+cif,confirmitSendUrl+="&TLTSID="+tlts,confirmitSendUrl+="&AutoProfile="+autoProfile,log("tracking.faq.js: %cSending to confirmit: %c"+confirmitSendUrl,"color:blue;","color:green;"),$.ajax({url:confirmitSendUrl,method:"get",success:function(){log("%cConfirmit success","color:green;")},error:function(err){log("%cConfirmit error %o","color:red;",err)}})})};return{init:init}}(),ally.components.tracking.faq.init();
		/*! tracking.dtm.js Concatenated on 08-12-2016 at 12:45:39 PM by PARILLO */
var ally=ally||{};ally.components=ally.components||{},ally.components.tracking=ally.components.tracking||{},ally.components.tracking.dtm=function($,window,postal,undefined){var dtmIsPresent="undefined"!=typeof window.digitalData,env="",channels={mediaQuery:postal.channel("ally.media-query")},init=function(){return dtmIsPresent?(env=getEnvironment(),channels.mediaQuery.subscribe({topic:"change.*",callback:function(data,envelope){var val;switch(envelope.topic){case"change.breakpoint":val=setValue({breakpoint:data.current});break;case"change.orientation":val=setValue({orientation:data.current})}}}),addEnvironment(),addLineOfBusiness(),addBusinessCategory(),$("body").on("tracking.data-success",processPageLoad),void $("body").on("tracking.data-demo",processPageLoad)):void ALLY.util.logMessage("tracking.dtm.js: %cDTM digitalData object not found. Module not initialized.","color:red")},processPageLoad=function(e,data){if(data){"string"==typeof data.responseText&&(data=$.parseJSON(data.responseText));var maps={page:"pageName",section:"primaryCategory",site:"site",subsection:"subsection",pagetitle:"pageTitle",pageId:"pageId"},obj=data.tracking._default,values=[];for(var prop in maps)"undefined"!=typeof obj[prop]&&values.push(Object.defineProperty({},maps[prop],{enumerable:!0,configurable:!0,writable:!0,value:obj[prop]}));ALLY.util.logMessage("tracking.dtm.js: %cReceived updates from JSON page details. %O","color:green",values),setValue(values)&&"true"===getValue("delayPageLoadEvent")&&notify()}},notify=function(type){var body=document.getElementsByTagName("body")[0],eventName="trackPageLoad";switch(type){case"form":case"trackForm":eventName="trackForm";break;case"search":case"trackSearch":eventName="trackSearch"}type&&type.match(/video/)&&(eventName=type);var event=new CustomEvent(eventName,{bubbles:!0,cancelable:!0});body.dispatchEvent(event),ALLY.util.logMessage("tracking.dtm.js: %cSent %s notification event.","color:green",eventName)},setValue=function(values){var result,key,value,data,master,obj,oldValue,prop,h={},attrs=[];Array.isArray(values)?attrs=values:attrs.push(values);for(var i=0;i<attrs.length;i++)if(master=window.digitalData,obj=attrs[i],key=Object.keys(obj)[0],value=obj[key],result=searchData(key,!0),result&&""!==key){for(data=result.join(",").split(","),data.pop(),data.push(key);data.length>1;)master=master[data.shift()];prop=data.shift(),oldValue=master[prop],master[prop]=value,ALLY.util.logMessage("tracking.dtm.js: %cUpdated %s property in digitalData from %s to %s","color:green",prop,oldValue,value),h[prop]=master[prop]}else ALLY.util.logMessage("tracking.dtm.js: %cCould not find key %s in digitalData object","color:red",key);return Object.keys(h).length?h:!1},getValue=function(key){var obj=searchData(key);return obj.hasOwnProperty(key)?obj[key]:!1},addProperty=function(key,value,parent){var obj,keyExists=!1;return parent&&(obj=searchData(parent),obj.hasOwnProperty(parent)&&(obj=obj[parent]),!obj)?(ALLY.util.logMessage("tracking.dtm.js: %cUnknown property %s. Data not updated.","color:red",parent),!1):(obj&&parent||(obj=digitalData.page),obj.hasOwnProperty(key)&&(keyExists=!0,ALLY.util.logMessage('tracking.dtm.js: %c"%s" property already exists.',"color:red",key)),ALLY.util.logMessage("tracking.dtm.js: %c%s property %s.","color:green",keyExists?"Overwriting":"Adding",key),obj[key]=value,obj)},serializeForm=function(form){if(!form)return ALLY.util.logMessage("tracking.dtm.js: %cMust pass form ID or jQuery element.","color:red"),!1;if(!form instanceof jQuery&&"string"==typeof form&&(form=$(form)),!form.length)return ALLY.util.logMessage("tracking.dtm.js: %cNo form found to parse.","color:red"),!1;var dtmID=form.attr("data-track-form-id"),dtmFields=form.attr("data-track-form");if("undefined"==typeof dtmID||!dtmID.match(/\w+/))return ALLY.util.logMessage("tracking.dtm.js: %cRequired data-form-id attribute and/or value not found on form %O","color:red",form[0]),!1;var error,elems=form.serializeArray(),errors=$("[data-track-form-error]",form).length,fields="undefined"!=typeof dtmFields?dtmFields.split(","):[],values={};searchData("formValues")||addProperty("formValues",{},"attributes");for(var i=0;i<elems.length;i++)fields.length&&-1===fields.indexOf(elems[i].name)||(errors?(error=$('[name="'+elems[i].name+'"]',form).attr("data-track-form-error"),error&&(elems[i].error=error,values[elems[i].name]=elems[i])):values[elems[i].name]=elems[i]);return ALLY.util.logMessage("tracking.dtm.js: %cUpdated form values %O to %s","color:green",values,dtmID),setValue({formValues:{form:dtmID,values:values}})},searchData=function(key,returnPath,obj){var p,key,tRet;obj||(obj=window.digitalData);for(p in obj){if(p==key)return obj;if(obj[p]instanceof Object&&obj.hasOwnProperty(p)&&(tRet=searchData(key,returnPath,obj[p])))return returnPath?[p,tRet]:tRet}return!1},addEnvironment=function(){var pageId=getValue("pageId");env&&pageId&&setValue({pageInstanceId:[pageId,env].join("-")})},addLineOfBusiness=function(){var lob,path=window.location.pathname,value=getValue("lineOfBusiness");return value&&""!==value?void ALLY.util.logMessage("tracking.dtm.js: %cLineOfBusiness property not changed because it has a hard-coded value of %s","color:red",value):(lob=path.match(/\/bank/)||"/"===path?"Bank":path.match(/\/auto/)?"Auto":path.match(/\/dealer/)?"Dealer":"Corporate",void setValue({lineOfBusiness:lob}))},addBusinessCategory=function(){var lob,path=window.location.pathname;lob=path.match(/\/dealer/)?"Dealer":"Consumer",setValue({categoryOfBusiness:lob})||addProperty("categoryOfBusiness",lob,"pageInfo")},getEnvironment=function(){var domain=window.location.href,env="";return/www\.(int\.)?ally\.com/.test(domain)?env="Production":/(bdgsupport|prodsupt)(\.int)?/.test(domain)?env="Support":/staging\.(int\.)?ally/.test(domain)?env="Staging":/bdgtesting[\d]/.test(domain)?env="Testing":/bdg[\d][a-z]|localhost|www\-(dev|cit|uat)\d/.test(domain)&&(env="Development"),env};/*return init()*/{notify:notify,getValue:getValue,setValue:setValue,serializeForm:serializeForm,addProperty:addProperty}}(jQuery,window,postal);
		/*! marketing.js Concatenated on 06-07-2015 at 6:48:11 PM by JOSH */
ALLY.marketing={initialized:{}},function($,window,document,undefined){$.widget("ALLY.marketing",{options:{isFirstInit:!0,tabsAware:!0,commentRegex:/<!--[\s\S]*?-->/g},_create:function(firstTime){{var self=this;self.options}},_init:function(){var self=this,context=$(self.options.tabsAware&&$(".tabs-active").length?"#"+$(".tabs-active > a").data("pane-id"):"#page"),mboxOffers=$(".mboxDefault:not(.mboxInitialized)",context),options=self.options;options.isFirstInit?(self.mboxFind($("#banner .mboxDefault")),options.isFirstInit=!1):$("#page").hasClass("hero")||"undefined"!=typeof this.badOffer||$("#banner").html(""),mboxOffers.length&&self.mboxFind(mboxOffers)},mboxFind:function(mboxOffers){for(var self=this,i=0,length=mboxOffers.length;length>i;i++){var offer=mboxOffers[i];self.mboxInit($(offer))}},prettyPrintMe:function(uglyString){return uglyString.toLowerCase().replace(/_/g,"-")},mboxInit:function(offer){var wrapper,myInterval,id=offer.data("mboxid"),mePretty=this.prettyPrintMe(id),div=$("#"+mePretty);return!id||!id&&$("#page").hasClass("hero")?(offer.css("visibility","visible"),void(this.badOffer=!0)):void(ALLY.marketing.initialized[id]||(ALLY.marketing.initialized[id]=!0,div.wrap('<div class="mboxInitialized" />'),wrapper=div.parent(),"function"==typeof mboxDefine&&"function"==typeof mboxUpdate&&(mboxDefine(mePretty,id),mboxUpdate(id)),myInterval=setInterval(function(){var subDiv=wrapper.children("div");"visible"===subDiv.css("visibility")&&"block"===subDiv.css("display")&&($("body").trigger("show.marketing.default",[wrapper]),clearInterval(myInterval))},10)))},destroy:function(){$.Widget.prototype.destroy.call(this)}});var removeSingleHref={init:function(){$('a[data-pane-id="social-media-safety"]').on("click",function(e){var $el=$(e.currentTarget),$li=$el.closest("li");return"Online"===$el.text()?($li.toggleClass("open"),$li.hasClass("open")?$li.children("ul").slideDown(400):($li.children("ul").slideUp(400),$li.removeClass("open")),!1):void 0}),removeSingleHref.removeSingleHref()},removeSingleHref:function(){var img=$('img[src="/resources/pres/auto/images/asf/ASF_BusinessAutoFinancing.png"]');$('img[src="/resources/pres/auto/images/asf/ASF_BusinessAutoFinancing.png"]').parent().replaceWith(img)}};removeSingleHref.init()}(jQuery,window,document);
		/*! rate-eater.js Concatenated on 02-18-2016 at 4:52:34 PM by PARILLO */
"object"!=typeof ally&&(ally={}),ally.components||(ally.components={}),ally.data={product:{effectiveDate:"0",HYCD:{},CDRYR:{},NPCD:{},RYRCD:{},IRAHYCD:{},IRARYRCD:{},IRAOSA:{},OSA:{},MMA:{},CHECKING:{}},reviews:{}},ally.components.eater={apis:{rates:"/services/competitor/rates/json",reviews:"/services/product-ratings/json"},calc:{getAPR:function(apy){return 365*(Math.pow(1+apy/100,1/365)-1)*100}},maps:{bazaarMap:{ryrcd:"CDRYR",osa:"OSA",npcd:"NPCD",mnymkt:"MMA",iraryrycd:"IRARYRCD",hycd:"CD",irahycd:"IRAHY",iraosa:"IRAOSA",ckg:"CHECKING"},ratesMap:{ryrcd:"CDRYR",OSAV:"OSA",NCD:"NPCD",MMDA:"MMA",IRARYR:"IRARYRCD",CD:"CD",IRAHY:"IRAHY",IRAOSA:"IRAOSA",DDA:"CHECKING"}},getReviews:function(){$.getJSON(ally.components.eater.apis.reviews,function(data){$.each(data.Results,function(key,val){var name=val.Name,desc=val.Description,reviewCount=val.TotalReviewCount,prod=val.Id,avg=parseFloat(val.ReviewStatistics.AverageOverallRating).toFixed(1);avg=avg.replace(".","_");var prodActual=ally.components.eater.maps.bazaarMap[prod];void 0!==prodActual&&(void 0===ally.data.product[prodActual]&&(ally.data.product[prodActual]={}),ally.data.product[prodActual].name=name,ally.data.product[prodActual].reviewCount=reviewCount,ally.data.product[prodActual].stars=avg,ally.data.product[prodActual].description=desc)})}).done()},getRates:function(){ally.data.product.CDRYR.competitors={},$.getJSON(ally.components.eater.apis.rates,function(data){var ratearray=data.competitorProdRates.rates;ally.components.eater.buildRateData(ratearray)})},buildRateData:function(ratearray){for(var x=0;x<ratearray.length;x++){var product=ratearray[x].rateId,prodActual=ally.components.eater.maps.ratesMap[product];"object"!=typeof ally.data.product[prodActual]&&(ally.data.product[prodActual]={}),"object"!=typeof ally.data.product[prodActual].competitors&&(ally.data.product[prodActual].competitors={});for(var banks=ratearray[x].banks,y=0;y<banks.length;y++){var bank=banks[y].bankName,terms=banks[y].terms;if(bank.indexOf("Ally")>-1){var obj=ally.data.product[prodActual];ally.components.eater.addTerms(prodActual,obj,terms)}else{"object"!=typeof ally.data.product[prodActual].competitors[bank]&&(ally.data.product[prodActual].competitors[bank]={});var obj=ally.data.product[prodActual].competitors[bank];ally.components.eater.addTerms(prodActual,obj,terms)}}}ally.components.eater.fixCDRYR(),"function"==typeof this.callback&&this.callback()},addTerms:function(product,parent,terms){for(var self=ally.components.eater,x=0;x<terms.length;x++){var term=terms[x].term,newapr=self.calc.getAPR(terms[x].apy);terms[x].apr=newapr;var tiers=terms[x].rates;tiers.sort(function(a,b){return b.min-a.min}),parent[term]=tiers}},fixCDRYR:function(){for(var key in ally.data.product)"CD"==key&&(ally.data.product.CDRYR[24]=ally.data.product.CD[24],delete ally.data.product.CD[24],ally.data.product.CDRYR[48]=ally.data.product.CD[48],delete ally.data.product.CD[48]);for(var key in ally.data.product.CD.competitors)ally.data.product.CD.competitors[key][24]&&(ally.data.product.CDRYR.competitors[key]||(ally.data.product.CDRYR.competitors[key]={}),ally.data.product.CDRYR.competitors[key][24]=ally.data.product.CD.competitors[key][24],delete ally.data.product.CD.competitors[key][24]),ally.data.product.CD.competitors[key][48]&&(ally.data.product.CDRYR.competitors[key]||(ally.data.product.CDRYR.competitors[key]={}),ally.data.product.CDRYR.competitors[key][48]=ally.data.product.CD.competitors[key][48],delete ally.data.product.CD.competitors[key][48])},init:function(callback){this.callback=callback,ally.components.eater.getRates()}};
		/*! earnings-table.js Concatenated on 10-27-2015 at 9:05:06 AM by CHAMBERS */
"object"!=typeof ally&&(ally={}),ally.components||(ally.components={}),ally.components.earningsTable={competitors:[],init:function(){var self=ally.components.earningsTable;$(".earnings-table")&&self.configure()},configure:function(){var self=ally.components.earningsTable,$graph=$(".earnings-table");self.product=$graph.data().prod,self.competitors=ally.data.product[self.product].competitors,self.addAlly(),self.addCompetitors(),self.setup()},calc:{getAPR:function(apy){return 100*parseFloat(365*(Math.pow(1+apy/100,1/365)-1))}},setup:function(){var self=ally.components.earningsTable,val=$(".earnings-table-wrap input").val();$(".earnings-table-wrap input").val("$"+val),self.inputValue=self.sanitize($(".earnings-table-wrap input").val()),$("input.earnings-table-deposit-amount").on("keyup",self.update),$("input.earnings-table-deposit-amount").on("blur",self.update),$(".earnings-table-wrap select.term-length").on("change",self.update),self.update(),self.resizeTimer="",$(window).on("resize",function(){clearTimeout(self.resizeTimer),self.resizeTimer=setTimeout(function(){self.update()},500)})},sanitize:function(value){return value?(value=value.replace(/[^0-9.]/g,""),0>=value?0:isNaN(value)||""===value?0:parseFloat(value)):void 0},update:function(e){e&&13==e.which&&$("input").blur();var self=ally.components.earningsTable;self.inputValue=self.sanitize($("input.earnings-table-deposit-amount").val()),(self.inputValue<=0||isNaN(self.inputValue))&&(self.inputValue=0,$("input.earnings-table-deposit-amount").val("$0")),self.termLength=$(".earnings-table-wrap select.term-length").val();var allyTiers=ally.data.product[self.product][self.termLength];for(var tier in allyTiers)if(self.inputValue>=allyTiers[tier].min&&self.inputValue<=allyTiers[tier].max){var apy=allyTiers[tier].apy.toFixed(2),apr=allyTiers[tier].apr;$(".earnings-table li.ally").attr("data-rate",apy).attr("data-apr",apr)}for(var bank in self.competitors)if("NPCD"==self.product){var $el=$(".earnings-table [data-bank*='"+bank+"']");for(thing in self.competitors[bank]){var data=self.competitors[bank][thing][0],apy=data.apy.toFixed(2),apr=data.apr;if(self.inputValue>=data.min&&self.inputValue<=data.max){var apy=data.apy.toFixed(2),apr=data.apr;$el.removeClass("closed").attr("data-rate",apy).attr("data-apr",apr);break}$el.addClass("closed").attr("data-rate","").attr("data-apr","")}}else if("object"==typeof self.competitors[bank][self.termLength])for(var tier in self.competitors[bank][self.termLength]){var $el=$(".earnings-table [data-bank*='"+bank+"']"),data=self.competitors[bank][self.termLength][tier];if(self.inputValue>=data.min&&self.inputValue<=data.max){var apy=data.apy.toFixed(2),apr=data.apr;$el.removeClass("closed").attr("data-rate",apy).attr("data-apr",apr);break}$el.addClass("closed").attr("data-rate","").attr("data-apr","")}else $(".earnings-table [data-bank*='"+bank+"']").addClass("closed").attr("data-rate","");var $els=$(".earnings-table [data-bank]").not(".ally").not(".closed").sort(function(a,b){return $(a).attr("data-rate")==$(b).attr("data-rate")?0:$(b).attr("data-rate")>$(a).attr("data-rate")?1:-1}),order=1,ww=window.innerWidth,height=4.5;height=480>=ww?6.5:4.5,$els.each(function(){$(this).attr("order",order).css({transform:"translateY("+order*height+"rem)","-ms-transform":"translateY("+order*height+"rem)"}),order++}).promise().done(self.doEarningCalculation),$(".earnings-table").height(order*height+"rem"),$(".earnings-term").length&&$(".earnings-term").html($(".earnings-table-wrap select :selected").text()+"s")},addAlly:function(){var $el=$("<li />",{"data-bank":"Ally Bank",text:"Ally Bank",order:"0","data-rate":"","class":"ally"});$(".earnings-table").append($el)},addCompetitors:function(){var $el,self=ally.components.earningsTable,$list=[];for(var bank in self.competitors)$el=$("<li />",{"data-bank":bank,text:bank,"data-rate":""}),$list.push($el);$(".earnings-table").append($list)},getEarnings:function(deposit,rate,term){var math="",isChecking=$("[data-prod='CHECKING']").length>0?!0:!1;return"0"==term&&(term=12),math=isChecking?deposit*(rate/100):deposit*Math.pow(1+rate/100/365,365*term/12)-deposit,isNaN(deposit)&&(deposit=100),parseFloat(math).toFixed(2)},doEarningCalculation:function(){var self=ally.components.earningsTable,$els=$(".earnings-table li");$els.each(function(){for(var earnings=self.getEarnings(self.inputValue,$(this).attr("data-rate"),self.termLength),sanitized=earnings.replace("$","").replace(/^[0]+/g,"").replace(/[\D]/g,""),reversed=sanitized.split("").reverse(),cycles=0,first=!0,money="",x=0;x<reversed.length;x++)first&&2==cycles&&(money+=".",first=!1,cycles=0),3==cycles&&(money+=",",cycles=0),money+=""+reversed[x],cycles++;money.length<3&&(money+=".0"),earnings=money.split("").reverse().join(""),$(this).attr("data-earnings",earnings)})}};
		/*! rates-graph.js Concatenated on 10-27-2015 at 9:05:06 AM by CHAMBERS */
"object"!=typeof ally&&(ally={}),ally.components||(ally.components={}),ally.components.barGraph={competitors:[],init:function(){var self=ally.components.barGraph;self.configure()},configure:function(){var self=ally.components.barGraph,$graph=$(".graph");self.product=$graph.data().prod,self.competitors=ally.data.product[self.product].competitors,self.addAlly(),self.addCompetitors(),self.setup()},setup:function(){var self=ally.components.barGraph,val=$(".graph-wrap input").val();$(".graph-wrap input").val("$"+val),self.inputValue=self.sanitize($(".graph-wrap input").val()),$("input.graph-deposit-amount").on("keyup",self.update),$("input.graph-deposit-amount").on("blur",self.update),$(".graph-wrap select.term-length").on("change",self.update),self.update()},sanitize:function(value){return value?(value=value.replace(/[^0-9.]/g,""),0>=value?0:isNaN(value)||""===value?0:parseFloat(value)):void 0},update:function(e){e&&13==e.which&&$("input").blur();var self=ally.components.barGraph;self.inputValue=self.sanitize($("input.graph-deposit-amount").val()),(self.inputValue<=0||isNaN(self.inputValue))&&(self.inputValue=0,$("input.graph-deposit-amount").val("$0")),self.termLength=$(".graph-wrap select.term-length").val(),self.maxWidth=0;var allyTiers=ally.data.product[self.product][self.termLength];for(var tier in allyTiers)if(self.inputValue>=allyTiers[tier].min&&self.inputValue<=allyTiers[tier].max){var apy=allyTiers[tier].apy.toFixed(2);$(".graph li.ally").attr("data-rate",apy)}for(var bank in self.competitors)if("NPCD"==self.product){var $el=$(".graph [data-bank*='"+bank+"']");for(thing in self.competitors[bank]){var data=self.competitors[bank][thing][0],apy=data.apy.toFixed(2),apr=data.apr;if(self.inputValue>=data.min&&self.inputValue<=data.max){var apy=data.apy.toFixed(2),apr=data.apr;$el.removeClass("closed").attr("data-rate",apy).attr("data-apr",apr);break}$el.addClass("closed").attr("data-rate","").attr("data-apr","")}}else if("object"==typeof self.competitors[bank][self.termLength])for(var tier in self.competitors[bank][self.termLength]){var $el=$(".graph [data-bank*='"+bank+"']"),data=self.competitors[bank][self.termLength][tier];if(self.inputValue>=data.min&&self.inputValue<=data.max){var apy=data.apy.toFixed(2);$el.removeClass("closed").attr("data-rate",apy);break}$el.addClass("closed").attr("data-rate","")}else $(".graph [data-bank*='"+bank+"']").addClass("closed").attr("data-rate","");var $els=$(".graph [data-bank]").not(".ally").not(".closed").sort(function(a,b){return $(a).attr("data-rate")==$(b).attr("data-rate")?0:$(b).attr("data-rate")>$(a).attr("data-rate")?1:-1}),order=1;$els.each(function(){$(this).attr("order",order).css({transform:"translateY("+6*order+"rem)","-ms-transform":"translateY("+6*order+"rem)"}),order++}).promise().done(self.setWidths),$(".graph").height(6*order+"rem")},setWidths:function(){var self=ally.components.barGraph,maxWidth=50/self.highestRate(),$els=$(".graph li").not(".closed");$els.each(function(){var rate=parseFloat($(this).attr("data-rate")),width=rate*maxWidth+"%";$(this).css({width:width})})},highestRate:function(){var max=0;return $(".graph [data-bank]").not(".closed").each(function(){var rate=parseFloat($(this).data().rate);rate>max&&(max=rate)}),max+.25},addAlly:function(){var $el=$("<li />",{"data-bank":"Ally Bank",order:"0","data-rate":"","class":"ally",style:"width: 6rem"});$(".graph").append($el)},addCompetitors:function(){var $el,self=ally.components.barGraph,$list=[];for(var bank in self.competitors)$el=$("<li />",{"data-bank":bank,"data-rate":"",style:"width: 6rem"}),$list.push($el);$(".graph").append($list)}};
		/*! rates-extended.js Concatenated on 04-26-2016 at 12:01:29 AM by KESNER */
"object"!=typeof ally&&(ally={}),ally.components||(ally.components={}),ally.components.rateLoader={init:function(){var self=ally.components.rateLoader;$(".rate-module").each(self.buildElements),$("body").trigger("custom.rates-loaded"),$(".rate-module").on("click","ul.circle-switch li",self.clickHandler),$(".rate-module").on("change.weee","select",function(){var val=$(this).val(),$circleSwitch=$(this).parents(".rate-module").find(".circle-switch");$circleSwitch.find("li[term-actual='"+val+"']").click()})},buildElements:function(){var noExtras=["OSA","IRAOSA","MMA","CHECKING"],giveTitles=["OSA","IRAOSA","MMA"],self=ally.components.rateLoader,$parent=$(this),prod=$parent.data().prod,productCode=$parent.data("productcode"),defaultTerm=$parent.data()["default"];if(ally.data.params&&"string"==typeof ally.data.params.term){var pageTerm=parseInt(ally.data.params.term);defaultTerm=pageTerm,$parent.attr("data-default",pageTerm),$("select.term-length").val(pageTerm)}if(noExtras.indexOf(prod)<0){var $available=$("<div class='title'>Available Terms</div>"),$circleSwitch=$("<ul class='circle-switch hide-sm hide-md'></div>"),$selectDrop=$("<select class='standard-primary hide-lg hide-xl'></select>");"credit"!==productCode&&($parent.append($available),$parent.append($circleSwitch),$parent.append($selectDrop))}var $apy=$("<div class='title'>Annual Percentage Yield</div>");if("credit"!==productCode&&$parent.append($apy),ally.data.product[prod]){var set=ally.data.product[prod],list=[],$ratesWrap=$("<div class='rates-wrap'></div>");$parent.append($apy),$parent.append($ratesWrap);for(var term in set){var isActive="",optionMod="";if("competitors"==term)break;var yearMonth=parseInt(term)>18?"yr":"mo",period=parseInt(term)>18?"Year":"Month",termAlly=parseInt(term)>18?term/12:term;if(parseInt(term)==parseInt(defaultTerm)&&(isActive="active",optionMod="selected"),noExtras.indexOf(prod)<0){var $circleTerm=$("<li class='"+isActive+"' term='"+termAlly+"' term-actual='"+term+"' title='"+yearMonth+"'></li>");$circleSwitch.append($circleTerm);var $selectTerm=$("<option value='"+term+"' "+optionMod+">"+termAlly+" "+period+"</option>");$selectDrop.append($selectTerm)}var classMod="";(parseInt(term)==parseInt(defaultTerm)||noExtras.indexOf(prod)>-1)&&(classMod=" active");var $term=$("<div />",{"class":"term-view"+classMod,"data-term":term});if("competitors"!=term)for(var arr=$(set[term]).toArray().reverse(),x=0;x<arr.length;x++){var tierArr=$(arr).toArray();if(self.sameValues(tierArr)){var title="";giveTitles.indexOf(prod)>=0&&(title="On all balance tiers");var apy=arr[0].apy.toFixed(2),$el=$("<div />",{"class":"single rate-extended",title:title,text:apy,"data-term":term});$el.text(),$term.append($el);break}var apy=arr[x].apy.toFixed(2),title=self.getTitle(arr[x],prod),$el=$("<div />",{"class":"multi rate-extended",title:title,text:apy,"data-term":term});$term.append($el),$term.append($('<br class="hide-sm hide-md" />'))}list.push($term)}$ratesWrap.append(list),$("body").trigger("custom.ratesLoaded")}else console.log("FAILING ON: ",prod,$parent)},getTitle:function(arr,prod){var self=ally.components.rateLoader,min=arr.min;return"CHECKING"!=prod?0==min?"Less than $5,000 opening deposit":"$"+self.formatMoney(min)+" minimum opening deposit":0==min?"Less than $15,000 daily balance":"$"+self.formatMoney(min)+" minimum daily balance"},sameValues:function(arr){for(var narr=$(arr).toArray(),x=1;x<narr.length;x++)if(narr[x].apy!==narr[0].apy)return!1;return!0},formatMoney:function(min){for(var string=min+"",reversed=string.split("").reverse(),cycles=0,money="",x=0;x<reversed.length;x++)3==cycles&&(money+=",",cycles=0),money+=""+reversed[x],cycles++;return money.length<3&&(money+=".0"),money.split("").reverse().join("")},toggle:function(){},clickHandler:function(){var $parent=$(this).parents(".rate-module"),$select=$parent.find("select"),prod=$parent.data().prod,term=$(this).attr("term-actual"),linkName=s.pageName+"|"+prod+"|"+term,$el=$(this);$el.siblings().removeClass("active"),$el.addClass("active"),$parent.find(".term-view.active").removeClass("active"),$parent.find(".term-view[data-term='"+term+"']").addClass("active");var syncOptionText=$select.find('option[value="'+term+'"]').attr("selected","").text();$parent.find(".sd-list li a").removeClass("sd-selected"),$parent.find('li a[data-value="'+term+'"]').addClass("sd-selected"),$parent.find(".sd-holder .sd-btn .sd-text").text(syncOptionText);var tempEvents=s.events;s.events="event66,event67",s.linkTrackEvents="event66,event67",s.prop32=$(window).width(),s.linkTrackVars="prop32",s.tl(this,"o",linkName),s.events=tempEvents}};
		/*! Concatenated on 10-05-2015 at 12:39:28 AM  */
$(document).ready(function(){$(".circle-switch").each(function(){var $el=$(this);$el.addClass("hide-sm hide-md");for(var $children=$el.find("li"),$parent=$("<div />",{"class":"hide-lg hide-xl"}),$select=$("<select />",{"class":"standard-primary"}),x=0;x<$children.length;x++){var $child=$children.eq(x),type="mo"==$child.attr("title")?" Month":" Year",$option=$("<option />",{text:$child.attr("term")+type,value:$child.attr("term-actual")});if(0==$child.attr("term")||11==$child.attr("term"))break;$child.hasClass("active")&&$option.attr("selected",""),$select.append($option),$parent.append($select)}$el.after($parent)}),$("[class*=-switch]").on("click","li",function(){var $el=$(this);$el.siblings().removeClass("active"),$el.addClass("active")}),$(document).ready(function(){$(".compare-switch").on("click","li",function(){var which=$(this).data().which,$el=$("[data-view='"+which+"']");$el.siblings().removeClass("active"),$el.addClass("active")})})});
		/*! product-reviews.js Concatenated on 08-02-2016 at 8:25:05 AM by PARILLO */
"object"!=typeof ally&&(ally={}),"object"!=typeof ally.components&&(ally.components={}),ally.components.reviews={reviewRequest:function(product,category){return"/services/product-reviews/?Filter=ProductId:"+product+"&Filter=Rating:gte:4&Sort="+category+":desc&Limit=5"},formatDate:function(timeEntry){return timeEntry=new Date(timeEntry),timeEntry.getMonth()+1+"/"+timeEntry.getDate()+"/"+timeEntry.getFullYear()},injectRatings:function(){var $productRatings=$("[data-product-rating]");"object"==typeof $productRatings&&$productRatings.each(function(){var $this=$(this),$starsEl=$("[data-product-rating-stars='"+$this.data().productRating+"']"),rating=$this.text();"n/a"!=rating&&(rating=parseFloat(rating).toFixed(1),$starsEl.html("<div class='rating' data-stars='"+rating+"'></div>"))})},injectReviews:function(){var $reviews=$("[data-review]"),self=ally.components.reviews;"object"==typeof $reviews&&$reviews.each(function(){var $this=$(this),referenceid=$this.attr("id"),$ratingEl=$("[data-review-cite="+referenceid+"]"),data=$this.data().review,product=data.split(".")[0],category=data.split(".")[1];$.ajax({url:self.reviewRequest(product,category),dataType:"jsonp",success:function(result){ally.data.reviews=result.results;for(var review={},isValidFeedback=!1,i=0;i<result.Results.length;i++){var feedback=result.Results[i];if(feedback.ReviewText&&feedback.Rating&&feedback.SubmissionTime&&feedback.Title){isValidFeedback=!0,review.title=feedback.Title,review.comment=feedback.ReviewText,review.rating=feedback.Rating.toString(),review.nickname=feedback.UserNickname||"Submitted",review.submissiontime=self.formatDate(feedback.SubmissionTime);break}}if(isValidFeedback){var rating=parseFloat(review.rating).toFixed(1);$ratingEl.html("<div class='rating' data-stars='"+rating+"'></div> <div>~ "+review.nickname+" on "+review.submissiontime+"</div>"),$this.html("<strong>"+review.title+'</strong> - "'+review.comment+'"')}else $("[data-review-feedback='"+referenceid+"']"),$this.html("<strong>Review not available</strong> - There are no recent reviews available.")}})})},init:function(){$("section#reviews row:nth-child(2)").css("display","block");var self=ally.components.reviews;self.injectReviews(),self.injectRatings()}};
		/*! Concatenated on 10-05-2015 at 12:39:28 AM  */
"object"!=typeof ally&&(ally={}),ally.components||(ally.components={}),ally.components.viewSelect={init:function(){$("[name=view-options]").on("change",function(){var $el=$("."+$(this).val());$el.siblings().removeClass("active"),$el.addClass("active")}),$("ul.compare-switch").on("click","li",function(){var $el=$("[data-view='"+$(this).data().which+"']");$el.siblings().removeClass("active"),$el.addClass("active")}),$("[name=view-options]").each(function(){var $el=$(this),firstval=$el.find("option").eq(0).attr("value");$el.val(firstval).trigger("change")})}};
		/*! page-init.js Concatenated on 12-24-2015 at 6:47:54 PM by SHANMUGASUNDARAM */
"object"!=typeof ally&&(ally={}),ally.page||(ally.page=ally.page||{}),ally.page.productPageInit=function(){ally.components.rateLoader.init(),ally.components.earningsTable.init(),ally.components.barGraph.init(),ally.components.reviews.init(),$(".unhide-siblings").on("click",function(e){e.preventDefault(),$(this).hide().siblings().removeClass("off")}),$("#content input").on("keyup",function(e){ally.utilities.cashConvert($(this),e)}),$("#content input").each(function(e){ally.utilities.cashConvert($(this),e)}),$("select.standard-primary").allySelect({evtNamespace:""}),$(".standard-modal").allyModal({contentType:"inline"})},ally.page.comparePageInit=function(){function loadMobileRates(){$("[data-deposit]").each(function(){var $table=$(this),position=$table.data().deposit,$els=$table.find("[load-rate]");$els.each(function(){var split=$(this).attr("load-rate").split("-"),prod=split[0],term=split[1];prod&&term&&ally.data.product[prod][term]&&$(this).text(ally.data.product[prod][term][position].apy.toFixed(2))})})}$("#page").marketing(),ally.components.rateLoader.init(),ally.components.viewSelect.init(),ally.components.competitorModal.init(),ally.components.allRatesTable.init(),$(".unhide-siblings").on("click",function(e){e.preventDefault(),$(this).text().indexOf("More")>=0?$(this).text("Hide rates"):$(this).text("More rates"),$(this).toggleClass("hide-me"),$(this).siblings().not(".show-me").toggleClass("off")}),$(".competitor-modal input").on("keyup",function(e){ally.utilities.cashConvert($(this),e)}),$(".competitor-modal input").each(function(e){ally.utilities.cashConvert($(this),e)}),setTimeout(loadMobileRates,50),$(".circle-switch").on("click.tracking","li:not(.active)",function(){var prod=$(this).parents(".rate-module").data("prod"),term=$(this).attr("term-actual"),linkName=s.pageName+"|"+prod+"|"+term,tempEvents=s.events;s.events="event66,event67",s.linkTrackEvents="event66,event67",s.prop32=$(window).width(),s.linkTrackVars="prop32",s.tl(this,"o",linkName),s.events=tempEvents}),$("select.standard-primary").allySelect({evtNamespace:""}),$(".standard-modal").allyModal({contentType:"inline"})},ally.page.viewRatesPageInit=function(){ally.components.rateLoader.init(),ally.components.allRatesTable.init(),$("select.standard-primary").allySelect({evtNamespace:""}),$(".standard-modal").allyModal({contentType:"inline"})},ally.components.allRatesTable={init:function(){$(".rates-loop").each(function(){var $parent=$(this),prod=$parent.data().prod,$rows=$parent.find(".trow");$rows.each(function(){var term=$(this).data().term,data0=ally.data.product[prod][term][2].apy.toFixed(2),data5k=ally.data.product[prod][term][1].apy.toFixed(2),data25k=ally.data.product[prod][term][0].apy.toFixed(2);$(this).find(".qtr-col").eq(1).text(data0),$(this).find(".qtr-col").eq(2).text(data5k),$(this).find(".qtr-col").eq(3).text(data25k)})})}},ally.utilities={cashConvert:function($el,e){var arrows=[37,38,39,40];if(arrows.indexOf(e.which)<0){for(var value=$el.val(),sanitized=value.replace("$","").replace(/^[0]+/g,"").replace(/[\D]/g,""),reversed=sanitized.split("").reverse(),cycles=0,money="",x=0;x<reversed.length;x++)3==cycles&&(money+=",",cycles=0),money+=""+reversed[x],cycles++;if(money="$"+money.split("").reverse().join(""),$el.val(money),window.getSelection&&$el.is(":focus")){money.length-sanitized.length;$el.selectRange(money.length+1)}}}},$.fn.selectRange=function(start,end){return end||(end=start),this.each(function(){if(this.setSelectionRange)this.focus(),this.setSelectionRange(start,end);else if(this.createTextRange){var range=this.createTextRange();range.collapse(!0),range.moveEnd("character",end),range.moveStart("character",start),range.select()}})};
		if (typeof(ally) != "object") ally = {};
if (!ally.components) ally.components = {};

ally.components.competitorModal = {
  competitors: [],
  modals: [],

  init: function () {
    var self = ally.components.competitorModal;
    self.configure();
  },

  configure: function () {
    var self = ally.components.competitorModal;
    self.setup();
  },

  setup: function () {
    var self = ally.components.competitorModal;
    $(".competitor-modal").each( function () {
      var $modal = $(this);
      self.create($modal);
    });

    $(".competitor-modal input").each( function () {
      var val = $(this).val();
      $(this).val("$"+val)
    })

  },

  sanitize: function (value) {
    if (value) {
      value = value.replace(/[^0-9.]/g, '');
      if ( (value <= 0) || isNaN(value) || value === '' ) return 0;
      return parseFloat( value );
    }
  },

  create: function ($modal) {
    var self = ally.components.competitorModal;
    self.modals.push($modal);
    self.addAlly($modal);
    self.addCompetitors($modal);
    self.update($modal);

    $modal.on("keyup", "input[type=text]", function (e) {
      if (e) {
        if (e.which == 13) $("input").blur();
      }
      var $modal = $(this).parents(".competitor-modal");
      self.update($modal)
    });

    $modal.on("blur", "input[type=text]", function (e) {
      var $modal = $(this).parents(".competitor-modal");
      var $input = $modal.find("input[type=text]");
      var inputVal = self.sanitize($input.val());
      if (inputVal <= 0 || isNaN(inputVal)) {
        $input.val("$0");
      }
      self.update($modal)
    });

    $modal.on("change", "select", function () {
      var $modal = $(this).parents(".competitor-modal");
      self.update($modal)
    });
  },

  update: function ($modal) {
    var self = ally.components.competitorModal;
    var $select = $modal.find("select");
    var $input = $modal.find("input");
    var $list = $modal.find("ul.banks");
    var product = $modal.data().prod;
    var inputValue = self.sanitize($input.val());

    var termLength = $select.val() || $select.find( "option[selected]" ).attr('value');
    var allyTiers = ally.data.product[product][termLength];
    var competitors = ally.data.product[product].competitors;

    for (var tier in allyTiers) {
      if (inputValue >= allyTiers[tier].min && inputValue <= allyTiers[tier].max) {
        var apy = allyTiers[tier].apy.toFixed(2);
        $list.find(".ally").attr("data-rate", apy);
      }
    }

    for (var bank in competitors) {
      if (product == "NPCD") {
        var $el = $list.find("[data-bank*='" + bank + "']");
        for (var thing in competitors[bank]) {
          var data = competitors[bank][thing][0];
          var apy = data.apy.toFixed(2);
          var apr = data.apr;
          if (inputValue >= data.min && inputValue <= data.max) {
            var apy = data.apy.toFixed(2);
            var apr = data.apr;
            $el.removeClass("closed").attr("data-rate", apy).attr("data-apr", apr);
            break;
          } else {
            $el.addClass("closed").attr("data-rate", "").attr("data-apr", "");
          }
        }

      } else {
        if (typeof(competitors[bank][termLength]) == "object") {
          for (var tier in competitors[bank][termLength]) {
            var $el = $list.find("[data-bank*='" + bank + "']");
            var data = competitors[bank][termLength][tier];
            if (inputValue >= data.min && inputValue <= data.max) {
              var apy = data.apy.toFixed(2);
              $el.removeClass("closed").attr("data-rate", apy);
              break;
            } else {
              $el.addClass("closed").attr("data-rate", "");
            }
          }
        } else {
          $list.find("[data-bank*='" + bank + "']").addClass("closed").attr("data-rate", "");
        }
      }
    }

    // list data updated... now sort and re-color:
    var $els = $list.find("[data-bank]").not(".ally").not(".closed").sort( function (a, b) {
      return $(a).attr("data-rate") == $(b).attr("data-rate") ? 0 : ($(b).attr("data-rate") > $(a).attr("data-rate") ? 1 : -1);
    });
    // ... and re-order
    var order = 1;
    $els.each( function () {
      $(this).attr("order", order).css({
        "transform": "translateY(" + order * 3 + "rem)",
        "-ms-transform": "translateY(" + order * 3 + "rem)"
      });
      order++;
    }).promise().done();

    // set the graph's height equal to the amount of elements we're dealing with
    $list.height(order * 3 + "rem");
  },

  addAlly: function ($modal) {
    var $el = $("<li />", {
      "text": "Ally Bank",
      "data-bank": "Ally Bank",
      "order": "0",
      "data-rate": "",
      "class": "ally"
    });
    $modal.find(".banks").prepend($el);
  },

  addCompetitors: function ($modal) {
    var self = ally.components.competitorModal;
    var product = $modal.data().prod;
    var competitors = ally.data.product[product].competitors;
    var $list = [],
    $el;
    for (var bank in competitors) {
      $el = $("<li />", {
        "text": bank,
        "data-bank": bank,
        "data-rate": ""
      });
      $list.push($el);
    }
    $modal.find(".banks").append($list);
  }
}

		/*! carousel.js Concatenated on 10-01-2015 at 3:11:20 PM by CHAMBERS */
ally.components.carousel={init:function(){var self=ally.components.carousel;self.carousels=[],self.timers=[],self.hover=[],self.delay=[4e3],self.setup()},setup:function(){var self=ally.components.carousel,which=0;$(".carousel").each(function(){$(this).attr("data-which",which),which++,self.configure($(this))}),$(".slide").hide(),setTimeout(function(){$(".slide").fadeIn(100)},100)},configure:function($carousel){var self=ally.components.carousel,which=$carousel.data().which,$prev=$("<div />",{"class":"prev"}),$next=$("<div />",{"class":"next"});$carousel.on("click",".prev",function(){var $parent=$(this).parents(".carousel");self.previous($parent)}),$carousel.on("click",".next",function(){var $parent=$(this).parents(".carousel");self.next($parent)}),$carousel.prepend($prev),$carousel.prepend($next);var slidenum=0;$carousel.find(".slide").each(function(){var $button=$("<input />",{type:"radio",name:"carousel-"+which,id:"slide-"+slidenum,"data-which":slidenum});0==slidenum&&$button.prop("checked",!0);var $label=$("<label />",{"for":"slide-"+slidenum,"data-which":slidenum});$label.on("click",function(){var which=$(this).data().which,$parent=$(this).parents(".carousel");self.changeTo($parent,which),console.log("YEP",which)}),$button.insertBefore($(this)),$label.insertBefore($(this)),slidenum++})},next:function($parent){var self=ally.components.carousel,len=$parent.find("input").length,active=$parent.find("input:checked").data().which,which=active+1;which==len&&(which=0),self.changeTo($parent,which)},previous:function($parent){var self=ally.components.carousel,$inputs=$parent.find("input"),len=$inputs.length,$active=$parent.find("input:checked"),active=$active.data().which,which=active-1;0>which&&(which=len-1),self.changeTo($parent,which)},changeTo:function($parent,slidenum){var $el=$("input[data-which='"+slidenum+"']");$el.prop("checked",!0)}},ally.components.carousel.init();
		/*! select.js Concatenated on 05-11-2016 at 9:08:25 AM by SNODGRASS */
!function($,window,document,undefined){function Plugin(element,options){this.el=element,this.$el=$(this.el),this.options=$.extend({},defaults,options);var dataOptions=this.$el.data(this.options.dataOptName)||{};this.options=$.extend({},this.options,dataOptions),this.options.isOpen=!1,this.options.onInit(this),this.options.triggerID=this._setTriggerID(this.options.triggerID||this.$el.attr("id")),this._name=pluginName,""!==$.trim(this.options.evtNamespace)&&(this.options.evtNamespace="."+this.options.evtNamespace),envStarted||($(document).on(clickAction+".sd-close",function(e){$(":"+pluginName+'("isOpen")')[pluginName]("dismiss",[e])}),envStarted=!0),this._init()}var pluginName="allySelect",extObj={},envStarted=!1,defaults={dataOptName:"sd-options",holderClass:"sd-holder",modifierClass:"",triggerClass:"sd-btn",triggerModifier:"",txtClass:"sd-text",iconClass:"sd-icon",triggerIcon:'<i class="icon icon-darrow"></i>',triggerTxtUpdate:!0,triggerID:!1,triggerLabel:"submenu trigger",openClass:"open",listClass:"sd-list",selectedClass:"sd-selected",focusClass:"sd-focus",listLabel:"submenu",itemData:[],type:"select",inline:!1,defaultBtnTxt:null,buildSelect:!1,iconFirst:!1,showTriggerTxt:!0,showTriggerIcon:!0,closeAll:!0,showEvt:"click",evtNamespace:"sd",onInit:$.noop,onCreate:$.noop,onOpen:$.noop,onSelect:$.noop,onClose:$.noop,fireOnSelect:!0,disabled:!1},isTouchDevice=function(){return!0===("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||navigator.maxTouchPoints>0)}(),clickAction=function(){var action="click";return isTouchDevice&&!navigator.pointerEnabled&&(action="touchstart"),action}(),isPluginType=function(el){return"object"==typeof $(el).data("plugin_"+pluginName)},getTrueValue=function(val){var trueVal=parseInt(val,10);if(isNaN(trueVal))switch(val){case"null":trueVal=null;break;case"true":trueVal=!0;break;case"false":trueVal=!1;break;case"undefined":trueVal=undefined;break;default:trueVal=val}return trueVal};extObj[pluginName]=function(el,index,meta){if(meta[3]&&isPluginType(el)){var inputOpts=meta[3].split(":"),pluginOpts=$.data(el,"plugin_"+pluginName).options[inputOpts[0]];return inputOpts.length>1?pluginOpts===getTrueValue(inputOpts[1]):pluginOpts}return isPluginType(el)},$.extend($.expr[":"],extObj),Plugin.prototype={show:function(){this.alphaKeys=[],this.options.closeAll&&$(":"+pluginName+'("isOpen")').length>0&&$(":"+pluginName+'("isOpen")')[pluginName]("hide"),this.$sdHolder.addClass(this.options.openClass).on("keydown"+this.options.evtNamespace,"a",{self:this},this._handleKeys).find("."+this.options.selectedClass).addClass(this.options.focusClass).find("a").focus(),this.options.onOpen(self),this.options.isOpen=!0},hide:function(){this.$sdHolder.removeClass(this.options.openClass).off("keydown"+this.options.evtNamespace,"a",this._handleKeys).find("."+this.options.focusClass).removeClass(this.options.focusClass).blur(),this.options.onClose(self),this.options.isOpen=!1},dismiss:function(e){$(e.target).parents("."+this.options.holderClass).length>0&&"keydown"!==e.type?e.stopPropagation():this.hide()},toggle:function(e){e&&(e.preventDefault(),e.stopPropagation());var self=e?e.data.self:this;self.options.disabled||(self.options.isOpen?self.hide():self.show())},_findSelected:function(){for(var itemIdx=this.listItems.length,selected=this.selectedIndex;itemIdx--;)this.listItems[itemIdx].selected&&(selected=itemIdx);return selected},syncElements:function(){var optLength,sdHolderClass;this.selectedIndex=this._findSelected(),this.options.inline||"nav"===this.options.type||(optLength=this.$el.find("options").length,this.listItems.length&&this.$el.html(this.listItems.map(this._buildOptItems.bind(this)).join("\n")).val(this.listItems[this.selectedIndex].value).trigger("change"),sdHolderClass="",sdHolderClass+=this.$sdHolder.attr("class")||"",sdHolderClass+=this.$el.attr("class")?" "+this.$el.attr("class"):"",this.$sdHolder.attr("class",sdHolderClass)),this.$sdList.html(this.listItems.map(this._buildListItems.bind(this)).join("\n")),this.listItems.length&&this.$sdBtn.find("."+this.options.txtClass).text(this.listItems[this.selectedIndex].text)},refresh:function(fireOnSelect){this.listItems=this.options.itemData.length>0?this.options.itemData:this._getSelectItems(),fireOnSelect!==undefined&&(this.options.fireOnSelect=fireOnSelect),this.syncElements()},syncSelectedOption:function(idx,eventType){var selectedItem=this.listItems[idx];this.listItems[this.selectedIndex].selected=!1,this.listItems[idx].selected=!0,this.selectedIndex=idx,this.options.noSelect||(this.$sdHolder.find("."+this.options.txtClass).text(selectedItem.text),"click"!==eventType||this.options.inline||this.$el.val(selectedItem.value).trigger("change"+this.options.evtNamespace,[!0])),this.$sdHolder.find("."+this.options.selectedClass).removeClass(this.options.selectedClass).end().find("li:eq("+idx+")").addClass(this.options.selectedClass),this.options.fireOnSelect&&this.options.onSelect(this,this.listItems[idx]),this.options.fireOnSelect=!0},_hiddenSelectActions:function(e,extra){var self=e.data.self;extra||self.syncSelectedOption(self.$el.find('[value="'+self.$el.val()+'"]').index(),e.type)},_setTriggerID:function(id){return id&&""!==id||(id="#sd-menu"+Math.floor(99999*Math.random()+1)),id.indexOf("#")<0&&(id="#sd-"+id),id},_buildOptItems:function(item,idx){var selectedAttr=idx===this.selectedIndex?"selected":"";return'<option value="'+this.listItems[idx].value+'"'+selectedAttr+">"+this.listItems[idx].text+"</option>"},_buildTriggerContent:function(){var items=[],triggerTxt=null!==this.options.defaultBtnTxt?this.options.defaultBtnTxt:this.listItems[this.selectedIndex].text;return this.options.showTriggerTxt&&items.push($("<span/>",{"class":this.options.txtClass,text:triggerTxt})),this.options.showTriggerIcon&&items.push($("<span/>",{"class":this.options.iconClass,"aria-hidden":!0,tabindex:-1,html:this.options.triggerIcon})),this.options.iconFirst&&items.reverse(),items},_buildTrigger:function(){var attrs={href:this.options.triggerID,"class":$.trim(this.options.triggerClass+" "+this.options.triggerModifier),"aria-label":this.options.triggerLabel,"aria-controls":this.options.triggerID.substr(1),"aria-haspopup":!0};return $("<a/>",attrs).append(this._buildTriggerContent())},_buildListItems:function(item,idx){var selectedAttr=idx===this.selectedIndex?'class="'+this.options.selectedClass+'"':"",actionVal="nav"===this.options.type?'href="'+this.listItems[idx].value+'"':'href="#" data-value="'+this.listItems[idx].value+'"';return"<li "+selectedAttr+"><a "+actionVal+' role="menuitem">'+this.listItems[idx].text+"</a></li>"},_buildList:function(){var attrs={id:this.options.triggerID.substr(1),"class":this.options.listClass,"aria-label":this.options.listLabel,role:"menu","aria-hidden":"true"};return $("<ul/>",attrs).append(this.listItems.map(this._buildListItems.bind(this)).join("\n"))},_buildSelect:function(){var selectId=this.options.triggerID.substr(1)+"-select",attrs={id:selectId,name:selectId};return $("<select/>",attrs).append(this.listItems.map(this._buildOptItems.bind(this)).join("\n"))},_buildDropdown:function(){this.options.inline||(this.$sdBtn=this._buildTrigger(),this.$sdList=this._buildList(),this.$el.parent("."+this.options.holderClass).length>0?this.$saved=this.$el.parent("."+this.options.holderClass).clone():this.$saved=this.$el.clone()),0!==this.$el.parent("."+this.options.holderClass).length||this.$el.hasClass(this.options.holderClass)||this.$el.wrap('<div class="'+[this.options.holderClass,this.options.modifierClass,this.$el.attr("class")].join(" ")+'" />'),this.$el.hasClass(this.options.holderClass)?(this.$el.attr("class",[this.options.modifierClass,this.$el.attr("class")].join(" ")),this.$sdHolder=this.$el,this.$el.html([this.$sdBtn,this.$sdList])):(this.$sdHolder=this.$el.parent("."+this.options.holderClass),this.$el.after([this.$sdBtn,this.$sdList])),this.options.buildSelect&&(this.$el=this._buildSelect(),this.$sdHolder.prepend(this.$el))},_buildItemData:function(el,idx){var $el=$(el),attrMethod=this.options.inline?"data":"attr",valName="nav"===this.options.type?"href":"value",isSelected=$el.parent("li").hasClass(this.options.selectedClass)||$el.is(":selected");return isSelected&&(this.selectedIndex=idx),{value:$el[attrMethod](valName),text:$el.text(),selected:isSelected}},_getSelectItems:function(){var itemSelector=this.options.inline?"ul a":"option",$items=this.$el.find(itemSelector);return $.makeArray($items).map(this._buildItemData.bind(this))},_handleClick:function($target){var idx;"nav"!==this.options.type&&(idx=$target.parent("li").index(),this.syncSelectedOption(idx,"click")),this.hide()},_getMatchedIndex:function(str){var matchedIndex=-1;return $.each(this.listItems,function(idx,obj){obj.text.toLowerCase().substring(0,str.length)===str.toLowerCase()&&(matchedIndex=idx)}),matchedIndex},_convertToKeyCode:function(e){var keyCode=e.keyCode||e.which;if(!keyCode)return!1;var isDown=39===keyCode||40===keyCode||34===keyCode,isUp=37===keyCode||38===keyCode||33===keyCode,isEnter=13===keyCode,isTab=9===keyCode,isEsc=27===keyCode,isShift=e.shiftKey,char=String.fromCharCode(keyCode);return{isDown:isDown,isUp:isUp,isDir:isDown||isUp,isEnter:isEnter,isTab:isTab,isEsc:isEsc,isShift:isShift,"char":char}},_incrementIndex:function(direction,focused){var index,numItems=this.listItems.length;return index=0>direction?0>focused-1?numItems-1:focused-=1:focused+1>numItems-1?0:focused+=1},setOptFocus:function(idx){this.$sdList.find("."+this.options.focusClass).removeClass(this.options.focusClass).blur().end().find("li:eq("+idx+")").addClass(this.options.focusClass).find("a").focus()},_handleKeys:function(e){var self=e.data.self,key=self._convertToKeyCode(e),focused=self.$sdList.find("."+self.options.focusClass).index(),direction=key.isShift||key.isUp?-1:1,newFocus=0;if(!key||key.isEsc||key.isEnter)return key.isEnter&&self.syncSelectedOption(focused,"click"),void self.hide();if(key.isShift&&!key.isTab)return!0;if(key.isTab||key.isDir)newFocus=self._incrementIndex(direction,focused);else{self.alphaKeys.push(key["char"]);var matchedIndex=self._getMatchedIndex(self.alphaKeys.join(""));0>matchedIndex&&(self.alphaKeys=[self.alphaKeys.pop()],matchedIndex=self._getMatchedIndex(self.alphaKeys.join("")),0>matchedIndex&&(matchedIndex=focused)),newFocus=matchedIndex}return self.setOptFocus(newFocus),!1},_listActions:function(e){var self=e.data.self,$target=$(e.currentTarget);"click"!==e.type&&"touchstart"!==e.type||"nav"===self.options.type?"mouseenter"===e.type?self.show():self.hide():(e.preventDefault(),e.stopPropagation(),self._handleClick($target)),"nav"===self.options.type&&self.hide()},_attachEvents:function(){this.options.inline||this.$el.on("change"+this.options.evtNamespace,{self:this},this._hiddenSelectActions),this.$sdHolder.on(clickAction+this.options.evtNamespace,"."+this.options.triggerClass,{self:this},this.toggle),this.$sdList.on(clickAction+this.options.evtNamespace,"a",{self:this},this._listActions),"hover"!==this.options.showEvt||isTouchDevice||this.$sdHolder.on("mouseenter"+this.options.evtNamespace+" mouseleave"+this.options.evtNamespace,{self:this},this._listActions)},_init:function(){this.options.inline&&(this.$sdHolder=this.$el,this.$sdBtn=this.$sdHolder.find("."+this.options.triggerClass),this.$sdList=this.$sdHolder.find("."+this.options.listClass)),this.listItems=this.options.itemData.length>0?this.options.itemData:this._getSelectItems(),this.selectedIndex||(this.selectedIndex=0),this.options.inline||this._buildDropdown(),this._attachEvents(),this.$sdHolder.addClass("sd-initialized")},setDisable:function(disable){return this.options.disabled=disable,disable?(this.$sdHolder.addClass("disabled"),void this.$el.prop("disabled",!0)):(this.$el.prop("disabled",!1),void this.$sdHolder.removeClass("disabled"))},set:function(opt,val){this.options[opt]=val,"itemData"===opt&&this.refresh()},get:function(opt){return"selected"===opt?this.listItems[this.selectedIndex]:this.options[opt]},destroy:function(){this.$sdHolder.off(clickAction+this.options.evtNamespace,"."+this.options.triggerClass,this.toggle),this.$sdList.off(clickAction+this.options.evtNamespace,"a",this._listActions),"hover"!==this.options.showEvt||isTouchDevice||this.$sdHolder.off("mouseenter"+this.options.evtNamespace+" mouseleave"+this.options.evtNamespace,this._listActions),this.options.inline||(this.$el.off("change"+this.options.evtNamespace,this._hiddenSelectActions),this.$saved.insertAfter(this.$sdHolder),this.$sdHolder.remove())},create:function(){this._init()}},$.fn[pluginName]=function(options,args){if(options===undefined||"object"==typeof options)return this.each(function(){$.data(this,"plugin_"+pluginName)||$.data(this,"plugin_"+pluginName,new Plugin(this,options))});if("string"==typeof options&&"_"!==options[0]&&$.isFunction(Plugin.prototype[options])){var instance;return args=args||[],args.length>0&&("get"===options||"set"===options)?(instance=this.data("plugin_"+pluginName),instance[options].apply(instance,args)):this.each(function(){instance=$.data(this,"plugin_"+pluginName),instance instanceof Plugin&&instance[options].apply(instance,args)})}}}(jQuery,window,document);
		/*! contact-card.js Concatenated on 10-22-2015 at 4:35:40 PM by WUORI */
"object"!=typeof ally&&(ally={}),"object"!=typeof ally.components&&(ally.components={}),ally.components.contactCard={init:function(options){var options,defaults={clickItem:".contact-additional",children:".children"};options=$.extend({},defaults,options),$("body").on("click",options.clickItem,function(e){$(this).find(options.children).toggle(0).end().toggleClass("active")})}};
		/*! active-nav.js Concatenated on 03-29-2016 at 2:20:54 PM by PARILLO */
var ally=ally||{};ally.components=ally.components||{},Number.parseInt=Number.parseInt||parseInt,ally.components.ActiveNav=function(){function createScrollEventSafely(){function triggerScrollEvent(){$("body").trigger("ally.scrollEvent")}var currentEvents=$._data($(window)[0],"events"),hasScroll=!1;return currentEvents.scroll&&currentEvents.scroll.length?($.each(currentEvents.scroll,function(ind,evt){evt.handler.toString()===triggerScrollEvent.toString()&&(hasScroll=!0)}),hasScroll?!1:$(window).on("scroll",triggerScrollEvent)):$(window).on("scroll",triggerScrollEvent)}function ActiveNav(overrideOptions){var self=this;if(!(self instanceof ActiveNav))return new ActiveNav(overrideOptions);if(overrideOptions&&overrideOptions instanceof jQuery){var cont=overrideOptions;overrideOptions={context:cont}}self.options={},self.overrideOptions=overrideOptions,self.pageOffsets={},self.pageOffsetSortedKeys=[],self.sectionHashes=[],self.navLinks=[],self.sectionOffsets=[],self.activeHash=null,self.activeIndex=0,self.usingDataAttr=!1,self.scrollTimeout=null,self.useScrollTimeout=!1,self.hashChangeTimer=null,self.isInitialized=!1,$(function(){self.init()})}var DATA_ATTRIBUTE="data-active-nav",OPTIONS_ATTRIBUTE="data-active-nav-options",SCROLL_OFFSET_ATTRIBUTE="data-active-offset",$BODY=$("body"),defaultOptions={context:null,activeTitleElement:$(".section-title"),elementString:'a[href^="#"]',offset:60};return ActiveNav.prototype={init:function(){var attr;this.setOptions(),this.options.context&&this.options.context.length&&(attr=this.options.context.attr(DATA_ATTRIBUTE),("undefined"==typeof attr||"initialized"!==attr)&&(this.options.context.attr(DATA_ATTRIBUTE,"initialized"),this.navLinks=this.options.context.find(this.options.elementString),this.setSortedHashList(),this.setSectionOffsets(),this.setupListeners(),this.scrollStop(),this.scrollEvent()))},setOptions:function(){var opts,context=this.overrideOptions&&this.overrideOptions.context?this.overrideOptions.context:defaultOptions.context;context&&(opts=context.attr(OPTIONS_ATTRIBUTE)||"{}",opts=JSON.parse(opts),this.options=$.extend(!0,{},defaultOptions,this.overrideOptions,opts))},setupListeners:function(){var self=this;createScrollEventSafely(),$BODY.on("ally.linkScroll.scrollTo",function(){self.useScrollTimeout=!0}),$BODY.on("ally.scrollEvent",$.proxy(self.scrollEvent,self)),$(window).on("resize",function(){clearTimeout(self.updateTimer),self.updateTimer=setTimeout($.proxy(self.scrollEvent,self),500)})},findSectionHashes:function(){var elemHash,self=this;self.navLinks.each(function(ind,elem){$(elem).attr("data-active-section")?(self.usingDataAttr=!0,elemHash=$(elem).attr("data-active-section")):(self.usingDataAttr=!1,elemHash=$(elem).attr("href")),elemHash&&"#"!==elemHash&&$(elemHash).length&&self.sectionHashes.push(elemHash)})},setSectionOffsets:function(){var elem,self=this,infoBarBuffer=0;self.sectionOffsets=[],$(".info-bar").length&&(infoBarBuffer=10),self.sectionHashes.forEach(function(current,i){elem=document.getElementById(current.slice(1)),elem&&elem.hasAttribute(SCROLL_OFFSET_ATTRIBUTE)&&$(current).attr(SCROLL_OFFSET_ATTRIBUTE)?self.sectionOffsets[i]=Number.parseInt($(current).attr(SCROLL_OFFSET_ATTRIBUTE),10)+infoBarBuffer:self.sectionOffsets[i]=null})},setSortedHashList:function(){var self=this;self.findSectionHashes(),self.sectionHashes.sort(function(a,b){return $(a).offset().top-$(b).offset().top})},getIndividualIndex:function(index){return(null!==this.sectionOffsets[index]?this.sectionOffsets[index]:this.options.offset)+1},findNewActive:function(sP){var current,plusOne,hashes=this.sectionHashes,currentIndex=hashes.indexOf(this.activeHash);if(sP<$(hashes[0]).offset().top-this.getIndividualIndex(0))return"#nothing";if(sP>=$(hashes[hashes.length-1]).offset().top-this.getIndividualIndex(hashes.length-1))return hashes[hashes.length-1];if(currentIndex>-1&&sP>=$(hashes[currentIndex]).offset().top-this.getIndividualIndex(currentIndex)&&sP<$(hashes[currentIndex+1]).offset().top-this.getIndividualIndex(currentIndex+1))return this.activeHash;for(var i=0,len=hashes.length-1;len>i;i++)if(current=$(hashes[i]).offset().top-this.getIndividualIndex(i),plusOne=$(hashes[i+1]).offset().top-this.getIndividualIndex(i+1),sP>=current&&plusOne>sP)return hashes[i]},scrollStop:function(){var activeName,self=this;$BODY.on("ally.activeNav.activeSection",function(e,activeSection){return self.isInitialized||"#top"!==activeSection?(self.isInitialized=!0,self.hashChangeTimer&&(clearTimeout(self.hashChangeTimer),self.hashChangeTimer=null),void(self.hashChangeTimer=setTimeout(function(){activeName=$("a[href="+activeSection+"]").attr("data-track-name")||"",$BODY.trigger("ally.activeNav.activeStop",{hash:activeSection,name:activeName}),ALLY.util.logMessage("%cactive-nav.js hash stop","color:blue",activeSection)},1500))):void(self.isInitialized=!0)})},scrollEvent:function(){var stringSearch,$activeLink,self=this,scrollPosition=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,newActive=self.findNewActive(scrollPosition);newActive!==self.activeHash&&(self.activeHash=newActive,stringSearch=self.usingDataAttr?'[data-active-section="'+self.activeHash+'"]':'[href="'+self.activeHash+'"]',$activeLink=self.options.context.find(stringSearch),self.options.context.find(self.options.elementString).removeClass("active"),$activeLink.addClass("active"),$BODY.trigger("ally.activeNav.activeSection",self.activeHash),ALLY.util.logMessage("%cactive-nav.js hash change","color:blue",self.activeHash),self.options.activeTitleElement.length&&(self.useScrollTimeout?(clearTimeout(self.scrollTimeout),self.scrollTimeout=setTimeout(function(){self.options.activeTitleElement.text($activeLink.text()),self.useScrollTimeout=!1},100)):self.options.activeTitleElement.text($activeLink.text())))},destroy:function(){}},ActiveNav}();
		/*! sticky-element.js Concatenated on 04-04-2016 at 12:18:07 PM by PARILLO */
var ally=ally||{};ally.components=ally.components||{},ally.components.StickyElement=function(){function getOffset($elem,opts){var classArray=$elem.attr("class").split(" ");if(!classArray.length||!opts.elementOffsets)return 0;for(var i=0,len=classArray.length;len>i;i++)if(opts.elementOffsets[classArray[i]])return opts.elementOffsets[classArray[i]];return defaultOptions.offset}function createScrollEventSafely(){function triggerScrollEvent(){$("body").trigger("ally.scrollEvent")}var currentEvents=$._data($(window)[0],"events"),hasScroll=!1;return currentEvents.scroll&&currentEvents.scroll.length?($.each(currentEvents.scroll,function(ind,evt){evt.handler.toString()===triggerScrollEvent.toString()&&(hasScroll=!0)}),hasScroll?!1:$(window).on("scroll",triggerScrollEvent)):$(window).on("scroll",triggerScrollEvent)}function StickyElement(overrideOptions){var self=this;if(!(self instanceof StickyElement))return new StickyElement(overrideOptions);if(overrideOptions&&overrideOptions instanceof jQuery){var cont=overrideOptions;overrideOptions={element:cont}}self.options={},self.overrideOptions=overrideOptions,self.stuckPosition=0,self.isStuck=!1,self.updateTimer=null,self.componentPosition=0,self.currentStickOffset=0,self.placeholder=null,self.elementTagName="div",self.stickyEventNamespace="ally.sticky.change",self.totalOffset=0,self.isUpdating=!1,self.componentDataAttribute="",$(function(){self.init()})}var $BODY=$("body"),DATA_ATTRIBUTE="data-sticky-element",OPTIONS_ATTRIBUTE="data-sticky-element-options",defaultOptions={element:null,offsets:[[0,null]],elementOffsets:{},usePlaceholder:!0,position:"top",dataAttribute:"data-ally-sticky-component",dataAttributeValue:""};return StickyElement.prototype={init:function(undefined){var attr,self=this;if(self.setOptions(),self.componentDataAttribute="data-ally-sticky-"+self.options.position,attr=self.options.element.attr(DATA_ATTRIBUTE),this.options.element&&this.options.element.length&&("undefined"==typeof attr||"initialized"!==attr)){if(self.options.element.length>1)return void self.options.element.each(function(ind,element){var $elem=$(element),offsets=getOffset($elem,self.options);new StickyElement({element:$elem,offsets:offsets})});self.options.element.attr(DATA_ATTRIBUTE,"initialized"),self.options.element.attr(self.componentDataAttribute,""),self.elementTagName=self.options.element.prop("tagName").toLowerCase(),self.updateAll(),$BODY.trigger("ally.sticky.add"),self.setupListeners()}},setOptions:function(){var element=this.overrideOptions&&this.overrideOptions.element?this.overrideOptions.element:defaultOptions.element,opts=element.attr(OPTIONS_ATTRIBUTE)||"{}";opts=JSON.parse(opts),this.options=$.extend(!0,{},defaultOptions,this.overrideOptions,opts)},setupListeners:function(){var self=this;createScrollEventSafely(),$(window).on("resize",function(){clearTimeout(self.updateTimer),self.updateTimer=setTimeout($.proxy(self.updateAll,self),500)}),$BODY.on("ally.scrollEvent",$.proxy(self.scrollEvent,self)),$BODY.on("ally.sticky.add",$.proxy(self.updateAll,self))},updateAll:function(){this.isUpdating=!0,this.findCurrentNavOffset(),this.updateStickyOffset(),this.updatePlaceholder(),this.setupElementListeners(),this.updateTotalOffset(),this.scrollEvent()},addPlaceholder:function(){this.placeholder=$("<"+this.elementTagName+" />",{"class":"placeholder"}),this.placeholder.css({margin:0,padding:0}),this.placeholder.hide(),this.options.element.after(this.placeholder)},updatePlaceholder:function(){this.options.usePlaceholder&&(this.placeholder||this.addPlaceholder(),this.placeholder.height(this.options.element.outerHeight(!0)))},findCurrentNavOffset:function(){var sortedOffsets,plusOne,current,screenWidth=parseInt($(document).width(),10),offsetArray=this.options.offsets;if(offsetArray.length<1)return void(this.currentStickOffset=null);if(1===offsetArray.length)return void(screenWidth>=offsetArray[0][0]?this.currentStickOffset=offsetArray[0][1]||null:this.currentStickOffset=null);sortedOffsets=offsetArray.sort(function(a,b){return a[0]-b[0]});for(var i=0,len=sortedOffsets.length-1;len>i;i++)if(current=parseInt(sortedOffsets[i][0],10),plusOne=parseInt(sortedOffsets[i+1][0],10),screenWidth>current&&plusOne>screenWidth)return void(this.currentStickOffset=sortedOffsets[i][1]||0);this.currentStickOffset=sortedOffsets[sortedOffsets.length-1][1]||0},updateStickyOffset:function(){var $temp=$("<"+this.elementTagName+" />",{"class":this.options.element.attr("class")});$temp.insertBefore(this.options.element),$temp.removeClass("active"),this.stuckPosition=$temp.offset().top,$temp.remove(),this.componentPosition=this.options.element.offset().top},getCurrentStuck:function(){var i,currentStickies=$("["+this.componentDataAttribute+"]"),totalOffset=0;if(!currentStickies.length)return 0;if("top"===this.options.position){i=0;for(var len=currentStickies.length;len>i&&this.options.element[0]!==currentStickies[i];i++)"active"===$(currentStickies[i]).attr(this.componentDataAttribute)&&(totalOffset+=parseInt($(currentStickies[i]).outerHeight(),10))}else for(i=currentStickies.length-1;i>=0&&this.options.element[0]!==currentStickies[i];i--)"active"===$(currentStickies[i]).attr(this.componentDataAttribute)&&(totalOffset+=parseInt($(currentStickies[i]).outerHeight(),10));return totalOffset},setupElementListeners:function(){var self=this,currentStickies=$("["+this.componentDataAttribute+"]"),thisElementIndex=currentStickies.index(this.options.element);return currentStickies.length&&1!==currentStickies.length?void currentStickies.each(function(index,sticky){("top"===self.options.position&&thisElementIndex>index||"bottom"===self.options.position&&index>thisElementIndex)&&($(sticky).off(self.stickyEventNamespace,$.proxy(self.updateTotalOffset,self)),$(sticky).on(self.stickyEventNamespace,$.proxy(self.updateTotalOffset,self)))}):0},updateTotalOffset:function(){var self=this;null!==self.currentStickOffset?self.totalOffset=self.currentStickOffset:self.totalOffset=self.getCurrentStuck()},getCurrentScrollPosition:function(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop},stickElement:function(amount){var elem=this.options.element;this.isStuck=!0,this.updatePlaceholder(),elem.attr(this.componentDataAttribute,"active"),elem.addClass("active"),elem.css("position","fixed"),elem.css(this.options.position,amount+"px"),elem.trigger(this.stickyEventNamespace,!0),this.placeholder.show()},unstickElement:function(){var elem=this.options.element;this.isStuck=!1,elem.removeClass("active"),elem.attr(this.componentDataAttribute,""),elem.css({position:"relative",top:"",bottom:""}),elem.trigger(this.stickyEventNamespace,!1),this.placeholder.hide()},bottomStickScroll:function(scrollPosition,currentStuckOffset,stuckPosition){stuckPosition>=scrollPosition&&(this.isUpdating||this.isStuck===!1)&&this.stickElement(currentStuckOffset),scrollPosition>stuckPosition&&(this.isUpdating||this.isStuck===!0)&&this.unstickElement(),this.isUpdating=!1},topStickScroll:function(scrollPosition,currentStuckOffset,stuckPosition){scrollPosition>=stuckPosition&&(this.isUpdating||this.isStuck===!1)&&this.stickElement(currentStuckOffset),stuckPosition>scrollPosition&&(this.isUpdating||this.isStuck===!0)&&this.unstickElement(),this.isUpdating=!1},scrollEvent:function(){var currentStuckOffset,stuckPosition,scrollPosition=this.getCurrentScrollPosition(),elem=this.options.element;return currentStuckOffset=this.totalOffset,elem.is(":visible")&&"hidden"!==elem.css("visibility")?(elem.offset().top!==this.componentPosition&&this.updateStickyOffset(),"top"===this.options.position?(stuckPosition=this.stuckPosition-currentStuckOffset,this.topStickScroll(scrollPosition,currentStuckOffset,stuckPosition)):(scrollPosition+=$(window).height(),stuckPosition=this.stuckPosition+elem.outerHeight()+currentStuckOffset,this.bottomStickScroll(scrollPosition,currentStuckOffset,stuckPosition))):void 0},destroy:function(){}},StickyElement}();
		/*! link-scroll.js Concatenated on 03-28-2016 at 1:54:30 PM by PARILLO */
var ally=ally||{};ally.page=ally.page||{},ally.components=ally.components||{},ally.components.LinkScroll=function(){function LinkScroll(overrideOptions){var self=this;if(!(self instanceof LinkScroll))return new LinkScroll(overrideOptions);if(overrideOptions&&overrideOptions instanceof jQuery){var cont=overrideOptions;overrideOptions={context:cont}}self.overrideOptions=overrideOptions,self.options={},self.listeners=[],self.animation=null,$(function(){self.init()})}var $BODY=$("body"),$BODYHTML=$("body,html"),DATA_ATTRIBUTE="data-link-scroll",OPTIONS_ATTRIBUTE="data-link-scroll-options",defaultOptions={context:$("body"),duration:400,setupContextListener:!0,offset:30,delegate:"[data-scroll-to]",dataAttributeValue:""};return LinkScroll.prototype={init:function(){this.setOptions();var attr=this.options.context.attr(DATA_ATTRIBUTE);this.options.context&&this.options.context.length&&("undefined"==typeof attr||"initialized"!==attr)&&(this.options.context.attr(DATA_ATTRIBUTE,"initialized"),ally.page.isScrolling=!1,this.setupListeners())},setOptions:function(){var context=this.overrideOptions&&this.overrideOptions.context?this.overrideOptions.context:defaultOptions.context,opts=context.attr(OPTIONS_ATTRIBUTE)||"{}";opts=JSON.parse(opts),this.options=$.extend(!0,{},defaultOptions,this.overrideOptions,opts)},setupListeners:function(){var self=this;self.options.setupContextListener&&self.options.context.length&&(self.options.context.on("click.linkScroll",self.options.delegate,function(e){e.preventDefault(),self.options.context.trigger("ally.linkScroll.scrollTo",$(this).attr("href"))}),self.listeners.push("click.linkScroll")),self.options.context.on("ally.linkScroll.scrollTo",function(evt,stringHref){"string"==typeof evt&&(stringHref=evt),self.scrollToSection(stringHref)}),self.listeners.push("ally.linkScroll.scrollTo")},scrollToSection:function(t){var moveToPosition,elem,offsetToUse,linkName,self=this;t&&("#"!==t.substr(0,1)&&(t="#"+t),elem=$(t),elem.length?(moveToPosition=elem.offset().top,offsetToUse=elem.attr("data-scroll-offset")?elem.attr("data-scroll-offset"):self.options.offset,(!moveToPosition||0>moveToPosition)&&(moveToPosition=offsetToUse),moveToPosition-=offsetToUse,ally.page.isScrolling=!0,linkName=$("a[href="+t+"]").attr("data-track-name")||"",$BODY.trigger("ally.linkScroll.scrollStart",{hash:t,name:linkName}),self.animation=$BODYHTML.stop().animate({scrollTop:moveToPosition},{duration:self.options.duration}).promise(),self.animation.done(function(){ally.page.isScrolling=!1,$BODY.trigger("ally.linkScroll.scrollComplete")})):console.error("Section "+t+" does not exist."))},destroy:function(){for(var i=0,len=this.listeners.length;len>i;i++)this.options.context.off(this.listeners[i])}},LinkScroll}();
		/*! Concatenated on 05-12-2016 at 10:30:52 AM  */
"object"!=typeof ally&&(ally={}),"object"!=typeof ally.components&&(ally.components={}),ally.components.sticky={init:function(){var self=ally.components.sticky;(!ALLY||ALLY.isResponsive)&&($(".info-bar").length&&!$(".info-bar")[0].hasAttribute("data-sticky-element")&&(self.infoBar=$(".info-bar").addClass("sticky-nav")),this.configureNav(),$("#content .sticky-nav").is("[data-notrack]")||this.trackingNav())},configureNav:function(){var self=ally.components.sticky;$(".sticky-nav .call-us").addClass("mid"),self.positions=[],self.sections=[],self.isScrolling=!1,self.scrollTimer="",self.updateTimer="",self.trackingTimer="",$stickyNavs=$(".sticky-nav"),$stickyLinks=$(".sticky-nav a"),stickyOffsets=[],$active=$(".sticky-nav a:first-child"),self.addPlaceholders(),$(window).on("scroll",function(){self.fireScrollEvent()}),$(window).on("resize",function(){clearTimeout(self.updateTimer),self.updateTimer=setTimeout(self.updateAll,500)}),$(".back-to-top").on("click",function(e){e.preventDefault(),$("body,html").animate({scrollTop:"0px"}),$("body").trigger("custom.sticky-nav.back-to-top")}),$("body").on("click.scrollTo",".sticky-nav a[href*=#]",function(e){e.preventDefault();var t=$(this).attr("href"),index=self.sections.indexOf(t.substr(1));if($(t).length>0){var target=self.positions[index];0>target&&(target=1),$("body,html").animate({scrollTop:target-30+"px"}),$("body").trigger("custom.sticky-nav.click",[t])}}),$("body").on("custom.page-height-update",self.updateAll),$(".section-title").on("click",function(e){$(this).siblings("ul").toggleClass("active")}),$(".section-nav ul a[href^=#]").on("click",function(){$(".section-title").text($(this).text()),$(".section-nav ul").removeClass("active")}),$(".jump-nav ul a[href^=#]").on("click",function(){$(".section-title").text($(this).text()),$(".jump-nav ul").removeClass("active")}),self.updateAll(),self.fireScrollEvent()},updateAll:function(){var self=ally.components.sticky;self.updateSectionLocations(),self.updatePlaceholders(),self.updateStickyNavOffsets()},updateStickyNavOffsets:function(){document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop;$stickyNavs.each(function(i,k){var type=$(this).attr("class")+" active TEST",$el=$("<div />",{"class":type});$el.insertBefore($(this));var stuckPosition=parseInt($el.css("top"),10);$el.removeClass("active");var initialPosition=$el.offset().top;stickyOffsets[i]=initialPosition-stuckPosition,$el.remove()})},addPlaceholders:function(){var $stickyNavs=$(".sticky-nav");$stickyNavs.each(function(i,k){var height=$(k).outerHeight(!0);$(k).after($("<div />",{"class":"placeholder",style:"height: "+height+"px;","data-height":height}))})},updatePlaceholders:function(){var $placeholders=$(".placeholder");$placeholders.each(function(){$(this).height($(this).prev(".sticky-nav").outerHeight(!0))})},updateSectionLocations:function(){var self=ally.components.sticky;self.positions=[],self.sections=[],$("article section[id]").each(function(){var adjustedOffset=$(this).attr("data-stickynav-offset")?parseInt($(this).attr("data-stickynav-offset"),10):0,offset=$(this).offset().top+adjustedOffset,id=$(this).attr("id");self.positions.push(offset),self.sections.push(id)})},setScrollEvent:function(){this.isScrolling=!0,clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(this.fireScrollEvent,100)},sendTrackingTrigger:function(){clearTimeout(this.trackingTimer),this.trackingTimer=setTimeout(function(){$("body").trigger("custom.sticky-nav.section-active",[$active,$active.attr("href")])},500)},fireScrollEvent:function(){var self=ally.components.sticky;self.updateSectionLocations(),this.isScrolling=!1;for(var dist=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,x=0;x<self.positions.length;x++)dist>self.positions[x]-60&&($active=$(".sticky-nav [href=#"+self.sections[x]+"]"),$active.hasClass("active")||($stickyLinks.removeClass("active"),$active.addClass("active"),$(".section-title").text($active.text()),self.sendTrackingTrigger()));self.closeDropdown(),$stickyNavs.each(function(i,k){$(this).is(":visible")&&(dist>=stickyOffsets[i]&&!$(this).hasClass("active")&&($(this).addClass("active"),$(".back-to-top").addClass("show")),dist<stickyOffsets[i]&&$(this).hasClass("active")&&($(this).removeClass("active"),$(".back-to-top").removeClass("show")))})},closeDropdown:function(){$(".section-nav.active ul.active").removeClass("active")},trackingNav:function(){var checkSC=setInterval(function(){if($("body").hasClass("tracking-sitecatalyst-loaded")){if(clearInterval(checkSC),"object"!=typeof s)return!1;var pageNameRef=s.pageName,stickyClicked=!1,whichLink=function(){var whichLink=$("#content .sticky-nav li a.active").data("pane-id");return $("#content .sticky-nav ").hasClass("active")||(whichLink="Overview"),whichLink},getPageName=function(pageNameRef){var pageNameParts,pageName="";return pageNameParts=pageNameRef.split(":"),pageName=pageNameParts[0]+":"+pageNameParts[1]+":"+pageNameParts[2]+":"+whichLink()};$(window).on("scroll",_.debounce(function(){var sameSectionCheck=s.pageName;if(stickyClicked)return void(stickyClicked=!1);if(s.pageName=getPageName(pageNameRef),$("#content .sticky-nav").hasClass("active")){"link|"+s.pageName+"|stickynav:"+whichLink();s.prop75=s.pageName,s.events="event66",s.linkTrackEvents="event66",s.prop32=$(window).width(),s.linkTrackVars="prop32,prop50,prop31",sameSectionCheck!=s.pageName&&s.t()}},1e3)),$(".sticky-nav").on("click","li a[data-pane-id]",function(){stickyClicked=!0,s.pageName=pageNameRef,linkName="link|"+s.pageName+"|stickynav:"+$(this).data("pane-id").toLowerCase(),s.events="event66,event67",s.linkTrackEvents=s.events,s.prop32=$(window).width(),s.linkTrackVars="prop32",s.tl(this,"o",linkName)}),$(".sticky-nav").on("click","li a[data-cta-id]",function(){s.pageName=pageNameRef,linkName="link|"+s.pageName+"|stickynav:"+$(this).data("cta-id").toLowerCase(),s.events="event66,event67",s.linkTrackEvents=s.events,s.prop32=$(window).width(),s.ctalnkid=decodeURIComponent($(this).attr("href").split("ctalink=")[1].split("&")[0]),s.eVar28=s.ctalnkid,s.linkTrackVars="prop32,eVar28",s.tl(this,"o",linkName)})}})}},$(function(){$("[data-sticky-nav]").length||ally.components.sticky.init()});
		/*! input-nospinner.js Concatenated on 07-12-2016 at 9:32:55 AM by AMLER */
"object"!=typeof ally&&(ally={}),"object"!=typeof ally.components&&(ally.components={}),ally.components.inputNoSpinners={init:function(){this.$inputs=$(".input-number-noSpinners"),this.render()},render:function(){var self=this;this.$inputs.each(function(index,element){if($(element).wrapAll('<div class="input-spinner-container" />').before('<a class="minus is-initial disabled" href="#" data-control><i class="icon-bar"></i></a>').after('<a class="plus is-initial" href="#" data-control><i class="icon-add"></i></a>'),this.hasAttribute("data-add-on")){var addOn=this.getAttribute("data-add-on");$(this).addClass("add-on").before('<span class="add-on-item is-initial">'+addOn+"</span>")}self.valueCheck($(this))}),this.listener()},listener:function(){var $buttons=this.$inputs.siblings("a");$buttons.on("click",this.changeValue),this.$inputs.on("keypress",this.preventKeypress)},preventKeypress:function(e){(e.which<48||e.which>57)&&e.preventDefault()},changeValue:function(e){e.preventDefault();var newAmount,$button=$(this),$wrap=$button.parents(".input-spinner-container"),$input=$wrap.find("input"),max=parseInt($input.attr("max")),min=parseInt($input.attr("min")),step=parseInt($input.attr("step")),isStepped=!isNaN(step),current=parseInt($input.val());newAmount=$button.hasClass("plus")?isStepped?current+step:current+1:isStepped?current-step:current-1,min>=newAmount&&(newAmount=min),newAmount>=max&&(newAmount=max),ally.components.inputNoSpinners.updateButtons($input,newAmount,max,min),$input.val(newAmount),$input.change()},valueCheck:function($input){var value=$input.val();(null===value||void 0===value||""==value)&&(value=0,$input.attr("value",value));var minimum=$input.attr("min");if((void 0===minimum||""==minimum)&&$input.attr("min",0),value=parseInt(value),value>$input.attr("min")){var $button=$input.siblings("a.minus");$button.removeClass("disabled")}},updateButtons:function(input,value,max,min){var minusButton=input.siblings("a.minus"),plusButton=input.siblings("a.plus");value===min&&minusButton.addClass("disabled"),value===max&&plusButton.addClass("disabled"),value>min&&max>value&&(minusButton.removeClass("disabled"),plusButton.removeClass("disabled"))}};
		/*! core.bootstrap.js Concatenated on 07-19-2016 at 1:01:07 PM by SNODGRASS */
var ally=ally||{};ally.bootstrap=ally.bootstrap||{},ally.bootstrap.core=function($){var init=function(){ALLY.utils.browserDetect.init(),initMediaQueries(),initHeader(),initLogin(),initOffCanvasPanels(),initNavigation(),initSearch(),initFooter(),initCallWaitTime(),initChat(),initSocial(),initTooltips(),initInterstitialModal(),initLocationParameters(),initLinkScroll(),initStickyElement(),initActiveNav(),initStickyNav(),ALLY.tracking.init()},request=function(url){return $.ajax({url:url})},initMediaQueries=function(){ally.services.mediaQuery.init()},initHeader=function(){ally.services.overlay.init();var globalNav=new ally.header.Global("#global");globalNav.init();var utilities=new ally.header.Utilities("#utilities");utilities.init();var infoBar=new ally.header.Info("#info-bar");infoBar.init()},initLogin=function(){var login=new ally.Login("#login");login.init()},initNavigation=function(){var menu=new ally.header.Menu("#left-menu");menu.init();var mainNav=new ally.header.Main("#main-nav");mainNav.init()},initOffCanvasPanels=function(){var leftMenu=new ally.canvas.Left;leftMenu.init();var rightMenu=new ally.canvas.Right;rightMenu.init()},initSearch=function(){var personeticsInfo={callServerOnInit:!0,lateLoad:!0,scriptGroups:{},pserverUrl:"/services/search/",clientHintsBase:{}},success=function(){ALLY.util.logMessage("core.bootstrap.js: %cSearch Init success","color:green;")},error=function(err){ALLY.util.logMessage("core.bootstrap.js: %cSearch Init error %O","color:red;",err)};ALLY.util.logMessage("core.bootstrap.js: %cSearch Initializing -> %O","color:blue;",personeticsInfo),personetics.initialize(personeticsInfo,success,error);var search1=new ally.Search("div[data-searchid=1]",{breakpoints:"large,xlarge",useClearBtn:!0,service:ally.services.search}),search2=new ally.Search("div[data-searchid=2]",{useOverlay:!1,useClearBtn:!0,resultsIcon:"rarrow",breakpoints:"small",template:{list:'<% for(var i=0;i<list.length;i++) { %><li><a href="<%= list[i].storeFrontUrl%>" data-faqid="<%= list[i].id %>"><p class="title"><%= list[i].titleText %></p></a></li><% } %>'},service:ally.services.search}),search3=new ally.SearchFullWidth("div[data-searchid=3]",{breakpoints:"medium",useClearBtn:!0,toggleBtn:'button[data-searchid=3][data-id="search-button"]',service:ally.services.search});ally.SearchController.init([search1,search2,search3])},initFooter=function(){var footer=new ally.footer.Global("#footer");footer.init()},initCallWaitTime=function(){var cwt=new ally.CWT({el:"[data-id='bank-cwt']",lob:"bank"});cwt.init();var service=new ally.services.CWT({lob:"bank"});service.start()},initChat=function(){window.location.href.match(/\/auto/)||ally.chat.init({elem:".chat",pid:"chatlinktop",animationTarget:"#chatlinktop",debug:!1,btnShow:function(data){var btn=data.div;btn.addClass("is-ready"),data.showAnimation&&ally.chat.animateChatInviteWindow()},btnHide:function(data){var btn=data.div;btn.removeClass("is-ready")}})},initSocial=function(){var tabs="",social=new ally.Social("#social",{exceptions:function(){return/^\/(about|search|help|sitemap|privacy|legal)|corporate-finance/.test(window.location.pathname)?!1:!0}});social.init(),tabs=-1!==window.location.pathname.indexOf("corporate-finance")?"blog:auto,facebook:auto,twitter:corp,linkedin:corp,youtube:auto":window.location.pathname.match(/\/auto|\/mitsubishi/)?"blog:auto,facebook:auto,twitter:auto,google:auto,youtube:auto":"blog:bank,facebook:bank,twitter:bank,google:bank,youtube:bank",social.setTabs(tabs)},initTooltips=function(){var tooltip=new ally.Tooltip("#auto-info a[data-tooltip]");tooltip.init(),$("a[rel=glossary]").allyTooltip({contentSrc:"ajax",origin:"cursor",offset:{x:-20,y:10}})},getMessages=function(types){Array.isArray(types)?types:["common"];var messagesBase="/resources/data/messages/en/",availableTypes=["common","bank"],messageRequests=[];return types.map(function(val){-1!==availableTypes.indexOf(val)&&messageRequests.push(request(messagesBase+val+".json"))}),messageRequests},initInterstitialModal=function(){var messageRequests=getMessages(["common","bank"]),pathname=window.location.pathname,modalPopup="/files/modal/leaving-ally-financial.html",allyBankPath=["/","/logged-off/"];modalPopup=allyBankPath.some(function(path){return pathname==path})||pathname.indexOf("/bank/")>-1?"/files/modal/leaving-ally-bank-financial.html":"/files/modal/leaving-ally-financial.html",$("a[rel=external]").not("[data-message]").allyModal({overlayModifier:"interstitial-modal",ajaxSettings:{url:modalPopup},contentType:"ajax",ajaxContext:".interstitial-content",prompt:!0}),messageRequests.length&&$.when.apply($,messageRequests).then(function(){var args=Array.prototype.slice.call(arguments),data={};args.map(function(val){"[object Object]"===Object.prototype.toString.call(val[0])&&(data[val[0].list_id]=val[0])}),$('a[rel="external"][data-message]').allyModal({overlayModifier:"interstitial-modal",contentType:"custom",customContent:"---",onCreate:function(ui){var $content=(ui.$modal.closest(".ally-modal"),ui.$content),messageType=this.$el.attr("data-message").split(".");$content.html('<div class="interstitial-content">'+data[messageType[0]][messageType[1]]+"</div>")},prompt:!0})}).fail(function(err){}),$("a[rel=chat-login]").allyModal({overlayModifier:"interstitial-modal",ajaxSettings:{url:"/files/modal/leaving-chat-login.html"},contentType:"ajax",ajaxContext:".interstitial-content",prompt:!0}),$("a[rel=secure-email]").allyModal({overlayModifier:"interstitial-modal",ajaxSettings:{url:"/files/modal/leaving-secure-email.html"},contentType:"ajax",ajaxContext:".interstitial-content",prompt:!0}),$("a[rel=debit-card]").allyModal({overlayModifier:"interstitial-modal",ajaxSettings:{url:"/files/modal/debit-card-payment.html"},contentType:"ajax",ajaxContext:".interstitial-content",prompt:!0})},initLocationParameters=function(){ally.data=ally.data||{},ally.data.params=ally.data.params||{};var query=window.location.search.replace("?","").split("&");if(query)for(var i=0;i<query.length;i++){var param=query[i];if(param){var key=param.split("=")[0],value=param.split("=")[1];ally.data.params[key]=value}}},initLinkScroll=function(){return ally.components&&ally.components.LinkScroll?void $("[data-link-scroll]").each(function(i,elem){$(this).data("ally-LinkScroll",new ally.components.LinkScroll($(elem)))}):void ALLY.util.logMessage("error","core.bootstrap.js: No component by the name of LinkScroll found.")},initStickyElement=function(){return ally.components&&ally.components.StickyElement?void $("[data-sticky-element]").each(function(i,elem){$(this).data("ally-StickyElement",new ally.components.StickyElement($(elem)))}):void ALLY.util.logMessage("error","core.bootstrap.js: No component by the name of StickyElement found.")},initActiveNav=function(){return ally.components&&ally.components.ActiveNav?void $("[data-active-nav]").each(function(i,elem){$(this).data("ally-ActiveNav",new ally.components.ActiveNav($(elem)))}):void ALLY.util.logMessage("error","core.bootstrap.js: No component by the name of ActiveNav found.")},initStickyNav=function(){return ally.patterns&&ally.patterns.StickyNav?void $("[data-sticky-nav]").each(function(i,elem){$(this).data("ally-StickyNav",new ally.patterns.StickyNav($(elem)))}):void ALLY.util.logMessage("error","core.bootstrap.js: No component by the name of StickyNav found.")};init()}(jQuery);