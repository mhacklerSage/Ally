function startsWith(a,b){return 0===a.indexOf(b)}function DomDataCollection(a){function b(){}function c(a){return"function"==typeof a}var d=this;d.config={recursion_level:1,collection_mode:"partial",functionsToExclude:[],function_list_size:1024,json_script:a?a:"json2.js"},d.emptyDomData=function(){d.dom_data={functions:{names:[],excluded:{size:0,count:0},truncated:!1},inputs:[],iFrames:[],scripts:[],collection_status:DomDataCollection.NotStarted}},d.startInspection=function(){var a=!1,b=!0;if(BrowserDetect.init(),"Explorer"!==BrowserDetect.browser)try{d.inspectJSFunctions(),b=!1}catch(c){a=a||!0}else d.dom_data.functions=[],(void 0===d.dom_data.functions||void 0===d.dom_data.functions.names)&&(d.dom_data.functions={names:[],excluded:{size:0,count:0},truncated:!1});try{d.inspectFrames(),b=!1}catch(c){a=a||!0}try{d.inspectScripts(),b=!1}catch(c){a=a||!0}try{d.inspectInputFields(),b=!1}catch(c){a=a||!0}a?b?d.dom_data.collection_status=DomDataCollection.Fail:d.dom_data.collection_status=DomDataCollection.Partial:d.dom_data.collection_status=DomDataCollection.Success,"Explorer"!==BrowserDetect.browser&&d.handleSizeLimit()},d.domDataAsJSON=function(){return stripIllegalChars(JSON.stringify(d.dom_data))},d.recursiveGetAllFunctionNamesUnderElement=function(a,e,f){var g,h,i,j=d.config,k=j.recursion_level,l=j.collection_mode;(void 0===d.dom_data.functions||void 0===d.dom_data.functions.names)&&(d.dom_data.functions={names:[],excluded:{size:0,count:0},truncated:!1});var m=d.dom_data.functions,n=m.excluded;for(var o in e)try{var p=e[o];if(g=""+p,a.length>0?prefix=a+".":prefix="",h=prefix+o,c(p))if(d.functionShouldBeCollected(p,o)){var q=m.names;i=q.length,q[i]=h}else"partial"==l&&(n.size+=g.length,n.count++);k>f+1?d.recursiveGetAllFunctionNamesUnderElement(h,p,f+1):m.names.sort()}catch(r){window.console||(window.console={},window.console.info=b,window.console.log=b,window.console.warn=b,window.console.error=b),console&&console.log&&console.log("error counting functions: "+r.toString())}};var e=new Hashtable;d.initFunctionsToExclude=function(){e&&e.clear();for(var a=d.config.functionsToExclude,b=a.length;b--;)e.put(a[b],"")},d.functionShouldBeCollected=function(a,b){return"full"==d.config.collection_mode?!0:(0===e.size()&&d.initFunctionsToExclude(),e.containsKey(b)?!1:!0)},d.inspectJSFunctions=function(){d.dom_data.functions=[],d.recursiveGetAllFunctionNamesUnderElement("",window,0)},d.handleSizeLimit=function(){var a=d.dom_data,b=d.config,c=b.function_list_size,e=a.functions;e.names.sort();var f=JSON.stringify(a);0>c&&(c=0);var g=0;if("full"!=b.colllection_mode&&f.length>c){for(var h=e.names,i=h.toString(),j=f.length-JSON.stringify(h).length+"[]".length,k=!1,l=h.length;!k;)1e3==g++&&(k=!0),lastComma=i.lastIndexOf(","),lastComma>=0&&l>0?(quotation_marks=2*l,j+lastComma+quotation_marks>c?(i=i.substring(0,lastComma-1),l--):k=!0):k=!0;l>1?(e.truncated=!0,e.names=e.names.slice(0,l-1),a.functions.truncated=!0):(d.emptyDomData(),a=d.dom_data,a.collection_status=DomDataCollection.Partial,a.functions.truncated=!0)}},d.inspectFrames=function(){d.countElements("iframe")},d.countElements=function(a){var b=document.getElementsByTagName(a);void 0===d.dom_data.iFrames&&(d.dom_data.iFrames=[]);var c=d.dom_data.iFrames,e=c.length;for(i=0;i<b.length;i++)c[e+i]=""+b[i].src;c.sort()},d.inspectScripts=function(){var a=document.getElementsByTagName("script");d.dom_data.scripts=[];for(var b=0;b<a.length;b++)d.dom_data.scripts[b]=a[b].text.length},d.collectFields=function(a){var b=document.getElementsByTagName(a);void 0===d.dom_data.inputs&&(d.dom_data.inputs=[]);for(var c=d.dom_data.inputs,e=c.length,f=b.length;f--;){var g=b[f],h=g.name,i=g.id;h&&h.length>0?element_name=h:i&&i.length>0?element_name=i:element_name="NO_NAME",c[e+f]=element_name}c.sort()},d.inspectInputFields=function(){d.collectFields("input"),d.collectFields("textarea"),d.collectFields("select"),d.collectFields("button")},loadJSON=function(){if(!window.JSON){var a=document.getElementsByTagName("head")[0],b=document.createElement("script");b.type="text/javascript",b.src=d.config.json_script,a.appendChild(b)}},d.emptyDomData(),loadJSON()}function IE_FingerPrint(){this.deviceprint_browser=function(){var a=navigator.userAgent.toLowerCase();return t=a+SEP+navigator.appVersion+SEP+navigator.platform,t+=SEP+navigator.appMinorVersion+SEP+navigator.cpuClass+SEP+navigator.browserLanguage,t+=SEP+ScriptEngineBuildVersion(),t},this.deviceprint_software=function(){var c="",d=!0;try{document.body.addBehavior("#default#clientCaps");var e,f=b.length;for(i=0;i<f;i++){e=activeXDetect(b[i]);var g=a[i];e?d===!0?(c+=g+PAIR+e,d=!1):c+=SEP+g+PAIR+e:(c+="",d=!1)}}catch(h){}return c};var a=["abk","wnt","aol","arb","chs","cht","dht","dhj","dan","dsh","heb","ie5","icw","ibe","iec","ieh","iee","jap","krn","lan","swf","shw","msn","wmp","obp","oex","net","pan","thi","tks","uni","vtc","vnm","mvm","vbs","wfd"],b=["7790769C-0471-11D2-AF11-00C04FA35D02","89820200-ECBD-11CF-8B85-00AA005B4340","47F67D00-9E55-11D1-BAEF-00C04FC2D130","76C19B38-F0C8-11CF-87CC-0020AFEECF20","76C19B34-F0C8-11CF-87CC-0020AFEECF20","76C19B33-F0C8-11CF-87CC-0020AFEECF20","9381D8F2-0288-11D0-9501-00AA00B911A5","4F216970-C90C-11D1-B5C7-0000F8051515","283807B5-2C60-11D0-A31D-00AA00B92C03","44BBA848-CC51-11CF-AAFA-00AA00B6015C","76C19B36-F0C8-11CF-87CC-0020AFEECF20","89820200-ECBD-11CF-8B85-00AA005B4383","5A8D6EE0-3E18-11D0-821E-444553540000","630B1DA0-B465-11D1-9948-00C04F98BBC9","08B0E5C0-4FCB-11CF-AAA5-00401C608555","45EA75A0-A269-11D1-B5BF-0000F8051515","DE5AED00-A4BF-11D1-9948-00C04F98BBC9","76C19B30-F0C8-11CF-87CC-0020AFEECF20","76C19B31-F0C8-11CF-87CC-0020AFEECF20","76C19B50-F0C8-11CF-87CC-0020AFEECF20","D27CDB6E-AE6D-11CF-96B8-444553540000","2A202491-F00D-11CF-87CC-0020AFEECF20","5945C046-LE7D-LLDL-BC44-00C04FD912BE","22D6F312-B0F6-11D0-94AB-0080C74C7E95","3AF36230-A269-11D1-B5BF-0000F8051515","44BBA840-CC51-11CF-AAFA-00AA00B6015C","44BBA842-CC51-11CF-AAFA-00AA00B6015B","76C19B32-F0C8-11CF-87CC-0020AFEECF20","76C19B35-F0C8-11CF-87CC-0020AFEECF20","CC2A9BA0-3BDD-11D0-821E-444553540000","3BF42070-B3B1-11D1-B5C5-0000F8051515","10072CEC-8CC1-11D1-986E-00A0C955B42F","76C19B37-F0C8-11CF-87CC-0020AFEECF20","08B0E5C0-4FCB-11CF-AAA5-00401C608500","4F645220-306D-11D2-995D-00C04F98BBC9","73FA19D0-2D75-11D2-995D-00C04F98BBC9"]}function Mozilla_FingerPrint(){}function Opera_FingerPrint(){}function Timer(){this.startTime=(new Date).getTime()}function getRandomPort(){return Math.floor(6e4*Math.random()+4e3)}function BlackberryLocationCollector(){var a=this,b=null;this.getGeolocationWatchId=function(){return b};var c=null;this.getGeolocationLastPosition=function(){return c};var d=4;this.getGeolocationStatusCode=function(){return d};var e="";this.getGeolocationErrorMessage=function(){return e};var f={aidMode:2,timeout:180,relevancy:120,expiration:48,alertDebug:!1},g=-1,h=0;this.getInvokeCount=function(){return h},this.handleBlackBerryLocationTimeout=function(){-1!=g&&(a.stopWatch(),d=3,0===h&&0!==f.aidMode&&(h++,a.startLocationWatch()))},this.handlePosition=function(){clearTimeout(g),g=-1;var b=!1;if(0===blackberry.location.latitude&&0===blackberry.location.longitude)f.alertDebug&&alert("Got empty position"),null===c&&(d=2);else{var e=null;e=blackberry.location.timestamp?getTimestampInMillis(blackberry.location.timestamp):(new Date).getTime();var i=(new Date).getTime();if(i-e<=60*f.expiration*60*1e3)if(null===c||e>c.timestamp){var j=null===c?0:c.timestamp;f.alertDebug&&alert("Saved new position. New timestamp: "+e+" Old: "+j),c={timestamp:e,coords:{latitude:blackberry.location.latitude,longitude:blackberry.location.longitude}},d=0}else f.alertDebug&&alert("New position is not saved. New timestamp: "+e+" Old: "+c.timestamp);else f.alertDebug&&alert("New position is not saved. It is expired: "+1e3*(i-e)*60*60+" hours old")}if(null!==c){var i=(new Date).getTime();b=i-c.timestamp<1e3*f.relevancy}a.stopWatch(),f.alertDebug&&alert("Relevant position? "+b),(0===h&&0!==f.aidMode||!b)&&(h++,a.startLocationWatch())},this.init=function(a,b,c,d){a>=0&&2>=a&&(f.aidMode=a),null!==b&&b>=90&&300>=b&&(f.timeout=b),null!==c&&c>=60&&240>=c&&(f.relevancy=c),null!==d&&d>=24&&60>=d&&(f.expiration=d)},this.startLocationWatch=function(){0===h?blackberry.location.setAidMode(0):blackberry.location.setAidMode(f.aidMode);var c=1e3*f.timeout;return g=setTimeout("geoLocator.handleBlackBerryLocationTimeout()",c),blackberry.location.onLocationUpdate(a.handlePosition),blackberry.location.refreshLocation(),b=1,!0},this.stopWatch=function(){try{blackberry.location.removeLocationUpdate(a.handlePosition)}catch(c){}b=-2},this.generateGeolocationJSONStruct=function(){var a=null;if(null!==c){var b=convertTimestampToGMT(c.timestamp);a={GeoLocationInfo:[{Status:d,Longitude:c.coords.longitude,Latitude:c.coords.latitude,Timestamp:b}]}}else a={GeoLocationInfo:[{Status:d}]};return JSON.stringify(a)}}function detectFields(){var a,b,c="form",d="input",e=document.getElementsByTagName("form"),f=e.length,g=[];g.push("url="+window.location.href);for(var h=0;f>h;h++){g.push(c+"="+e[h].name),a=e[h].getElementsByTagName("input"),b=a.length;for(var i=0;b>i;i++)"hidden"!=a[i].type&&g.push(d+"="+a[i].name)}var j=g.join("|");return j}function FingerPrint(){var a="3.5.0_1",b=new Hashtable;b.put("npnul32","def"),b.put("npqtplugin6","qt6"),b.put("npqtplugin5","qt5"),b.put("npqtplugin4","qt4"),b.put("npqtplugin3","qt3"),b.put("npqtplugin2","qt2"),b.put("npqtplugin","qt1"),b.put("nppdf32","pdf"),b.put("NPSWF32","swf"),b.put("NPJava11","j11"),b.put("NPJava12","j12"),b.put("NPJava13","j13"),b.put("NPJava32","j32"),b.put("NPJava14","j14"),b.put("npoji600","j61"),b.put("NPJava131_16","j16"),b.put("NPOFFICE","mso"),b.put("npdsplay","wpm"),b.put("npwmsdrm","drm"),b.put("npdrmv2","drn"),b.put("nprjplug","rjl"),b.put("nppl3260","rpl"),b.put("nprpjplug","rpv"),b.put("npchime","chm"),b.put("npCortona","cor"),b.put("np32dsw","dsw"),b.put("np32asw","asw"),this.deviceprint_version=function(){return a},this.deviceprint_browser=function(){var a=navigator.userAgent.toLowerCase(),b=a+SEP+navigator.appVersion+SEP+navigator.platform;return b},this.deviceprint_software=function(){var a="",c=!0,d="",e="",f=navigator.plugins,g=navigator.mimeTypes;if(f.length>0){var h="",j="Plugins",k=f.length;for(i=0;i<k;i++)plugin=f[i],h=stripFullPath(plugin.filename,j,"."),c===!0?(e=b.containsKey(h),e?(d+=b.get(h),c=!1):(d="",c=!1)):(e=b.containsKey(h),d+=e?SEP+b.get(h):"");a=stripIllegalChars(d)}else if(g.length>0)for(e="",i=0;i<g.length;i++)mimeType=g[i],c===!0?(e=b.containsKey(mimeType),e?(a+=b.get(mimeType)+PAIR+mimeType,c=!1):(a+="unknown"+PAIR+mimeType,c=!1)):(e=b.containsKey(mimeType),e?a+=SEP+b.get(mimeType)+PAIR+mimeType:d+="");return a},this.deviceprint_display=function(){var a="";return self.screen&&(a+=screen.colorDepth+SEP+screen.width+SEP+screen.height+SEP+screen.availHeight),a},this.deviceprint_all_software=function(){var a="",b=!0,c=navigator.plugins,d=c.length;if(d>0){var e="",f="";for(i=0;i<d;i++){var g=c[i];f=g.filename,f=stripFullPath(f,"Plugins","."),b===!0?(e+=f,b=!1):e+=SEP+f}a=stripIllegalChars(e)}return a},this.deviceprint_timezone=function(){var a=(new Date).getTimezoneOffset()/60*-1,b=new Date;return b.deviceprint_dst()&&a--,a},Date.prototype.deviceprint_stdTimezoneOffset=function(){var a=new Date(this.getFullYear(),0,1),b=new Date(this.getFullYear(),6,1);return Math.max(a.getTimezoneOffset(),b.getTimezoneOffset())},Date.prototype.deviceprint_dst=function(){return this.getTimezoneOffset()<this.deviceprint_stdTimezoneOffset()},this.deviceprint_language=function(){var a,b=navigator.language,c=navigator.browserLanguage,d=navigator.systemLanguage,e=navigator.userLanguage;return a="undefined"!=typeof b?"lang"+PAIR+b+SEP:"undefined"!=typeof c?"lang"+PAIR+c+SEP:"lang"+PAIR+SEP,a+="undefined"!=typeof d?"syslang"+PAIR+d+SEP:"syslang"+PAIR+SEP,a+="undefined"!=typeof e?"userlang"+PAIR+e:"userlang"+PAIR},this.deviceprint_java=function(){var a=navigator.javaEnabled()?1:0;return a},this.deviceprint_cookie=function(){var a=navigator.cookieEnabled?1:0;return"undefined"!=typeof navigator.cookieEnabled||a||(document.cookie="testcookie",a=-1!==document.cookie.indexOf("testcookie")?1:0),a},this.deviceprint_appName=function(){var a=navigator.appName;return"undefined"!=typeof a?a:""},this.deviceprint_appCodeName=function(){var a=navigator.appCodeName;return"undefined"!=typeof a?a:""},this.deviceprint_online=function(){var a=navigator.onLine;return"undefined"!=typeof a?a:""},this.deviceprint_opsProfile=function(){var a=navigator.opsProfile;return"undefined"!=typeof a&&null!==a?a:""},this.deviceprint_userProfile=function(){var a=navigator.userProfile;return"undefined"!=typeof a&&null!==a?a:""},this.deviceprint_screen_availWidth=function(){var a=screen.availWidth;return"undefined"!=typeof a?a:""},this.deviceprint_screen_pixelDepth=function(){var a=screen.pixelDepth;return"undefined"!=typeof a?a:""},this.deviceprint_screen_bufferDepth=function(){var a=screen.bufferDepth;return"undefined"!=typeof a?a:""},this.deviceprint_screen_deviceXDPI=function(){var a=screen.deviceXDPI;return"undefined"!=typeof a?a:""},this.deviceprint_screen_deviceYDPI=function(){var a=screen.deviceYDPI;return"undefined"!=typeof a?a:""},this.deviceprint_screen_logicalXDPI=function(){var a=screen.logicalXDPI;return"undefined"!=typeof a?a:""},this.deviceprint_screen_logicalYDPI=function(){var a=screen.logicalYDPI;return"undefined"!=typeof a?a:""},this.deviceprint_screen_fontSmoothingEnabled=function(){var a=screen.fontSmoothingEnabled;return"undefined"!=typeof a?a:""},this.deviceprint_screen_updateInterval=function(){var a=screen.updateInterval;return"undefined"!=typeof a?a:""},this.deviceprint_ping_in=function(){return ProxyCollector&&ProxyCollector.internalPingTime?ProxyCollector.internalPingTime:""},this.deviceprint_ping_ex=function(){return ProxyCollector&&ProxyCollector.externalPingTime?ProxyCollector.externalPingTime:""}}function urlEncode(a){var b=encodeURIComponent(a).replace(/\~/g,"%7E").replace(/\!/g,"%21").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\'/g,"%27").replace(/\-/g,"%2D").replace(/\_/g,"%5F").replace(/\./g,"%2E");return b}function encode_deviceprint(){var a=add_deviceprint();return urlEncode(a)}function decode_deviceprint(){var a=encode_deviceprint;return decodeURIComponent(urlEncode(a))}function post_deviceprint(){return document.forms[0].pm_fp.value=encode_deviceprint(),!0}function post_fingerprints(a){a.deviceprint.value=encode_deviceprint()}function add_deviceprint(){BrowserDetect.init();var a;switch(BrowserDetect.browser){case"Explorer":a=new IE_FingerPrint;break;case"Firefox":a=new Mozilla_FingerPrint;break;case"Opera":a=new Opera_FingerPrint;break;default:a=new FingerPrint}var b="version="+a.deviceprint_version()+"&pm_fpua="+a.deviceprint_browser()+"&pm_fpsc="+a.deviceprint_display()+"&pm_fpsw="+a.deviceprint_software()+"&pm_fptz="+a.deviceprint_timezone()+"&pm_fpln="+a.deviceprint_language()+"&pm_fpjv="+a.deviceprint_java()+"&pm_fpco="+a.deviceprint_cookie();return b=b+"&pm_fpasw="+a.deviceprint_all_software(),b=b+"&pm_fpan="+a.deviceprint_appName()+"&pm_fpacn="+a.deviceprint_appCodeName()+"&pm_fpol="+a.deviceprint_online()+"&pm_fposp="+a.deviceprint_opsProfile()+"&pm_fpup="+a.deviceprint_userProfile()+"&pm_fpsaw="+a.deviceprint_screen_availWidth()+"&pm_fpspd="+a.deviceprint_screen_pixelDepth()+"&pm_fpsbd="+a.deviceprint_screen_bufferDepth()+"&pm_fpsdx="+a.deviceprint_screen_deviceXDPI()+"&pm_fpsdy="+a.deviceprint_screen_deviceYDPI()+"&pm_fpslx="+a.deviceprint_screen_logicalXDPI()+"&pm_fpsly="+a.deviceprint_screen_logicalYDPI()+"&pm_fpsfse="+a.deviceprint_screen_fontSmoothingEnabled()+"&pm_fpsui="+a.deviceprint_screen_updateInterval(),b=b+"&pm_os="+BrowserDetect.OS+"&pm_brmjv="+parseInt(BrowserDetect.version,10)+"&pm_br="+BrowserDetect.browser,b=b+"&pm_inpt="+a.deviceprint_ping_in()+"&pm_expt="+a.deviceprint_ping_ex()}function form_add_data(a,b,c){return a&&a.length>0?a+="&":a="",a+=b+"="+escape(c.toString())}function form_add_deviceprint(a,b,c){return a=form_add_data(a,b+"d",c)}function detectDeviceCollectionAPIMode(){return typeof navigator.geolocation!=UNDEFINED?HTML5:typeof window.blackberry!=UNDEFINED&&blackberry.location.GPSSupported?BLACKBERRY:UNDEFINED}function init(a,b,c,d,e){var f=detectDeviceCollectionAPIMode();return f==HTML5?(geoLocator=new HTML5LocationCollector,geoLocator.init(a,b,c,d),!0):f==BLACKBERRY?(geoLocator=new BlackberryLocationCollector,geoLocator.init(e,b,c,d),!0):!1}function startCollection(a,b,c,d,e){return geoLocatorStatus=init(a,b,c,d,e),geoLocatorStatus?geoLocator.startLocationWatch():!1}function stopCollection(){geoLocatorStatus&&geoLocator.stopWatch()}function getGeolocationStruct(){return geoLocatorStatus?geoLocator.generateGeolocationJSONStruct():GEO_LOCATION_DEFAULT_STRUCT}function HTML5LocationCollector(){var a=this,b=-1;this.getGeolocationWatchId=function(){return b};var c=null;this.getGeolocationLastPosition=function(){return c};var d=4;this.getGeolocationStatusCode=function(){return d};var e="";this.getGeolocationErrorMessage=function(){return e};var f={accuracy:100,timeout:180,relevancy:120,expiration:48};this.getGeolocationConfig=function(){return f},this.startLocationWatch=function(){var a={enableHighAccuracy:!0,timeout:1e3*f.timeout,maximumAge:f.expiration};return navigator.geolocation?(b=navigator.geolocation.watchPosition(this.handlePosition,this.handleError,a),!0):(d=4,!1)},this.init=function(a,b,c,d){null!==a&&a>=0&&200>=a&&(f.accuracy=a),null!==b&&b>=90&&300>=b&&(f.timeout=b),null!==c&&c>=60&&240>=c&&(f.relevancy=c),null!==d&&d>=24&&60>=d&&(f.expiration=d)},this.handlePosition=function(b){var e=(new Date).getTime(),g=getTimestampInMillis(b.timestamp);if(e-g<=60*f.expiration*60*1e3&&(null===c||b.timestamp>c.timestamp||b.coords.accuracy<c.coords.accuracy)&&(c=b,d=0),null!==c){var h=e-c.timestamp;h<=1e3*f.relevancy&&c.coords.accuracy<=f.accuracy&&a.stopWatch()}},this.generateGeolocationJSONStruct=function(){var a=null;if(null!==c){var b=convertTimestampToGMT(c.timestamp);a={GeoLocationInfo:[{Status:d,Longitude:c.coords.longitude,Latitude:c.coords.latitude,Altitude:Math.round(c.coords.altitude),HorizontalAccuracy:Math.round(c.coords.accuracy),AltitudeAccuracy:Math.round(c.coords.altitudeAccuracy),Heading:Math.round(c.coords.heading),Speed:Math.round(c.coords.speed),Timestamp:b}]}}else a={GeoLocationInfo:[{Status:d}]};return JSON.stringify(a)},this.handleError=function(b){switch(b.code){case b.TIMEOUT:a.stopWatch(),d=3;break;case b.POSITION_UNAVAILABLE:d=2,e=b.message;break;case b.PERMISSION_DENIED:d=1;break;case b.UNKNOWN_ERROR:d=2,e=b.message}},this.stopWatch=function(){navigator.geolocation.clearWatch(b),b=-2}}function UIEvent(){var a=this===window?{}:this;a.index=function(b){return 0===arguments.length?a._index:void(a._index=arguments[0])},a.offset=function(b){return 0===arguments.length?a._offset:void(a._offset=arguments[0])},a.type=function(b){return 0===arguments.length?a._type:void(a._type=arguments[0])},a.serialize=function(){var b=",",c="0";return a.index()+b+a.type()+b+c},a.toString=function(){return"UIEvent: [index: "+a.index()+", type: "+a.type()+", offset: "+a.offset()+"]"}}function InteractionElement(){var a=this===window?{}:this;a._eventCount=0,a.id=function(b){return 0===arguments.length?a._id:void(a._id=arguments[0])},a.index=function(b){return 0===arguments.length?a._index:void(a._index=arguments[0])},a.length=function(b){return 0===arguments.length?a._length:void(a._length=arguments[0])},a.type=function(b){return 0===arguments.length?a._type:void(a._type=arguments[0])},a.incrementEventCount=function(){a._eventCount++},a.eventCount=function(){return a._eventCount},a.serialize=function(){var b=",",c=a.index();return a.index()+b+c+b+a.type()+b+a.length()},a.toString=function(){return"InteractionElement: [id: "+a.id()+", index: "+a.index()+", length: "+a.length()+", type: "+a.type()+"]"}}function UIElementList(){var a=this===window?{}:this,b=new Hashtable,c=new Hashtable;a.get=function(a){return b.get(a)},a.getByIndex=function(a){return c.get(a)},a.containsKey=function(a){return b.containsKey(a)},a.indexByKey=function(a){return get(a).index()},a.size=function(){return b.size()},a.put=function(a){var d=a.id();if(!b.containsKey(d)){b.put(d,a);var e=b.size();a.index(e),c.put(e,a)}},a.toString=function(){return"[size: "+b.size()+", names: ["+b+"], indexes: ["+c+"]]"}}function activeXDetect(a){var b=null;try{b=document.body.getComponentVersion("{"+a+"}","ComponentID")}catch(c){}return null!==b?b:!1}function stripIllegalChars(a){t="",a=a.toLowerCase();for(var b=a.length,c=0;b>c;c++){var d=a.charAt(c);"\n"!=d&&"/"!=d&&"\\"!=d?t+=d:"\n"==d&&(t+="n")}return t}function stripFullPath(a,b,c){var d=b,e=c,f=a,g=f.lastIndexOf(d);g>=0&&(filenameLen=f.length,f=f.substring(g+d.length,filenameLen));var h=f.indexOf(e);return h>=0&&(f=f.slice(0,h)),f}function convertTimestampToGMT(a){var b=a;return a instanceof Date||(b=new Date(a)),offsetFromGmt=6e4*b.getTimezoneOffset(),b.getTime()+offsetFromGmt}function getTimestampInMillis(a){var b=a;return a instanceof Date&&(b=a.getTime()),b}function debug(a){}!function(){function c(a){try{if(navigator.plugins&&navigator.plugins.length)for(var b=0;b<navigator.plugins.length;b++){var c=navigator.plugins[b];if(0<=c.name.indexOf(a))return c.name+(c.description?"|"+c.description:"")}}catch(d){}return""}function p(){for(var b=new Date,d=new Date,a=[function(){return"TF1"},function(){return"015"},function(){return ScriptEngineMajorVersion()},function(){return ScriptEngineMinorVersion()},function(){return ScriptEngineBuildVersion()},function(){return e("{7790769C-0471-11D2-AF11-00C04FA35D02}")},function(){return e("{89820200-ECBD-11CF-8B85-00AA005B4340}")},function(){return e("{283807B5-2C60-11D0-A31D-00AA00B92C03}")},function(){return e("{4F216970-C90C-11D1-B5C7-0000F8051515}")},function(){return e("{44BBA848-CC51-11CF-AAFA-00AA00B6015C}")},function(){return e("{9381D8F2-0288-11D0-9501-00AA00B911A5}")},function(){return e("{4F216970-C90C-11D1-B5C7-0000F8051515}")},function(){return e("{5A8D6EE0-3E18-11D0-821E-444553540000}")},function(){return e("{89820200-ECBD-11CF-8B85-00AA005B4383}")},function(){return e("{08B0E5C0-4FCB-11CF-AAA5-00401C608555}")},function(){return e("{45EA75A0-A269-11D1-B5BF-0000F8051515}")},function(){return e("{DE5AED00-A4BF-11D1-9948-00C04F98BBC9}")},function(){return e("{22D6F312-B0F6-11D0-94AB-0080C74C7E95}")},function(){return e("{44BBA842-CC51-11CF-AAFA-00AA00B6015B}")},function(){return e("{3AF36230-A269-11D1-B5BF-0000F8051515}")},function(){return e("{44BBA840-CC51-11CF-AAFA-00AA00B6015C}")},function(){return e("{CC2A9BA0-3BDD-11D0-821E-444553540000}")},function(){return e("{08B0E5C0-4FCB-11CF-AAA5-00401C608500}")},function(){return eval("navigator.appCodeName")},function(){return eval("navigator.appName")},function(){return eval("navigator.appVersion")},function(){return q(["navigator.productSub","navigator.appMinorVersion"])},function(){return eval("navigator.browserLanguage")},function(){return eval("navigator.cookieEnabled")},function(){return q(["navigator.oscpu","navigator.cpuClass"])},function(){return eval("navigator.onLine")},function(){return eval("navigator.platform")},function(){return eval("navigator.systemLanguage")},function(){return eval("navigator.userAgent")},function(){return q(["navigator.language","navigator.userLanguage"])},function(){return eval("document.defaultCharset")},function(){return eval("document.domain")},function(){return eval("screen.deviceXDPI")},function(){return eval("screen.deviceYDPI")},function(){return eval("screen.fontSmoothingEnabled")},function(){return eval("screen.updateInterval")},function(){return 0!==Math.abs(k-m)},function(){return t(b)},function(){return"@UTC@"},function(){var a=0,a=0;return t(b)&&(a=Math.abs(k-m)),a=-(b.getTimezoneOffset()+a)/60},function(){return new Date(2005,5,7,21,33,44,888).toLocaleString()},function(){return eval("screen.width")},function(){return eval("screen.height")},function(){return h.Acrobat},function(){return h.Flash},function(){return h.QuickTime},function(){return h["Java Plug-in"]},function(){return h.Director},function(){return h.Office},function(){return(new Date).getTime()-d.getTime()},function(){return k},function(){return m},function(){return b.toLocaleString()},function(){return eval("screen.colorDepth")},function(){return eval("window.screen.availWidth")},function(){return eval("window.screen.availHeight")},function(){return eval("window.screen.availLeft")},function(){return eval("window.screen.availTop")},function(){return c("Acrobat")},function(){return c("Adobe SVG")},function(){return c("Authorware")},function(){return c("Citrix ICA")},function(){return c("Director")},function(){return c("Flash")},function(){return c("MapGuide")},function(){return c("MetaStream")},function(){return c("PDFViewer")},function(){return c("QuickTime")},function(){return c("RealOne")},function(){return c("RealPlayer Enterprise")},function(){return c("RealPlayer Plugin")},function(){return c("Seagate Software Report")},function(){return c("Silverlight")},function(){return c("Windows Media")},function(){return c("iPIX")},function(){return c("nppdf.so")},function(){var a=document.createElement("span");a.innerHTML="&nbsp;",a.style.position="absolute",a.style.left="-9999px",document.body.appendChild(a);var b=a.offsetHeight;return document.body.removeChild(a),b}],i="Acrobat;Flash;QuickTime;Java Plug-in;Director;Office".split(";"),j=0;j<i.length;j++){var l=i[j],f=h,v=l,g=l,l="";try{if(navigator.plugins&&navigator.plugins.length)for(var u=RegExp(g+".* ([0-9._]+)"),g=0;g<navigator.plugins.length;g++){var o=u.exec(navigator.plugins[g].name);null===o&&(o=u.exec(navigator.plugins[g].description)),o&&(l=o[1])}else if(window.ActiveXObject&&r[g])try{var p=new ActiveXObject(r[g][0]),l=r[g][1](p)}catch(x){l=""}}catch(w){l=w.message}f[v]=l}for(i="",j=0;j<a.length;j++){var n;try{n=a[j](this)}catch(y){n=""}i+=escape(n),i+=";"}var a=i,s;for(n=escape("@UTC@"),i=(new Date).getTime(),"boolean"!=typeof s&&(s=!1),j=!0;0<=(f=a.indexOf(n))&&(s||j);)a=a.substr(0,f)+i+a.substr(f+n.length),j=!1;return a}function t(a){var b=Math.min(k,m);return 0!==Math.abs(k-m)&&a.getTimezoneOffset()===b}function q(b){for(var d=0;d<b.length;d++)try{var a=eval(b[d]);if(a)return a}catch(c){}return""}function e(a){var b="";try{"undefined"!=typeof f.a.getComponentVersion&&(b=f.a.getComponentVersion(a,"ComponentID"))}catch(c){a=c.message.length,b=escape(c.message.substr(0,a>40?40:a))}return b}var f={},k=new Date(2005,0,15).getTimezoneOffset(),m=new Date(2005,6,15).getTimezoneOffset(),h=[],r={Flash:["ShockwaveFlash.ShockwaveFlash",function(a){return a.getVariable("$version")}],Director:["SWCtl.SWCtl",function(a){return a.ShockwaveVersion("")}]};try{f.a=document.createElement("span"),"undefined"!=typeof f.a.addBehavior&&f.a.addBehavior("#default#clientCaps")}catch(x){}h={},f.guesbape=function(a){try{if(!a)return p();var b;a:{var c;try{c=document.getElementById(a)}catch(d){}if(null===c||"undefined"==typeof c)try{c=document.getElementsByName(a)[0]}catch(e){}if(null===c||"undefined"==typeof c)for(var f=0;f<document.forms.length;f++)for(var g=document.forms[f],h=0;h<g.elements.length;h++){var i=g[h];if(i.name===a||i.id===a){b=i;break a}}b=c}if(null!==b)try{b.value=p()}catch(j){b.value=escape(j.message)}}catch(k){}},window.domfural=f}(),!function(a,b){var c=function(){return c.get.apply(c,arguments)},d=c.utils={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isPlainObject:function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},toArray:function(a){return Array.prototype.slice.call(a)},getKeys:Object.keys||function(a){var b=[],c="";for(c in a)a.hasOwnProperty(c)&&b.push(c);return b},encode:function(a){return String(a).replace(/[,;"\\=\s%]/g,function(a){return encodeURIComponent(a)})},decode:function(a){return decodeURIComponent(a)},retrieve:function(a,b){return null==a?b:a}};c.defaults={},c.expiresMultiplier=86400,c.set=function(c,e,f){if(d.isPlainObject(c))for(var g in c)c.hasOwnProperty(g)&&this.set(g,c[g],e);else{f=d.isPlainObject(f)?f:{expires:f};var h=f.expires!==b?f.expires:this.defaults.expires||"",i=typeof h;"string"===i&&""!==h?h=new Date(h):"number"===i&&(h=new Date(+new Date+1e3*this.expiresMultiplier*h)),""!==h&&"toGMTString"in h&&(h=";expires="+h.toGMTString());var j=f.path||this.defaults.path;j=j?";path="+j:"";var k=f.domain||this.defaults.domain;k=k?";domain="+k:"";var l=f.secure||this.defaults.secure?";secure":"";f.secure===!1&&(l=""),a.cookie=d.encode(c)+"="+d.encode(e)+h+j+k+l}return this},c.setDefault=function(a,e,f){if(d.isPlainObject(a)){for(var g in a)this.get(g)===b&&this.set(g,a[g],e);return c}return this.get(a)===b?this.set.apply(this,arguments):void 0},c.remove=function(a){a=d.isArray(a)?a:d.toArray(arguments);for(var b=0,c=a.length;c>b;b++)this.set(a[b],"",-1);return this},c.empty=function(){return this.remove(d.getKeys(this.all()))},c.get=function(a,b){var c=this.all();if(d.isArray(a)){for(var e={},f=0,g=a.length;g>f;f++){var h=a[f];e[h]=d.retrieve(c[h],b)}return e}return d.retrieve(c[a],b)},c.all=function(){if(""===a.cookie)return{};for(var b=a.cookie.split("; "),c={},e=0,f=b.length;f>e;e++){var g=b[e].split("="),h=d.decode(g.shift()),i=d.decode(g.join("="));c[h]=i}return c},c.enabled=function(){if(navigator.cookieEnabled)return!0;var a="_"===c.set("_","_").get("_");return c.remove("_"),a},"function"==typeof define&&define.amd?define(function(){return c}):"undefined"!=typeof exports?exports.cookie=c:window.cookie=c}("undefined"==typeof document?null:document);var Hashtable=function(a){function b(a){return typeof a==o?a:""+a}function c(a){var d;return typeof a==o?a:typeof a.hashCode==n?(d=a.hashCode(),typeof d==o?d:c(d)):b(a)}function d(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}function e(a,b){return a.equals(b)}function f(a,b){return typeof b.equals==n?b.equals(a):a===b}function g(b){return function(c){if(null===c)throw new Error("null is not a valid "+b);if(c===a)throw new Error(b+" must not be undefined")}}function h(a,b,c,d){this[0]=a,this.entries=[],this.addEntry(b,c),null!==d&&(this.getEqualityFunction=function(){return d})}function i(a){return function(b){for(var c,d=this.entries.length,e=this.getEqualityFunction(b);d--;)if(c=this.entries[d],e(b,c[0]))switch(a){case s:return!0;case t:return c;case u:return[d,c[1]]}return!1}}function j(a){return function(b){for(var c=b.length,d=0,e=this.entries,f=e.length;f>d;++d)b[c+d]=e[d][a]}}function k(a,b){for(var c,d=a.length;d--;)if(c=a[d],b===c[0])return d;return null}function l(a,b){var c=a[b];return c&&c instanceof h?c:null}function m(){var b=[],e={},f={replaceDuplicateKey:!0,hashCode:c,equals:null},g=arguments[0],i=arguments[1];i!==a?(f.hashCode=g,f.equals=i):g!==a&&d(f,g);var j=f.hashCode,m=f.equals;this.properties=f,this.put=function(a,c){q(a),r(c);var d,g,i=j(a),k=null;return d=l(e,i),d?(g=d.getEntryForKey(a),g?(f.replaceDuplicateKey&&(g[0]=a),k=g[1],g[1]=c):d.addEntry(a,c)):(d=new h(i,a,c,m),b.push(d),e[i]=d),k},this.get=function(a){q(a);var b=j(a),c=l(e,b);if(c){var d=c.getEntryForKey(a);if(d)return d[1]}return null},this.containsKey=function(a){q(a);var b=j(a),c=l(e,b);return c?c.containsKey(a):!1},this.containsValue=function(a){r(a);for(var c=b.length;c--;)if(b[c].containsValue(a))return!0;return!1},this.clear=function(){b.length=0,e={}},this.isEmpty=function(){return!b.length};var n=function(a){return function(){for(var c=[],d=b.length;d--;)b[d][a](c);return c}};this.keys=n("keys"),this.values=n("values"),this.entries=n("getEntries"),this.remove=function(a){q(a);var c,d=j(a),f=null,g=l(e,d);return g&&(f=g.removeEntryForKey(a),null!==f&&0==g.entries.length&&(c=k(b,d),b.splice(c,1),delete e[d])),f},this.size=function(){for(var a=0,c=b.length;c--;)a+=b[c].entries.length;return a}}var n="function",o="string",p="undefined";if(typeof encodeURIComponent==p||Array.prototype.splice===a||Object.prototype.hasOwnProperty===a)return null;
var q=g("key"),r=g("value"),s=0,t=1,u=2;return h.prototype={getEqualityFunction:function(a){return typeof a.equals==n?e:f},getEntryForKey:i(t),getEntryAndIndexForKey:i(u),removeEntryForKey:function(a){var b=this.getEntryAndIndexForKey(a);return b?(this.entries.splice(b[0],1),b[1]):null},addEntry:function(a,b){this.entries.push([a,b])},keys:j(0),values:j(1),getEntries:function(a){for(var b=a.length,c=0,d=this.entries,e=d.length;e>c;++c)a[b+c]=d[c].slice(0)},containsKey:i(s),containsValue:function(a){for(var b=this.entries,c=b.length;c--;)if(a===b[c][1])return!0;return!1}},m.prototype={each:function(a){for(var b,c=this.entries(),d=c.length;d--;)b=c[d],a(b[0],b[1])},equals:function(a){var b,c,d,e=this.size();if(e==a.size()){for(b=this.keys();e--;)if(c=b[e],d=a.get(c),null===d||d!==this.get(c))return!1;return!0}return!1},putAll:function(a,b){for(var c,d,e,f,g=a.entries(),h=g.length,i=typeof b==n;h--;)c=g[h],d=c[0],e=c[1],i&&(f=this.get(d))&&(e=b(d,f,e)),this.put(d,e)},clone:function(){var a=new m(this.properties);return a.putAll(this),a}},m.prototype.toQueryString=function(){for(var a,c=this.entries(),d=c.length,e=[];d--;)a=c[d],e[d]=encodeURIComponent(b(a[0]))+"="+encodeURIComponent(b(a[1]));return e.join("&")},m}();DomDataCollection.Success=0,DomDataCollection.Fail=1,DomDataCollection.Partial=2,DomDataCollection.NotStarted=3,IE_FingerPrint.prototype=new FingerPrint,Mozilla_FingerPrint.prototype=new FingerPrint,Opera_FingerPrint.prototype=new FingerPrint,Timer.prototype.start=function(){this.startTime=(new Date).getTime()},Timer.prototype.duration=function(){return(new Date).getTime()-this.startTime};var ProxyCollector={};ProxyCollector.internalIP="127.0.0.1",ProxyCollector.externalIP,ProxyCollector.internalPingTime,ProxyCollector.externalPingTime,ProxyCollector.setInternalPingTime=function(a){ProxyCollector.internalPingTime=a},ProxyCollector.setExternalPingTime=function(a){ProxyCollector.externalPingTime=a},ProxyCollector.PROXY_DETECTION_TIMEOUT=5e3,ProxyCollector.TIMEOUT_CHECK_FREQUENCY=1e3,ProxyCollector.isTimedOut=function(a,b,c){_timer=new Timer,b-_timer.duration()<=0&&("undefined"==typeof ProxyCollector.internalPingTime&&new RegExp("internalPingTime").test(a)||"undefined"==typeof ProxyCollector.externalPingTime&&new RegExp("externalPingTime").test(a))?(a.call(this,-1),c.abort()):("undefined"==typeof ProxyCollector.internalPingTime&&new RegExp("internalPingTime").test(a)||"undefined"==typeof ProxyCollector.externalPingTime&&new RegExp("externalPingTime").test(a))&&setTimeout(function(){ProxyCollector.isTimedOut(a,b-(_timer.duration()+ProxyCollector.TIMEOUT_CHECK_FREQUENCY),c)},ProxyCollector.TIMEOUT_CHECK_FREQUENCY)},ProxyCollector.doAjax=function(a,b){var c,d,e=document.location.protocol+"//"+a+":"+getRandomPort()+"/NonExistentImage"+getRandomPort()+".gif";if(window.XDomainRequest){c=new window.XDomainRequest,d=new Timer;try{c.timeout=ProxyCollector.PROXY_DETECTION_TIMEOUT,c.ontimeout=function(){b.call(this,-1),c.abort()},c.onprogress=function(){b.call(this,d.duration()),c.abort()},c.onerror=function(){b.call(this,d.duration()),c.abort()},c.open("GET",e,!0),c.send()}catch(f){ProxyCollector.doAjaxViaImage(b,e)}}else{c=new XMLHttpRequest;var g="ontimeout"in c;d=new Timer;try{c.onreadystatechange=function(){4==c.readyState&&("undefined"==typeof ProxyCollector.internalPingTime&&new RegExp("internalPingTime").test(b)||"undefined"==typeof ProxyCollector.externalPingTime&&new RegExp("externalPingTime").test(b))&&b.call(this,d.duration())},c.timeout=ProxyCollector.PROXY_DETECTION_TIMEOUT,c.ontimeout=function(){b.call(this,-1),c.abort()},c.open("GET",e,!0),c.send(),g||ProxyCollector.isTimedOut(b,ProxyCollector.PROXY_DETECTION_TIMEOUT-d.duration(),c)}catch(f){ProxyCollector.doAjaxViaImage(b,e)}}},ProxyCollector.doAjaxViaImage=function(a,b){var c=new Image,d=new Timer;c.onerror=function(){a.call(this,d.duration())},c.src=b},ProxyCollector.collect=function(){ProxyCollector.doAjax(ProxyCollector.externalIP,ProxyCollector.setExternalPingTime),"object"==typeof XDomainRequest?ProxyCollector.externalPingTime||forceIE89Synchronicity():ProxyCollector.doAjax(ProxyCollector.internalIP,ProxyCollector.setInternalPingTime)},forceIE89Synchronicity=function(){ProxyCollector.externalPingTime?ProxyCollector.doAjax(ProxyCollector.internalIP,ProxyCollector.setInternalPingTime):setTimeout(forceIE89Synchronicity,100)},ProxyCollector.isValidIPAddress=function(a){var b=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;if(b.test(a)){var c=a.split(".");if(0==parseInt(parseFloat(c[0])))return!1;for(var d=0;d<c.length;d++)if(parseInt(parseFloat(c[d]))>255)return!1;return!0}return!1},ProxyCollector.initProxyCollection=function(){ProxyCollector.isValidIPAddress(ProxyCollector.externalIP)&&ProxyCollector.isValidIPAddress(ProxyCollector.internalIP)&&ProxyCollector.collect()};var SEP="|",PAIR="=",DEV="~",HTML5="HTML5",BLACKBERRY="blackberry",UNDEFINED="undefined",GEO_LOCATION_DEFAULT_STRUCT='{"GeoLocationInfo":[{"Status":4}]}',geoLocator=null,geoLocatorStatus=!1,TimestampCollector=function(){var a,b,c,d,e=1,f="";window.onfocus=function(){b=!0},window.onblur=function(){b=!1};var g=function(){for(;;)if(0==(new Date).getUTCMilliseconds())return},h=function(){var d=a;g();var e=new Date;if(e.getSeconds()%d==0){var f=k(e,b,c());return void j(f)}},i=function(b,e,g){f=encode_deviceprint(),a=g,c=b,d=e,1!=a&&2!=a&&5!=a&&10!=a&&(a=5),setInterval(h,995)},j=function(a){if(a&&a.userLoginName){if(window.XMLHttpRequest&&window.JSON){var b=new XMLHttpRequest;b.open("POST",d),0!=e&&(e=2),b.setRequestHeader("Content-Type","application/json"),b.send(JSON.stringify(a)),b.onloadend=function(){204==b.status?e=0:0!=e&&(e=3),"undefined"!=typeof debugCollection&&debugCollection&&(console.log(JSON.stringify(a)),console.log("browserEvent returned with status code:"+e))}}}else"undefined"!=typeof debugCollection&&debugCollection&&console.log("User did not provide any user login name, reporting aborted.")},k=function(a,b,c){var d={};return d.deviceId=f,d.jsTime=a,d.userLoginName=c,d.url=window.location.href,d.activeWindow=b,d},l=function(){return e};return{startEventReporting:i,actualRestSending:j,getStatus:l}}(),UIEventCollector=function(){function a(a){if(w={output_size_limit:1024,collection_mode:"partial"},a)for(p in a)if(void 0!==p._config){for(var b=!1,c=x.length-1;c>=0;c--)x[c]!=p||(found=!0);b||(w[p]=a[p])}v=!1,u=e(),t={elements:new UIElementList,events:[],collection_status:0,toString:function(){return"RecordedData: {elements: "+this.elements+", events: "+this.events+"}"}},n()}function b(){for(var a=c(),b=0,d=a.length;d>b;b++)f(a[b])}function c(){for(var a=[],b=document.getElementsByTagName("input"),c=0,e=b.length;e>c;c++){var f=b[c];d(f)&&a.push(f)}return a}function d(a){if(a.tagName&&"input"==a.tagName.toLowerCase()){var b=a.getAttribute("type");if("text"==b||"checkbox"==b||"checkbox"==b)return!0}return!1}function e(){var a=document.createEvent?document.createEvent("Event"):document.createEventObject(),b=a.timeStamp||new Date;return b=new Date(b),b.getYear()>2100&&(b=new Date(b/1e3)),b=b.getTime()}function f(a){var b=null,c=t.elements,d=(c.size(),s(a));return t.elements.containsKey(d)?b=c.get(d):(b=new InteractionElement,b.id(d),b.type(r(a)),b.length(a.value?a.value.length:0),c.put(b)),b}function g(a){var b=a||window.event,c=j(b);if(d(c)){var e=f(c);e.incrementEventCount();var g=new UIEvent;g.index(e.index()),g.type(o(b));var h=k(b);g.offset(h-u),t.events.push(g)}return!0}function h(a){var b=a||window.event;if(i(b)){var c={target:j(b),type:"paste"};return g(c)}return g(b)}function i(a){if("keydown"==a.type){var b=a.which||a.charCode||a.keyCode,c="undefined"!=typeof KeyboardEvent&&b==KeyboardEvent.DOM_VK_V||118==b||86==b;if(c&&(a.ctrlKey||a.metaKey))return!0}return!1}function j(a){return a.target?a.target:a.srcElement}function k(a){var b;return a.timeStamp&&0!==a.timeStamp?(b=a.timeStamp,new Date(b).getYear()>2100&&(b/=1e3)):b=(new Date).getTime(),b}function l(a){}function m(){b();for(var a=t.elements,c=a.size();c>=1;c--){var d=a.getByIndex(c),e=d.id(),f=document.getElementById(e);if(!f){var g=document.getElementsByName(e);g.length>0&&(f=g[0])}f&&f.value&&d.length(f.value.length)}}function n(){var a=g,b=document;b.addEventListener?(b.addEventListener("keydown",h,!1),b.addEventListener("paste",a,!1),b.addEventListener("focus",a,!0),b.addEventListener("blur",a,!0)):b.attachEvent&&(b.onkeydown=h,b.onfocusin=a,b.onfocusout=a)}function o(a){return"keydown"==a.type?UIEvent.KeyDown:"submit"==a.type?UIEvent.Submit:"paste"==a.type?UIEvent.Paste:"focus"==a.type||"focusin"==a.type?UIEvent.Focus:"blur"==a.type||"focusout"==a.type?UIEvent.Blur:UIEvent.Unknown}function q(a){return a==UIEvent.KeyDown?"keydown":a==UIEvent.Submit?"submit":a==UIEvent.Focus?"focus":a==UIEvent.Blur?"blur":a==UIEvent.Paste?"paste":"unknown"}function r(a){return a.nodeName+(a.type?":"+a.type:"")}function s(a){return a.id?a.id:a.name?a.name:a.nodeName}var t=null,u=null,v=null,w=null,x=["output_size_limit"];return a(),n(),{addElement:function(a){return f(a)},getEventType:function(a){return o(a)},getEventCode:function(a){return q(a)},getRecordedData:function(){return t},getElementType:function(a){return r(a)},getElementId:function(a){return s(a)},initEventCollection:function(b){a(b)},getConfig:function(){return w},serialize:function(){m();for(var a=this.getRecordedData(),b=a.elements,c=TimestampCollector.getStatus(),d=[],e=0;e<b.length;e++)d[e]=!1;var f=a.events,g=a.collection_status,h="partial"==this.getConfig().collection_mode,i=this.getConfig().output_size_limit,j=f.length,k="@",n=";",o=",",p=2*k.length,q=""+u+o+(""+g)+o+(""+c),r=1;p+=r,p+=o.length,p+=q.length;var s="";l("serializing elements ");for(var t=b.size();t>0;t--){var w=b.getByIndex(t),x=w.serialize()+n;if(l("elementsStr.length: "+s.length),h&&p+s.length+x.length>i){v=!0;break}var y=w.type().match("INPUT:checkbox");null==y&&w.length()>0&&0==w.eventCount()&&(l("collecting element without input: "+w),s=x+s)}p+=s.length;var z="";for(l("serializing events ");j--;){var A=f[j],B=A.index(),C=A.serialize()+n,x=b.getByIndex(B).serialize()+n,D=C.length;if(d[B]||(D+=x.length),l("eventsStr.length: "+z.length),h&&p+z.length+D>i){v=!0;break}l("collecting event: "+A),d[B]||(s=x+s,p+=x.length,l("also adding element event: "+x)),d[B]=!0,z=C+z}s.length>0&&(s=s.substring(0,s.length-1)),z.length>0&&(z=z.substring(0,z.length-1));var E=v?1:0,F=s+k+z+k+E+o+q;return F}}}();UIEvent.Unknown=0,UIEvent.KeyDown=1,UIEvent.Submit=2,UIEvent.Focus=3,UIEvent.Blur=4,UIEvent.Paste=5;var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"an unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(a){for(var b=a.length,c=0;b>c;c++){var d=a[c],e=d.string,f=d.prop,g=d.identity;if(this.versionSearchString=d.versionSearch||g,e){if(-1!==e.toLowerCase().indexOf(d.subString.toLowerCase()))return g}else if(f)return g}},searchVersion:function(a){var b=a.toLowerCase().indexOf(this.versionSearchString.toLowerCase());if(-1!==b){var c=a.substring(b+this.versionSearchString.length);return(0===c.indexOf(" ")||0===c.indexOf("/")||0===c.indexOf(":"))&&(c=c.substring(1)),parseFloat(c)}},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.userAgent.toLowerCase(),subString:"opera",identity:"Opera",versionSearch:"version"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{string:navigator.userAgent,subString:"mobile safari",identity:"Mobile Safari",versionSearch:"mobile safari"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent.toLocaleLowerCase(),subString:"blackberry",identity:"BlackBerry",versionSearch:"0/"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer",versionSearch:"rv"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.userAgent,subString:"BlackBerry",identity:"BlackBerry"},{string:navigator.userAgent.toLowerCase(),subString:"android",identity:"Android"},{string:navigator.userAgent,subString:"Symbian",identity:"Symbian"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"},{string:navigator.userAgent,subString:"Windows CE",identity:"Windows CE"},{string:navigator.platform,subString:"Win",identity:"Windows"}]};